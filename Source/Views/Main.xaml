<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                    xmlns:s="clr-namespace:System;assembly=mscorlib"
                    xmlns:p="clr-namespace:Playnite;assembly=Playnite"
                    xmlns:pbeh="clr-namespace:Playnite.Behaviors;assembly=Playnite"
                    xmlns:ctrl="clr-namespace:Playnite.FullscreenApp.Controls;assembly=Playnite.FullscreenApp"
                    xmlns:pin="clr-namespace:Playnite.Input;assembly=Playnite"
                    xmlns:i="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity"
                    xmlns:prism="clr-namespace:Prism.Interactivity;assembly=Prism.Wpf"
                    xmlns:Behaviors="clr-namespace:Microsoft.Xaml.Behaviors;assembly=Microsoft.Xaml.Behaviors"
                    xmlns:BehaviorsCore="clr-namespace:Microsoft.Xaml.Behaviors.Core;assembly=Microsoft.Xaml.Behaviors"
                    xmlns:BehaviorsMedia="clr-namespace:Microsoft.Xaml.Behaviors.Media;assembly=Microsoft.Xaml.Behaviors"
                    xmlns:playnite="clr-namespace:Playnite;assembly=Playnite"
                    mc:Ignorable="d">

    <!-- Wrong Message -->
    <Style x:Key="WrongSettingStyle" TargetType="ContentControl">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ContentControl">
                    <Border x:Name="WrongSettingScreen"
                            CacheMode="BitmapCache"
                            Background="{DynamicResource OverlayMenu}"
                            Width="1200"
                            Height="600"
                            CornerRadius="5"
                            BorderThickness="5"
                            BorderBrush="DarkRed"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center">

                        <Border.Style>
                            <Style TargetType="Border">
                                <Setter Property="Visibility" Value="Visible" />
                                <Style.Triggers>

                                </Style.Triggers>
                            </Style>
                        </Border.Style>
                        <Grid>
                            <Border Background="DarkRed" HorizontalAlignment="Stretch" Height="60" VerticalAlignment="Top">
                                <TextBlock Text="{DynamicResource LOCWrongSetting}"
                                           Style="{DynamicResource TextBlockBaseStyle}"
                                           FontSize="38"
                                           Foreground="WhiteSmoke"
                                           HorizontalAlignment="Center"
                                           VerticalAlignment="Center"
                                           Typography.Capitals="AllSmallCaps" />
                            </Border>

                            <StackPanel Margin="10,80,10,0"
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Top"
                                        Orientation="Vertical">

                                <TextBlock
                                    Margin="0,10,0,0"
                                    TextAlignment="Center"
                                    TextWrapping="Wrap"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Top"
                                    FontSize="32"
                                    Style="{DynamicResource TextBlockBaseStyle}"
                                    Opacity="0.7"
                                    Text="{DynamicResource LOCWrongSettingText1}" />

                                <!-- Separator -->
                                <Line Grid.Row="2"
                                      X1="0" X2="1"
                                      Stretch="Fill"
                                      Stroke="{DynamicResource TextBrush}"
                                      Opacity="0.2"
                                      Margin="20,20,20,0" />

                                <TextBlock
                                    Margin="0,60,0,0"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Bottom"
                                    FontSize="30"
                                    Opacity="1"
                                    TextAlignment="Center" >
                                    <TextBlock.Style>
                                        <Style TargetType="TextBlock" BasedOn="{StaticResource TextBlockBaseStyle}">
                                            <Setter Property="Text" Value="{DynamicResource LOCWrongSettingTextBottom}" />
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Settings CoverAspectRatio}" Value="1:1">
                                                    <Setter Property="Text" Value="{DynamicResource LOCWrongSettingTextBottom2}" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Settings CoverAspectRatio}" Value="92:43">
                                                    <Setter Property="Text" Value="{DynamicResource LOCWrongSettingTextBottom3}" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </TextBlock.Style>
                                </TextBlock>

                                <TextBlock  x:Name="Arrow"
                                           Margin="0,0,0,10"
                                           HorizontalAlignment="Center"
                                           FontFamily="{DynamicResource FontIcoFont}"
                                           FontSize="55"
                                           Text="&#xea5b;">
                                    <TextBlock.Style>
                                        <Style TargetType="TextBlock" BasedOn="{StaticResource TextBlockBaseStyle}">
                                            <Style.Triggers>
                                                <Trigger Property="Visibility" Value="Visible">
                                                    <Trigger.EnterActions>
                                                        <BeginStoryboard x:Name="PulseSB">
                                                            <Storyboard RepeatBehavior="Forever" AutoReverse="True">
                                                                <DoubleAnimation Storyboard.TargetProperty="Opacity" From="1" To="0.3" Duration="0:0:0.8"/>
                                                            </Storyboard>
                                                        </BeginStoryboard>
                                                    </Trigger.EnterActions>
                                                </Trigger>
                                                <Trigger Property="Visibility" Value="Collapsed">
                                                    <Trigger.ExitActions>
                                                        <StopStoryboard BeginStoryboardName="PulseSB"/>
                                                    </Trigger.ExitActions>
                                                </Trigger>
                                            </Style.Triggers>
                                        </Style>
                                    </TextBlock.Style>
                                </TextBlock>

                                <Grid Margin="20,10,20,0"
                                      HorizontalAlignment="Center"
                                      VerticalAlignment="Top"
                                      IsSharedSizeScope="True"
                                      KeyboardNavigation.DirectionalNavigation="Contained"
                                      KeyboardNavigation.TabNavigation="Contained"
                                      KeyboardNavigation.ControlTabNavigation="Contained">

                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>

                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="30" />
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>

                                    <StackPanel Grid.Row="0" Grid.Column="0" Orientation="Horizontal">
                                        <TextBlock  Margin="20,0,20,0"
                                                   VerticalAlignment="Center"
                                                   Style="{DynamicResource TextBlockBaseStyle}"
                                                   FontSize="30"
                                                   Text="{DynamicResource LOCSettingsFullscreenColumns}" />

                                        <TextBlock  Margin="0,0,20,0"
                                                   VerticalAlignment="Center"
                                                   Style="{DynamicResource TextBlockBaseStyle}"
                                                   FontSize="30"
                                                   Text="{Settings Fullscreen.Columns}" />

                                        <SliderEx x:Name="Slider"
                                                  VerticalAlignment="Center"
                                                  pbeh:FocusBahaviors.OnVisibilityFocus="True"
                                                  pbeh:FocusBahaviors.FocusBinding="True"
                                                  Focusable="True"
                                                  IsSnapToTickEnabled="True"
                                                  TickFrequency="1"
                                                  Minimum="1"
                                                  Maximum="10"
                                                  Style="{DynamicResource SettingsSectionSlider}"
                                                  Value="{Settings Fullscreen.Columns, Mode=TwoWay}" />
                                    </StackPanel>

                                    <StackPanel Grid.Row="1" Grid.Column="0" Orientation="Horizontal" Margin="0,10,0,0">

                                        <TextBlock  Margin="20,0,20,0"
                                                   VerticalAlignment="Center"
                                                   Style="{DynamicResource TextBlockBaseStyle}"
                                                   FontSize="30"
                                                   Text="{DynamicResource LOCSettingsFullscreenRows}" />

                                        <TextBlock  Margin="0,0,40,0"
                                                   VerticalAlignment="Center"
                                                   Style="{DynamicResource TextBlockBaseStyle}"
                                                   FontSize="30"
                                                   Text="{Settings Fullscreen.Rows}" />

                                        <SliderEx   VerticalAlignment="Center"
                                                  IsSnapToTickEnabled="True"
                                                  Minimum="1"
                                                  Maximum="10"
                                                  TickFrequency="1"
                                                  Style="{DynamicResource SettingsSectionSlider}"
                                                  Value="{Settings Fullscreen.Rows, Mode=TwoWay}" />
                                    </StackPanel>
                                </Grid>
                            </StackPanel>
                        </Grid>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- ThemeOptions -->
    <Style x:Key="TOMissingStyle" TargetType="ContentControl">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ContentControl">
                    <Border x:Name="TOMissingScreen"
                            CacheMode="BitmapCache"
                            Background="{DynamicResource OverlayMenu}"
                            CornerRadius="0"
                            BorderThickness="0"
                            BorderBrush="DarkRed"
                            FocusManager.FocusedElement="{Binding ElementName=Wrong}"
                            HorizontalAlignment="Stretch"
                            VerticalAlignment="Stretch">

                        <Border.Style>
                            <Style TargetType="Border">
                                <Setter Property="Visibility" Value="Visible" />
                                <Style.Triggers>

                                </Style.Triggers>
                            </Style>
                        </Border.Style>
                        <Grid KeyboardNavigation.DirectionalNavigation="Contained"
                              KeyboardNavigation.TabNavigation="Contained"
                              KeyboardNavigation.ControlTabNavigation="Contained">
                            <Border Background="DarkRed" HorizontalAlignment="Stretch" Height="150" VerticalAlignment="Top">
                                <TextBlock Text="{DynamicResource LOCMissingAddon}"
                                           Style="{DynamicResource TextBlockBaseStyle}"
                                           FontSize="55"
                                           Foreground="WhiteSmoke"
                                           HorizontalAlignment="Center"
                                           VerticalAlignment="Center"
                                           Typography.Capitals="AllSmallCaps" />
                            </Border>

                            <StackPanel Margin="10,80,10,0"
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Top"
                                        Orientation="Vertical">

                                <TextBlock
                                    Margin="0,100,0,0"
                                    TextAlignment="Center"
                                    TextWrapping="Wrap"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Top"
                                    FontSize="45"
                                    Style="{DynamicResource TextBlockBaseStyle}"
                                    Opacity="0.8"
                                    Text="{DynamicResource LOCToMissingText1}" />

                                <!-- Separator -->
                                <Line Grid.Row="2"
                                      X1="0" X2="1"
                                      Stretch="Fill"
                                      Stroke="{DynamicResource TextBrush}"
                                      Opacity="0.2"
                                      Margin="20,20,20,0" />

                                <StackPanel Orientation="Vertical" HorizontalAlignment="Center" Margin="0,200,0,0"
                                            VerticalAlignment="Center">





                                    <TextBlock
                                        Margin="0,0,0,0"
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Bottom"
                                        FontSize="30"
                                        Opacity="1"
                                        TextAlignment="Center" >
                                        <TextBlock.Style>
                                            <Style TargetType="TextBlock" BasedOn="{StaticResource TextBlockBaseStyle}">
                                                <Setter Property="Text" Value="{DynamicResource LOCToMissingText2}" />
                                            </Style>
                                        </TextBlock.Style>
                                    </TextBlock>

                                    <TextBlock
                                        Margin="0,10,0,0"
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Bottom"
                                        FontSize="30"
                                        Opacity="1"
                                        TextAlignment="Center" >
                                        <TextBlock.Style>
                                            <Style TargetType="TextBlock" BasedOn="{StaticResource TextBlockBaseStyle}">
                                                <Setter Property="Text" Value="{DynamicResource LOCToMissingText3}" />
                                            </Style>
                                        </TextBlock.Style>
                                    </TextBlock>

                                </StackPanel>

                                <TextBlock
                                    Margin="0,80,0,0"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Bottom"
                                    FontSize="30"
                                    Foreground="Red"
                                    Opacity="0.7"
                                    TextAlignment="Center" >
                                    <TextBlock.Style>
                                        <Style TargetType="TextBlock" BasedOn="{StaticResource TextBlockBaseStyle}">
                                            <Setter Property="Text" Value="{DynamicResource LOCToMissingText4}" />
                                        </Style>
                                    </TextBlock.Style>
                                </TextBlock>


                                <TextBlock  x:Name="Arrow"
                                           Margin="0,80,0,10"
                                           HorizontalAlignment="Center"
                                           FontFamily="{DynamicResource FontIcoFont}"
                                           FontSize="55"
                                           Text="&#xea5b;">
                                    <TextBlock.Style>
                                        <Style TargetType="TextBlock" BasedOn="{StaticResource TextBlockBaseStyle}">
                                            <Style.Triggers>
                                                <Trigger Property="Visibility" Value="Visible">
                                                    <Trigger.EnterActions>
                                                        <BeginStoryboard x:Name="PulseSB">
                                                            <Storyboard RepeatBehavior="Forever" AutoReverse="True">
                                                                <DoubleAnimation Storyboard.TargetProperty="Opacity" From="1" To="0.3" Duration="0:0:0.8"/>
                                                            </Storyboard>
                                                        </BeginStoryboard>
                                                    </Trigger.EnterActions>
                                                </Trigger>
                                                <Trigger Property="Visibility" Value="Collapsed">
                                                    <Trigger.ExitActions>
                                                        <StopStoryboard BeginStoryboardName="PulseSB"/>
                                                    </Trigger.ExitActions>
                                                </Trigger>
                                            </Style.Triggers>
                                        </Style>
                                    </TextBlock.Style>
                                </TextBlock>

                                <ToggleButtonEx x:Name="Wrong"
                                                Margin="0,80,0,10"
                                                Command="{Binding SwitchToDesktopCommand}"
                                                MaxWidth="500"
                                                pbeh:FocusBahaviors.OnVisibilityFocus="True"
                                                pbeh:FocusBahaviors.FocusBinding="True"
                                                Style="{DynamicResource WrongChangeToggle}">
                                    <ToggleButtonEx.Content>
                                        <Grid>
                                            <Border RenderOptions.BitmapScalingMode="Fant" CornerRadius="{DynamicResource Corner}" VerticalAlignment="Center" HorizontalAlignment="Center" ClipToBounds="True">
                                                <Border.Style>
                                                    <Style TargetType="Border">
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=IsInstalled}" Value="False">
                                                                <Setter Property="Visibility" Value="Visible"/>
                                                                <Setter Property="Height" Value="60"/>
                                                                <Setter Property="Width" Value="Auto"/>
                                                                <Setter Property="VerticalAlignment" Value="Bottom"/>
                                                                <Setter Property="HorizontalAlignment" Value="Center"/>
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </Border.Style>
                                                <TextBlock Style="{DynamicResource TextBlockBoldBaseStyle}" Text="{DynamicResource LOCBackToDesktopMode}" Foreground="Black"
                                                           VerticalAlignment="Center" HorizontalAlignment="Center" Margin="0,0,0,0" FontSize="55">
                                                </TextBlock>
                                            </Border>
                                        </Grid>
                                    </ToggleButtonEx.Content>
                                </ToggleButtonEx>

                            </StackPanel>
                        </Grid>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- WELCOME HUB OVERLAY -->
    <Style x:Key="WelcomehubStyle" TargetType="ContentControl">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ContentControl">
                    <Grid x:Name="WelcomeHubOverlay"
                          FocusManager.FocusedElement="{Binding ElementName=CloseWelcomeButton}"
                          KeyboardNavigation.TabNavigation="Contained"
                          KeyboardNavigation.DirectionalNavigation="Contained"
                          Background="{DynamicResource DynamicGlowBackgroundSuccess}"
                          RenderTransformOrigin="0.5,0.5">
                        <Grid.RenderTransform>
                            <TransformGroup>
                                <ScaleTransform ScaleX="1" ScaleY="1" />
                                <TranslateTransform X="0" Y="0" />
                            </TransformGroup>
                        </Grid.RenderTransform>
                        <Grid.Resources>

                            <Style x:Key="HubCardBorderStyle" TargetType="Border">
                                <Setter Property="CornerRadius" Value="20" />
                                <Setter Property="Background" Value="#22000000" />
                                <Setter Property="SnapsToDevicePixels" Value="True" />
                                <Setter Property="BorderBrush" Value="{DynamicResource BorderBrushAHBrush}" />
                                <Setter Property="BorderThickness" Value="2" />
                                <Setter Property="ClipToBounds" Value="True" />
                            </Style>

                            <!-- Conteneur image en haut de la carte -->
                            <Style x:Key="HubCardImageContainerStyle" TargetType="Border">
                                <Setter Property="CornerRadius" Value="20,20,0,0" />
                                <Setter Property="ClipToBounds" Value="True" />
                                <Setter Property="SnapsToDevicePixels" Value="True" />
                                <Setter Property="Margin" Value="0" />
                                <Setter Property="Background" Value="#00000000" />
                            </Style>

                            <!-- Bandeau bas commun à toutes les cartes -->
                            <Style x:Key="HubBottomBannerStyle" TargetType="Border">
                                <Setter Property="Background" Value="{DynamicResource HubBottomBannerBrush}" />
                                <Setter Property="CornerRadius" Value="0,0,20,20" />
                                <Setter Property="Height" Value="79" />
                                <Setter Property="Padding" Value="20,5" />
                                <Setter Property="VerticalAlignment" Value="Bottom" />
                                <Setter Property="SnapsToDevicePixels" Value="True" />
                                <Setter Property="BorderBrush" Value="{DynamicResource BorderBrushAHBrush}" />
                                <Setter Property="BorderThickness" Value="0,2,0,0" />
                            </Style>

                            <!-- Trophées : derniers succès -->
                            <DataTemplate x:Key="HubTrophyRecentTemplate">
                                <Border Background="{DynamicResource BackgroundAHBrush}" CornerRadius="12" MaxWidth="300" Padding="10,8" Margin="10,5,10,5" BorderBrush="{DynamicResource BorderBrushAHBrush}" BorderThickness="1">
                                    <Grid Margin="0,4">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="52"/>
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>

                                        <!-- Icône du succès -->
                                        <Image Grid.Column="0"
                                               Width="48" Height="48"
                                               Stretch="UniformToFill"
                                               Source="{Binding IconPath}"
                                               RenderOptions.BitmapScalingMode="Fant"/>

                                        <!-- Texte -->
                                        <StackPanel Grid.Column="1" Margin="8,0,0,0">
                                            <TextBlock Text="{Binding Title}"
                                                       FontSize="18"
                                                       FontWeight="SemiBold"
                                                       Foreground="White"
                                                       TextTrimming="CharacterEllipsis"/>
                                            <TextBlock Text="{Binding Game}"
                                                       FontSize="16"
                                                       Foreground="#CCFFFFFF"
                                                       TextTrimming="CharacterEllipsis"/>
                                            <TextBlock Text="{Binding UnlockedString}"
                                                       FontSize="12"
                                                       Foreground="#99FFFFFF"/>
                                        </StackPanel>
                                    </Grid>
                                </Border>
                            </DataTemplate>

                            <!-- Trophées : plus rares -->
                            <DataTemplate x:Key="HubTrophyRareTemplate">
                                <Border Background="{DynamicResource BackgroundAHBrush}" CornerRadius="12" Padding="10,8" Margin="10,5,10,5" BorderBrush="{DynamicResource BorderBrushAHBrush}" BorderThickness="1">
                                    <Grid Margin="0,4">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="52"/>
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>

                                        <!-- Icône -->
                                        <Image Grid.Column="0"
                                               Width="48" Height="48"
                                               Stretch="UniformToFill"
                                               Source="{Binding IconPath}"
                                               RenderOptions.BitmapScalingMode="Fant"/>

                                        <!-- Texte -->
                                        <StackPanel Grid.Column="1" Margin="8,0,0,0">
                                            <TextBlock Text="{Binding Title}"
                                                       FontSize="18"
                                                       FontWeight="SemiBold"
                                                       Foreground="White"
                                                       TextTrimming="CharacterEllipsis"/>
                                            <TextBlock Text="{Binding Game}"
                                                       FontSize="16"
                                                       Foreground="#CCFFFFFF"
                                                       TextTrimming="CharacterEllipsis"/>
                                            <TextBlock Text="{Binding PercentString}"
                                                       FontSize="14"
                                                       Foreground="#FFEDC700"/>
                                            <!-- style “rare” -->
                                        </StackPanel>
                                    </Grid>
                                </Border>
                            </DataTemplate>
                        </Grid.Resources>

                        <Grid>
                            <Border>
                                <Border.OpacityMask>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                        <!-- 0% → totalement opaque -->
                                        <GradientStop Color="#FFFFFFFF" Offset="0"/>

                                        <!-- 70% → encore opaque (départ du fade) -->
                                        <GradientStop Color="#FFFFFFFF" Offset="0.30"/>

                                        <!-- 100% → totalement transparent -->
                                        <GradientStop Color="#00FFFFFF" Offset="0.60"/>
                                    </LinearGradientBrush>
                                </Border.OpacityMask>
                                <Border.Style>
                                    <Style TargetType="Border">
                                        <Setter Property="Opacity" Value="0.2"/>
                                        <Setter Property="Tag" Value="{DynamicResource BackgroundImageIndex}" />
                                        <Setter Property="Background" Value="{DynamicResource WelcomeImage1}"/>
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="20">
                                                <Setter Property="Background" Value="{DynamicResource WelcomeImage20}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="21">
                                                <Setter Property="Background" Value="{DynamicResource WelcomeImage21}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="22">
                                                <Setter Property="Background" Value="{DynamicResource WelcomeImage22}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="23">
                                                <Setter Property="Background" Value="{DynamicResource WelcomeImage23}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="24">
                                                <Setter Property="Background" Value="{DynamicResource WelcomeImage24}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="25">
                                                <Setter Property="Background" Value="{DynamicResource WelcomeImage25}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="26">
                                                <Setter Property="Background" Value="{DynamicResource WelcomeImage26}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="27">
                                                <Setter Property="Background" Value="{DynamicResource WelcomeImage27}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="28">
                                                <Setter Property="Background" Value="{DynamicResource WelcomeImage28}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="29">
                                                <Setter Property="Background" Value="{DynamicResource WelcomeImage29}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="30">
                                                <Setter Property="Background" Value="{DynamicResource WelcomeImage30}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="31">
                                                <Setter Property="Background" Value="{DynamicResource WelcomeImage31}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="32">
                                                <Setter Property="Background" Value="{DynamicResource WelcomeImage32}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="33">
                                                <Setter Property="Background" Value="{DynamicResource WelcomeImage33}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="34">
                                                <Setter Property="Background" Value="{DynamicResource WelcomeImage34}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="35">
                                                <Setter Property="Background" Value="{DynamicResource WelcomeImage35}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="36">
                                                <Setter Property="Background" Value="{DynamicResource WelcomeImage36}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="37">
                                                <Setter Property="Background" Value="{DynamicResource WelcomeImage37}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="38">
                                                <Setter Property="Background" Value="{DynamicResource WelcomeImage38}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="39">
                                                <Setter Property="Background" Value="{DynamicResource WelcomeImage39}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="40">
                                                <Setter Property="Background" Value="{DynamicResource WelcomeImage40}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="41">
                                                <Setter Property="Background" Value="{DynamicResource WelcomeImage41}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="42">
                                                <Setter Property="Background" Value="{DynamicResource WelcomeImage42}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="44">
                                                <Setter Property="Background" Value="{DynamicResource WelcomeImage44}"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Border.Style>
                            </Border>
                        </Grid>


                        <!-- WELCOME Hub -->
                        <Grid x:Name="HubRoot" Margin="20" Opacity="0"	RenderTransformOrigin="0.5,0.5">
                            <Grid.RenderTransform>
                                <TransformGroup>
                                    <!-- léger zoom initial -->
                                    <ScaleTransform ScaleX="0.97" ScaleY="0.97" />
                                    <!-- léger décalage vers le bas -->
                                    <TranslateTransform X="0" Y="12" />
                                </TransformGroup>
                            </Grid.RenderTransform>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>

                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>



                            <!-- Avatar LEFT -->
                            <Grid Grid.Row="0" HorizontalAlignment="Left" Margin="40,10,0,0">
                                <Border RenderOptions.BitmapScalingMode="Fant" Margin="0,0,0,0" CornerRadius="0" Height="80" Width="80" VerticalAlignment="Center" HorizontalAlignment="Left" ClipToBounds="True" >
                                    <Border.Style>
                                        <Style TargetType="Border">
                                            <Setter Property="Background" Value="{DynamicResource Avatar0}"/>
                                            <Setter Property="Visibility" Value="Collapsed" />
                                            <Setter Property="Opacity" Value="1"/>
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding ElementName=ExtraUserAvatar, Path=Source}" Value="{x:Null}">
                                                    <Setter Property="Visibility" Value="Visible" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="1">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar0}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="2">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar2}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="3">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar3}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="4">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar4}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="5">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar5}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="6">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar6}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="7">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar7}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="8">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar8}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="9">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar9}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="10">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar10}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="11">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar11}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="12">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar12}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="13">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar13}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="14">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar14}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="15">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar15}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="16">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar16}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="17">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar17}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="18">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar18}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="19">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar19}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="20">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar20}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="21">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar21}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="22">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar22}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="23">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar23}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="24">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar24}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="25">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar25}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="26">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar26}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="27">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar27}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="28">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar28}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="29">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar29}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="30">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar30}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="31">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar31}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="32">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar32}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="33">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar33}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="34">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar34}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="35">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar35}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="36">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar36}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="37">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar37}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="38">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar38}"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Border.Style>
                                </Border>

                                <TextBlock x:Name="UserAvatarPath"
                                           Tag="{Api Paths.ConfigurationPath}"
                                           Visibility="Collapsed">
                                    <TextBlock.Style>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="Text">
                                                <Setter.Value>
                                                    <MultiBinding StringFormat="{}{0}\ExtraMetadata\Themes\Common\ProfilePicture.png">
                                                        <Binding Path="Tag" RelativeSource="{RelativeSource Self}"/>
                                                    </MultiBinding>
                                                </Setter.Value>
                                            </Setter>
                                        </Style>
                                    </TextBlock.Style>
                                </TextBlock>

                                <Image x:Name="ExtraUserAvatar"
                                       Source="{Binding ElementName=UserAvatarPath, Path=Text}"
                                       Stretch="UniformToFill"
                                       RenderOptions.BitmapScalingMode="Fant"
                                       Width="80" Height="80"/>

                                <Border Width="15" Height="15"
                                        CornerRadius="6"
                                        HorizontalAlignment="Right"
                                        VerticalAlignment="Bottom"
                                        Margin="0,0,-3,-3"
                                        BorderThickness="1"
                                        BorderBrush="#CC000000"
                                        Panel.ZIndex="50">

                                    <Border.Style>
                                        <Style TargetType="Border">
                                            <!-- default = online -->
                                            <Setter Property="Background" Value="#FF4CD964"/>
                                            <Setter Property="Opacity" Value="0.95"/>
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                            <Style.Triggers>
                                                <DataTrigger Binding="{PluginStatus Plugin=SteamFriendsFullscreen_d8d67c7e-a797-45d7-ae44-3d53ddecc8d1, Status=Installed}" Value="True">
                                                    <Setter Property="Visibility" Value="Visible"/>
                                                </DataTrigger>

                                                <DataTrigger Binding="{PluginSettings Plugin=SteamFriendsFullscreen, Path=SelfState}" Value="offline">
                                                    <Setter Property="Background" Value="#474747"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=SteamFriendsFullscreen, Path=SelfState}" Value="away">
                                                    <Setter Property="Background" Value="Orange"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=SteamFriendsFullscreen, Path=SelfState}" Value="busy">
                                                    <Setter Property="Background" Value="DarkRed"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=SteamFriendsFullscreen, Path=SelfState}" Value="ingame">
                                                    <Setter Property="Background" Value="#FF3DFF7A"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Border.Style>
                                </Border>

                                <Border BorderBrush="{DynamicResource TextColorDarkBrush}" BorderThickness="2" Margin="-1" Width="80" Height="80"/>
                            </Grid>

                            <!-- HEADER RIGHT -->
                            <Grid Grid.Row="0" HorizontalAlignment="Right" Margin="0,10,40,0">

                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="10"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="8"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>



                                <Border Grid.Column="0" Width="60" Height="60" ClipToBounds="True">
                                    <StackPanel>
                                        <Image Height="60" RenderOptions.BitmapScalingMode="Fant" VerticalAlignment="Center" Source="{ThemeFile 'Images/UserLevel/Bronze1.png'}" HorizontalAlignment="Center">
                                            <Image.Style>
                                                <Style TargetType="Image">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{PluginSettings Plugin=SSHelper, Path=GSRank}" Value="Bronze1">
                                                            <Setter Property="Visibility" Value="Visible" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </Image.Style>
                                        </Image>
                                        <Image Height="60" RenderOptions.BitmapScalingMode="Fant" VerticalAlignment="Center" Source="{ThemeFile 'Images/UserLevel/Bronze2.png'}" HorizontalAlignment="Center">
                                            <Image.Style>
                                                <Style TargetType="Image">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{PluginSettings Plugin=SSHelper, Path=GSRank}" Value="Bronze2">
                                                            <Setter Property="Visibility" Value="Visible" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </Image.Style>
                                        </Image>

                                        <Image Height="60" RenderOptions.BitmapScalingMode="Fant" VerticalAlignment="Center" Source="{ThemeFile 'Images/UserLevel/Bronze3.png'}" HorizontalAlignment="Center">
                                            <Image.Style>
                                                <Style TargetType="Image">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{PluginSettings Plugin=SSHelper, Path=GSRank}" Value="Bronze3">
                                                            <Setter Property="Visibility" Value="Visible" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </Image.Style>
                                        </Image>
                                        <Image Height="60" RenderOptions.BitmapScalingMode="Fant" VerticalAlignment="Center" Source="{ThemeFile 'Images/UserLevel/Silver1.png'}" HorizontalAlignment="Center">
                                            <Image.Style>
                                                <Style TargetType="Image">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{PluginSettings Plugin=SSHelper, Path=GSRank}" Value="Silver1">
                                                            <Setter Property="Visibility" Value="Visible" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </Image.Style>
                                        </Image>
                                        <Image Height="60" RenderOptions.BitmapScalingMode="Fant" VerticalAlignment="Center" Source="{ThemeFile 'Images/UserLevel/Silver2.png'}" HorizontalAlignment="Center">
                                            <Image.Style>
                                                <Style TargetType="Image">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{PluginSettings Plugin=SSHelper, Path=GSRank}" Value="Silver2">
                                                            <Setter Property="Visibility" Value="Visible" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </Image.Style>
                                        </Image>
                                        <Image Height="60" RenderOptions.BitmapScalingMode="Fant" VerticalAlignment="Center" Source="{ThemeFile 'Images/UserLevel/Silver3.png'}" HorizontalAlignment="Center">
                                            <Image.Style>
                                                <Style TargetType="Image">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{PluginSettings Plugin=SSHelper, Path=GSRank}" Value="Silver3">
                                                            <Setter Property="Visibility" Value="Visible" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </Image.Style>
                                        </Image>

                                        <Image Height="60" RenderOptions.BitmapScalingMode="Fant" VerticalAlignment="Center" Source="{ThemeFile 'Images/UserLevel/Gold1.png'}" HorizontalAlignment="Center">
                                            <Image.Style>
                                                <Style TargetType="Image">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{PluginSettings Plugin=SSHelper, Path=GSRank}" Value="Gold1">
                                                            <Setter Property="Visibility" Value="Visible" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </Image.Style>
                                        </Image>

                                        <Image Height="60" RenderOptions.BitmapScalingMode="Fant" VerticalAlignment="Center" Source="{ThemeFile 'Images/UserLevel/Gold2.png'}" HorizontalAlignment="Center">
                                            <Image.Style>
                                                <Style TargetType="Image">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{PluginSettings Plugin=SSHelper, Path=GSRank}" Value="Gold2">
                                                            <Setter Property="Visibility" Value="Visible" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </Image.Style>
                                        </Image>
                                        <Image Height="60" RenderOptions.BitmapScalingMode="Fant" VerticalAlignment="Center" Source="{ThemeFile 'Images/UserLevel/Gold3.png'}" HorizontalAlignment="Center">
                                            <Image.Style>
                                                <Style TargetType="Image">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{PluginSettings Plugin=SSHelper, Path=GSRank}" Value="Gold3">
                                                            <Setter Property="Visibility" Value="Visible" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </Image.Style>
                                        </Image>
                                        <Image Height="60" RenderOptions.BitmapScalingMode="Fant" VerticalAlignment="Center" Source="{ThemeFile 'Images/UserLevel/Plat1.png'}" HorizontalAlignment="Center">
                                            <Image.Style>
                                                <Style TargetType="Image">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{PluginSettings Plugin=SSHelper, Path=GSRank}" Value="Plat1">
                                                            <Setter Property="Visibility" Value="Visible" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </Image.Style>
                                        </Image>
                                        <Image Height="60" RenderOptions.BitmapScalingMode="Fant" VerticalAlignment="Center" Source="{ThemeFile 'Images/UserLevel/Plat2.png'}" HorizontalAlignment="Center">
                                            <Image.Style>
                                                <Style TargetType="Image">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{PluginSettings Plugin=SSHelper, Path=GSRank}" Value="Plat2">
                                                            <Setter Property="Visibility" Value="Visible" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </Image.Style>
                                        </Image>
                                        <Image Height="60" RenderOptions.BitmapScalingMode="Fant" VerticalAlignment="Center" Source="{ThemeFile 'Images/UserLevel/Plat3.png'}" HorizontalAlignment="Center">
                                            <Image.Style>
                                                <Style TargetType="Image">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{PluginSettings Plugin=SSHelper, Path=GSRank}" Value="Plat3">
                                                            <Setter Property="Visibility" Value="Visible" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </Image.Style>
                                        </Image>
                                        <Image Height="60" RenderOptions.BitmapScalingMode="Fant" VerticalAlignment="Center" Source="{ThemeFile 'Images/UserLevel/Plat.png'}" HorizontalAlignment="Center">
                                            <Image.Style>
                                                <Style TargetType="Image">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{PluginSettings Plugin=SSHelper, Path=GSRank}" Value="Plat">
                                                            <Setter Property="Visibility" Value="Visible" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </Image.Style>
                                        </Image>
                                    </StackPanel>
                                    <Border.Effect>
                                        <DropShadowEffect Color="Black" ShadowDepth="0" Opacity="0.4" />
                                    </Border.Effect>
                                </Border>

                                <TextBlock Grid.Column="2"
                                           Text="{DynamicResource LOCLevel}"
                                           FontSize="36"
                                           FontWeight="Bold"
                                           Foreground="{DynamicResource TextColorDarkBrush}"
                                           Style="{DynamicResource TextBlockBaseStyle}"
                                           VerticalAlignment="Center"/>

                                <TextBlock Grid.Column="4"
                                           Text="{PluginSettings Plugin=SSHelper, Path=GSLevel}"
                                           FontSize="36"
                                           FontWeight="Bold"
                                           Foreground="{DynamicResource TextColorDarkBrush}"
                                           Style="{DynamicResource TextBlockBaseStyle}"
                                           VerticalAlignment="Center"/>

                            </Grid>

                            <!-- 2) ZONE CENTRE -->
                            <Grid Grid.Row="1" Margin="0,0,0,0">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="*" />
                                </Grid.RowDefinitions>

                                <Border Grid.Row="0" Margin="0,0,0,16">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="Auto" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>

                                        <!-- Colonne centrale : Welcome -->
                                        <StackPanel Grid.Column="1"
                                                    Margin="20,50,20,0"
                                                    VerticalAlignment="Center"
                                                    HorizontalAlignment="Center">

                                            <!-- Texte Welcome -->
                                            <StackPanel Orientation="Vertical" HorizontalAlignment="Center" VerticalAlignment="Top">
                                                <StackPanel.Effect>
                                                    <DropShadowEffect
                                                        Color="Black"
                                                        ShadowDepth="2"
                                                        BlurRadius="8"
                                                        Opacity="0.45"
                                                        RenderingBias="Performance"/>
                                                </StackPanel.Effect>
                                                <StackPanel Orientation="Horizontal">
                                                    <TextBlock Text="{DynamicResource LOCWelcomeBack}"
                                                               FontSize="42"
                                                               FontWeight="Bold"
                                                               Foreground="{DynamicResource TextColorDarkBrush}"
                                                               Style="{DynamicResource TextBlockBaseStyle}"
                                                               Margin="0,0,0,0"
                                                               HorizontalAlignment="Center"/>
                                                    <TextBlock Text="{DynamicResource UserName}"
                                                               Foreground="{DynamicResource TextColorDarkBrush}"
                                                               FontSize="42"
                                                               FontWeight="Bold"
                                                               Style="{DynamicResource TextBlockBaseStyle}"
                                                               Margin="5,0,0,0"
                                                               HorizontalAlignment="Center"/>
                                                </StackPanel>

                                                <TextBlock Text="{DynamicResource LOCGoodToSee}"
                                                           FontSize="26"
                                                           Style="{DynamicResource TextBlockBaseStyle}"
                                                           Foreground="{DynamicResource TextColorDarkBrush}"
                                                           Opacity="0.7"
                                                           HorizontalAlignment="Center"
                                                           Margin="0,20,0,0"/>

                                                <ToggleButtonEx x:Name="CloseWelcomeButton" Style="{StaticResource WelcomeButtonStyle}"
                                                                pbeh:FocusBahaviors.OnVisibilityFocus="True"
                                                                HorizontalAlignment="Center"
                                                                VerticalAlignment="Bottom"
                                                                Margin="0,20,0,0"
                                                                FocusVisualStyle="{x:Null}"
                                                                IsChecked="{Binding Tag, RelativeSource={RelativeSource TemplatedParent}, Mode=TwoWay}">
                                                    <StackPanel HorizontalAlignment="Center" Orientation="Horizontal">
                                                        <TextBlock Margin="0,0,0,0" Text="{DynamicResource LOCPress}" HorizontalAlignment="Left" Style="{DynamicResource TextBlockBaseStyle}" Foreground="{DynamicResource TextColorDarkBrush}" FontSize="34" VerticalAlignment="Center"/>
                                                        <ButtonEx Margin="-5,0,-5,0" Style="{StaticResource IconAButton}"  HorizontalAlignment="Left" Opacity="1" />
                                                        <TextBlock Margin="-10,0,0,0" Text="to continue" HorizontalAlignment="Left" Style="{DynamicResource TextBlockBaseStyle}" Foreground="{DynamicResource TextColorDarkBrush}" FontSize="34" VerticalAlignment="Center"/>
                                                    </StackPanel>

                                                </ToggleButtonEx>
                                            </StackPanel>
                                        </StackPanel>


                                        <!-- Colonne gauche : Derniers succès -->
                                        <Border Grid.Column="0" Focusable="False" HorizontalAlignment="Left" Margin="0,50,0,0">
                                            <Border.Style>
                                                <Style TargetType="Border">
                                                    <Setter Property="Visibility" Value="Visible"/>
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{PluginSettings Plugin=AnikiHelper, Path=RecentAchievements}" Value="{x:Null}">
                                                            <Setter Property="Visibility" Value="Collapsed"/>
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </Border.Style>

                                            <StackPanel Margin="20,0,20,0">
                                                <TextBlock Text="{DynamicResource LOCStatsRecentAchievements}"
                                                           Foreground="{DynamicResource TextColorDarkBrush}"
                                                           Style="{DynamicResource TextBlockBaseStyle}"
                                                           FontSize="22"
                                                           FontWeight="SemiBold"
                                                           Margin="8,0,0,10"/>

                                                <ItemsControl ItemsSource="{PluginSettings Plugin=AnikiHelper, Path=RecentAchievements}" Focusable="False"
                                                              ItemTemplate="{StaticResource HubTrophyRecentTemplate}" />
                                            </StackPanel>
                                        </Border>

                                        <!-- Colonne droite : RareTop -->
                                        <Border Grid.Column="2" Focusable="False" HorizontalAlignment="Right" Margin="0,50,0,0">
                                            <Border.Style>
                                                <Style TargetType="Border">
                                                    <Setter Property="Visibility" Value="Visible"/>
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{PluginSettings Plugin=AnikiHelper, Path=RareTop}" Value="{x:Null}">
                                                            <Setter Property="Visibility" Value="Collapsed"/>
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </Border.Style>

                                            <StackPanel Margin="20,0,20,0">
                                                <TextBlock Text="{DynamicResource LOCTopachievementyear}"
                                                           FontSize="22"
                                                           Style="{DynamicResource TextBlockBaseStyle}"
                                                           Foreground="{DynamicResource TextColorDarkBrush}"
                                                           FontWeight="SemiBold"
                                                           Margin="8,0,0,10"/>

                                                <ItemsControl ItemsSource="{PluginSettings Plugin=AnikiHelper, Path=RareTop}" Focusable="False"
                                                              ItemTemplate="{StaticResource HubTrophyRareTemplate}" />
                                            </StackPanel>
                                        </Border>
                                    </Grid>
                                </Border>

                                <!-- Border global du hub au centre -->
                                <Border Grid.Row="1"
                                        Margin="0,40,0,0"
                                        Focusable="False"
                                        Height="480"
                                        CornerRadius="14"
                                        Background="{DynamicResource BackgroundAHDarkBrush}"
                                        BorderBrush="{DynamicResource MenuBorderBrush}"
                                        BorderThickness="2"
                                        VerticalAlignment="Bottom"
                                        HorizontalAlignment="Stretch">
                                    <!-- CONTENU -->
                                    <Grid Margin="20,20,20,20">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="1.8*" />
                                            <ColumnDefinition Width="1.8*" />
                                            <ColumnDefinition Width="1.8*" />
                                        </Grid.ColumnDefinitions>

                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto" />
                                        </Grid.RowDefinitions>

                                        <!-- GAME OF THE MONTH -->
                                        <Grid Grid.Column="0"
                                              Grid.Row="0"
                                              Margin="0,0,20,0">
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto" />
                                                <RowDefinition Height="*" />
                                            </Grid.RowDefinitions>

                                            <!-- Titre -->
                                            <TextBlock Grid.Row="0" Style="{DynamicResource TextBlockBaseStyle}"
                                                       Text="{DynamicResource LOCMonthTopGame}"
                                                       FontSize="26"
                                                       FontWeight="SemiBold"
                                                       Margin="0,0,0,12"/>

                                            <!-- Carte -->
                                            <Border Focusable="False" Height="350" FocusVisualStyle="{x:Null}" Grid.Row="1" CornerRadius="20" Style="{DynamicResource HubCardBorderStyle}">

                                                <Grid>
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="*" />
                                                        <RowDefinition Height="Auto" />
                                                    </Grid.RowDefinitions>

                                                    <!-- IMAGE + FALLBACK -->
                                                    <Border Grid.Row="0"
                                                            CornerRadius="20,20,0,0">
                                                        <Border.OpacityMask>
                                                            <VisualBrush Visual="{Binding ElementName=CoverMask}"
                                                                         Stretch="Fill"
                                                                         RenderOptions.BitmapScalingMode="Fant"
                                                                         RenderOptions.CachingHint="Cache" />
                                                        </Border.OpacityMask>

                                                        <Grid>
                                                            <Border x:Name="CoverMask"
                                                                    CornerRadius="20,20,0,0"
                                                                    Background="{DynamicResource SuccessMenu}" />

                                                            <Image x:Name="BgReal" RenderOptions.BitmapScalingMode="Fant"
                                                                   Height="300"
                                                                   Stretch="UniformToFill"
                                                                   Source="{PluginSettings Plugin=AnikiHelper, Path=ThisMonthTopGameBackgroundPath}">
                                                                <Image.Style>
                                                                    <Style TargetType="Image">
                                                                        <Setter Property="Visibility" Value="Visible"/>
                                                                        <Style.Triggers>
                                                                            <DataTrigger Binding="{PluginSettings Plugin=AnikiHelper, Path=ThisMonthTopGameBackgroundPath}" Value="">
                                                                                <Setter Property="Visibility" Value="Collapsed"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{PluginSettings Plugin=AnikiHelper, Path=ThisMonthTopGameName}" Value="">
                                                                                <Setter Property="Visibility" Value="Collapsed"/>
                                                                            </DataTrigger>
                                                                        </Style.Triggers>
                                                                    </Style>
                                                                </Image.Style>
                                                            </Image>

                                                            <Image x:Name="BgFallback" RenderOptions.BitmapScalingMode="Fant"
                                                                   Height="300"
                                                                   Stretch="UniformToFill"
                                                                   Source="{ThemeFile 'Images/NoBackground.png'}">
                                                                <Image.Style>
                                                                    <Style TargetType="Image">
                                                                        <Setter Property="Visibility" Value="Collapsed"/>
                                                                        <Style.Triggers>
                                                                            <DataTrigger Binding="{PluginSettings Plugin=AnikiHelper, Path=ThisMonthTopGameBackgroundPath}" Value="">
                                                                                <Setter Property="Visibility" Value="Visible"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{PluginSettings Plugin=AnikiHelper, Path=ThisMonthTopGameName}" Value="">
                                                                                <Setter Property="Visibility" Value="Visible"/>
                                                                            </DataTrigger>
                                                                        </Style.Triggers>
                                                                    </Style>
                                                                </Image.Style>
                                                            </Image>
                                                        </Grid>
                                                    </Border>

                                                    <!-- BANDEAU BAS -->
                                                    <Grid Grid.Row="1">
                                                        <Border Style="{StaticResource HubBottomBannerStyle}">

                                                            <StackPanel>
                                                                <TextBlock Text="{PluginSettings Plugin=AnikiHelper, Path=ThisMonthTopGameName}"
                                                                           Style="{DynamicResource TextBlockBaseStyle}"
                                                                           Foreground="{DynamicResource TextColorDarkBrush}"
                                                                           FontSize="24"
                                                                           FontWeight="SemiBold"
                                                                           TextWrapping="NoWrap"
                                                                           TextTrimming="CharacterEllipsis"/>
                                                                <TextBlock Text="{PluginSettings Plugin=AnikiHelper, Path=ThisMonthTopGamePlaytime}"
                                                                           Style="{DynamicResource TextBlockBaseStyle}"
                                                                           Foreground="{DynamicResource TextColorDarkBrush}"
                                                                           FontSize="20"
                                                                           Margin="0,4,0,0"/>
                                                            </StackPanel>
                                                        </Border>


                                                    </Grid>
                                                </Grid>
                                            </Border>

                                        </Grid>

                                        <!-- SUGGESTION -->
                                        <Grid Grid.Column="1"
                                              Grid.Row="0"
                                              Margin="0,0,20,0">
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto" />
                                                <RowDefinition Height="*" />
                                            </Grid.RowDefinitions>

                                            <!-- Titre + jeu source -->
                                            <Grid Grid.Row="0"
                                                  Margin="0,0,0,12"
                                                  MaxWidth="900">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="*" />
                                                </Grid.ColumnDefinitions>

                                                <TextBlock Grid.Column="0" Style="{DynamicResource TextBlockBaseStyle}"
                                                           Text="{DynamicResource LOCSuggestion}"
                                                           FontSize="26"
                                                           FontWeight="SemiBold"/>
                                            </Grid>


                                            <!-- Carte suggestion -->
                                            <Border Grid.Row="1" Height="350" Focusable="False" FocusVisualStyle="{x:Null}" CornerRadius="20" Style="{DynamicResource HubCardBorderStyle}">


                                                <Grid>
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="*" />
                                                        <RowDefinition Height="Auto" />
                                                    </Grid.RowDefinitions>

                                                    <!-- IMAGE -->
                                                    <Border Grid.Row="0"
                                                            CornerRadius="20,20,0,0"
                                                            ClipToBounds="True">
                                                        <Border.OpacityMask>
                                                            <VisualBrush Visual="{Binding ElementName=CoverMask2}"
                                                                         Stretch="Fill"
                                                                         RenderOptions.BitmapScalingMode="Fant"
                                                                         RenderOptions.CachingHint="Cache" />
                                                        </Border.OpacityMask>

                                                        <Grid>
                                                            <Border x:Name="CoverMask2"
                                                                    CornerRadius="20,20,0,0"
                                                                    Background="{DynamicResource SuccessMenu}" />

                                                            <Image Stretch="UniformToFill" RenderOptions.BitmapScalingMode="Fant"
                                                                   Height="300"
                                                                   Source="{PluginSettings Plugin=AnikiHelper, Path=SuggestedGameBackgroundPath}" />

                                                            <Image Stretch="UniformToFill"
                                                                   Height="300"
                                                                   RenderOptions.BitmapScalingMode="Fant"
                                                                   Source="{ThemeFile 'Images/Hub/NoBackground.jpg'}">
                                                                <Image.Style>
                                                                    <Style TargetType="Image">
                                                                        <Setter Property="Visibility" Value="Collapsed" />
                                                                        <Style.Triggers>
                                                                            <DataTrigger Binding="{PluginSettings Plugin=AnikiHelper, Path=SuggestedGameBackgroundPath}" Value="">
                                                                                <Setter Property="Visibility" Value="Visible" />
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{PluginSettings Plugin=AnikiHelper, Path=SuggestedGameBackgroundPath}" Value="{x:Null}">
                                                                                <Setter Property="Visibility" Value="Visible" />
                                                                            </DataTrigger>
                                                                        </Style.Triggers>
                                                                    </Style>
                                                                </Image.Style>
                                                            </Image>
                                                        </Grid>
                                                    </Border>

                                                    <Border HorizontalAlignment="Right"
                                                            VerticalAlignment="Top"
                                                            Margin="16"
                                                            Padding="10,4,10,4"
                                                            Background="#99000000"
                                                            CornerRadius="10">
                                                        <TextBlock
                                                            FontSize="13"
                                                            TextTrimming="CharacterEllipsis"
                                                            Text="{PluginSettings Plugin=AnikiHelper, Path=SuggestedGameBannerText}">
                                                            <TextBlock.Style>
                                                                <Style TargetType="TextBlock" BasedOn="{StaticResource TextBlockBaseStyle}">
                                                                    <Setter Property="Visibility" Value="Visible" />
                                                                    <Style.Triggers>
                                                                        <DataTrigger Binding="{Binding Text, RelativeSource={RelativeSource Self}}" Value="">
                                                                            <Setter Property="Visibility" Value="Collapsed" />
                                                                        </DataTrigger>
                                                                        <DataTrigger Binding="{Binding Text, RelativeSource={RelativeSource Self}}" Value="{x:Null}">
                                                                            <Setter Property="Visibility" Value="Collapsed" />
                                                                        </DataTrigger>
                                                                    </Style.Triggers>
                                                                </Style>
                                                            </TextBlock.Style>
                                                        </TextBlock>
                                                    </Border>


                                                    <!-- BANDEAU TEXTE -->
                                                    <Border Grid.Row="1" Style="{StaticResource HubBottomBannerStyle}">
                                                        <StackPanel VerticalAlignment="Top">
                                                            <TextBlock VerticalAlignment="Top"
                                                                       FontSize="24"
                                                                       FontWeight="Bold"
                                                                       Foreground="{DynamicResource TextColorDarkBrush}"
                                                                       Style="{DynamicResource TextBlockBaseStyle}"
                                                                       TextWrapping="NoWrap"
                                                                       TextTrimming="CharacterEllipsis"
                                                                       Text="{PluginSettings Plugin=AnikiHelper, Path=SuggestedGameName}" />

                                                            <TextBlock Style="{DynamicResource TextBlockBaseStyle}"
                                                                       Foreground="{DynamicResource TextColorDarkBrush}"
                                                                       Margin="0,2,0,0"
                                                                       FontSize="20"
                                                                       Text="{DynamicResource LOCLiked}" />
                                                        </StackPanel>
                                                    </Border>
                                                </Grid>
                                            </Border>
                                        </Grid>

                                        <!-- DERNIÈRES NEWS -->
                                        <Grid Grid.Column="2"
                                              Grid.Row="0"
                                              Margin="0,0,0,0">
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto" />
                                                <RowDefinition Height="*" />
                                            </Grid.RowDefinitions>

                                            <!-- Titre -->
                                            <TextBlock Grid.Row="0" Style="{DynamicResource TextBlockBaseStyle}"
                                                       Text="{DynamicResource LOCActu}"
                                                       FontSize="26"
                                                       FontWeight="SemiBold"
                                                       Margin="0,0,0,12"/>

                                            <!-- Carte News -->
                                            <Border Grid.Row="1" Height="350" Focusable="False" FocusVisualStyle="{x:Null}" CornerRadius="20" Style="{DynamicResource HubCardBorderStyle}">

                                                <Grid>
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="*" />
                                                        <RowDefinition Height="Auto" />
                                                    </Grid.RowDefinitions>

                                                    <!-- IMAGE/FALLBACK -->
                                                    <Border Grid.Row="0"
                                                            CornerRadius="20,20,0,0"
                                                            ClipToBounds="True">
                                                        <Border.OpacityMask>
                                                            <VisualBrush Visual="{Binding ElementName=CoverMask3}"
                                                                         Stretch="Fill"
                                                                         RenderOptions.BitmapScalingMode="Fant"
                                                                         RenderOptions.CachingHint="Cache" />
                                                        </Border.OpacityMask>

                                                        <Grid>
                                                            <Border x:Name="CoverMask3"
                                                                    CornerRadius="20,20,0,0"
                                                                    Background="{DynamicResource SuccessMenu}" />

                                                            <Image x:Name="NewsImage" RenderOptions.BitmapScalingMode="Fant"
                                                                   Height="300"
                                                                   Stretch="UniformToFill"
                                                                   Source="{PluginSettings Plugin=AnikiHelper, Path=LatestNewsLocalImagePath}">
                                                                <Image.Style>
                                                                    <Style TargetType="Image">
                                                                        <Setter Property="Visibility" Value="Visible"/>
                                                                        <Style.Triggers>
                                                                            <DataTrigger Binding="{PluginSettings Plugin=AnikiHelper, Path=LatestNewsLocalImagePath}" Value="">
                                                                                <Setter Property="Visibility" Value="Collapsed"/>
                                                                            </DataTrigger>
                                                                        </Style.Triggers>
                                                                    </Style>
                                                                </Image.Style>
                                                            </Image>

                                                            <Image x:Name="FallbackNewsImage" RenderOptions.BitmapScalingMode="Fant"
                                                                   Height="300"
                                                                   Stretch="UniformToFill"
                                                                   Source="{ThemeFile 'Images/NoBackground.png'}">
                                                                <Image.Style>
                                                                    <Style TargetType="Image">
                                                                        <Setter Property="Visibility" Value="Collapsed"/>
                                                                        <Style.Triggers>
                                                                            <DataTrigger Binding="{PluginSettings Plugin=AnikiHelper, Path=LatestNewsLocalImagePath}" Value="">
                                                                                <Setter Property="Visibility" Value="Visible"/>
                                                                            </DataTrigger>
                                                                        </Style.Triggers>
                                                                    </Style>
                                                                </Image.Style>
                                                            </Image>
                                                        </Grid>
                                                    </Border>

                                                    <!-- BANDEAU TEXTE -->
                                                    <Border Grid.Row="1" Style="{StaticResource HubBottomBannerStyle}">

                                                        <TextBlock Text="{PluginSettings Plugin=AnikiHelper, Path=LatestNewsTitle}"
                                                                   Style="{DynamicResource TextBlockBaseStyle}"
                                                                   Foreground="{DynamicResource TextColorDarkBrush}"
                                                                   FontSize="20"
                                                                   FontWeight="SemiBold"
                                                                   TextWrapping="Wrap"
                                                                   TextTrimming="CharacterEllipsis" />
                                                    </Border>
                                                </Grid>
                                            </Border>
                                        </Grid>
                                    </Grid>
                                </Border>
                            </Grid>
                        </Grid>
                        <MediaElement x:Name="CloseViewSound"
                                      Source="{ThemeFile 'audio/ExitGameDetails.wav'}"
                                      Visibility="Collapsed"
                                      Volume="{Settings Fullscreen.InterfaceVolume}"
                                      IsMuted="False">
                            <MediaElement.Style>
                                <Style TargetType="MediaElement">
                                    <Setter Property="LoadedBehavior" Value="Manual"/>
                                    <Setter Property="UnloadedBehavior" Value="Close"/>
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding ElementName=CloseWelcomeButton, Path=IsChecked}" Value="True">
                                            <Setter Property="LoadedBehavior" Value="Play"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </MediaElement.Style>
                        </MediaElement>
                    </Grid>
                    <ControlTemplate.Triggers>

                        <Trigger Property="Visibility" Value="Visible">
                            <Trigger.EnterActions>
                                <BeginStoryboard>
                                    <Storyboard>


                                        <DoubleAnimation Storyboard.TargetName="HubRoot"
                                                         Storyboard.TargetProperty="Opacity"
                                                         From="0" To="0"
                                                         Duration="0:0:0.2"/>

                                        <DoubleAnimation Storyboard.TargetName="HubRoot"
                                                         Storyboard.TargetProperty="Opacity"
                                                         From="0" To="1" BeginTime="0:0:0.2"
                                                         Duration="0:0:0.5">
                                            <DoubleAnimation.EasingFunction>
                                                <CubicEase EasingMode="EaseOut" />
                                            </DoubleAnimation.EasingFunction>
                                        </DoubleAnimation>

                                        <DoubleAnimation Storyboard.TargetName="HubRoot"
                                                         Storyboard.TargetProperty="(RenderTransform).(TransformGroup.Children)[0].(ScaleTransform.ScaleX)"
                                                         From="0.9" To="1.0" BeginTime="0:0:0.2"
                                                         Duration="0:0:0.3">
                                            <DoubleAnimation.EasingFunction>
                                                <CubicEase EasingMode="EaseOut" />
                                            </DoubleAnimation.EasingFunction>
                                        </DoubleAnimation>

                                        <DoubleAnimation Storyboard.TargetName="HubRoot"
                                                         Storyboard.TargetProperty="(RenderTransform).(TransformGroup.Children)[0].(ScaleTransform.ScaleY)"
                                                         From="0.9" To="1.0" BeginTime="0:0:0.2"
                                                         Duration="0:0:0.3">
                                            <DoubleAnimation.EasingFunction>
                                                <CubicEase EasingMode="EaseOut" />
                                            </DoubleAnimation.EasingFunction>
                                        </DoubleAnimation>

                                        <DoubleAnimation Storyboard.TargetName="HubRoot"
                                                         Storyboard.TargetProperty="(RenderTransform).(TransformGroup.Children)[1].(TranslateTransform.Y)"
                                                         From="-20" To="0" BeginTime="0:0:0.2"
                                                         Duration="0:0:0.3">
                                            <DoubleAnimation.EasingFunction>
                                                <CubicEase EasingMode="EaseOut" />
                                            </DoubleAnimation.EasingFunction>
                                        </DoubleAnimation>

                                    </Storyboard>
                                </BeginStoryboard>
                            </Trigger.EnterActions>
                        </Trigger>

                    </ControlTemplate.Triggers>


                </ControlTemplate>
            </Setter.Value>
        </Setter>
        <Style.Triggers>

        </Style.Triggers>
    </Style>

    <!-- Friends Steam -->
    <Style x:Key="FriendsStyle" TargetType="ContentControl">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ContentControl">
                    <Border x:Name="FriendsScreen"
                            CacheMode="BitmapCache"
                            Background="{DynamicResource OverlayMenu}"
                            Width="1000"
                            Height="900"
                            CornerRadius="5"
                            BorderThickness="2"
                            BorderBrush="{DynamicResource MenuBorderBrush}"
                            FocusManager.FocusedElement="{Binding ElementName=SelfStatusButton}"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center">
                        <Border.RenderTransform>
                            <TranslateTransform Y="0"/>
                        </Border.RenderTransform>
                        <Border.Style>
                            <Style TargetType="Border">
                                <Setter Property="Visibility" Value="Visible" />
                                <Style.Triggers>

                                </Style.Triggers>
                            </Style>
                        </Border.Style>

                        <Border.Triggers>
                            <EventTrigger RoutedEvent="FrameworkElement.Loaded">
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetProperty="Opacity" From="0" To="1" Duration="0:0:0.2"/>
                                        <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.Y)" From="-20" To="0" Duration="0:0:0.2"/>
                                    </Storyboard>
                                </BeginStoryboard>
                            </EventTrigger>
                        </Border.Triggers>


                        <Grid>
                            <!-- HEADER -->
                            <Border Background="{DynamicResource BackgroundAHDarkBrush}"
                                    HorizontalAlignment="Stretch"
                                    Height="60"
                                    VerticalAlignment="Top">
                                <Grid Margin="20,0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>


                                    <!-- Icon + title -->
                                    <StackPanel Orientation="Horizontal"
                                                VerticalAlignment="Center"
                                                HorizontalAlignment="Center"
                                                Grid.Column="1">
                                        <TextBlock Text="{DynamicResource LOCSteamFriendsTitle}"
                                                   Style="{DynamicResource TextBlockBaseStyle}"
                                                   FontSize="28"
                                                   Foreground="WhiteSmoke"
                                                   VerticalAlignment="Center"
                                                   Typography.Capitals="AllSmallCaps"/>
                                    </StackPanel>
                                </Grid>
                            </Border>

                            <!-- BODY -->
                            <Grid Margin="20,80,20,20">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>

                                <!-- liste amis -->
                                <Grid x:Name="FriendsMainPage">
                                    <Grid.Style>
                                        <Style TargetType="Grid">
                                            <Setter Property="Visibility" Value="Visible"/>
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding ElementName=SelfStatusButton, Path=IsChecked}" Value="True">
                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Grid.Style>

                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>

                                    <!-- SUB HEADER (Self + pills) -->
                                    <Grid Grid.Row="0" Margin="0,0,0,12"
                                          KeyboardNavigation.DirectionalNavigation="Continue"
                                          KeyboardNavigation.TabNavigation="Continue">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>


                                        <!-- LEFT: SELF CARD -->
                                        <CheckBoxEx x:Name="SelfStatusButton"
                                                    pbeh:FocusBahaviors.FocusBinding="{Binding ElementName=FriendsMainPage, Path=IsVisible}"
                                                    Grid.Column="0"
                                                    Background="Transparent"
                                                    BorderThickness="0"
                                                    FocusVisualStyle="{x:Null}"
                                                    HorizontalAlignment="Left"
                                                    VerticalAlignment="Center"
                                                    IsTabStop="True"
                                                    Focusable="True">
                                            <CheckBoxEx.Triggers>
                                                <EventTrigger RoutedEvent="ButtonBase.Click">
                                                    <BeginStoryboard>
                                                        <Storyboard>
                                                            <ObjectAnimationUsingKeyFrames
                                                                Storyboard.TargetName="OpenViewSound"
                                                                Storyboard.TargetProperty="LoadedBehavior">
                                                                <DiscreteObjectKeyFrame KeyTime="0:0:0" Value="{x:Static MediaState.Stop}"/>
                                                                <DiscreteObjectKeyFrame KeyTime="0:0:0.01" Value="{x:Static MediaState.Play}"/>
                                                            </ObjectAnimationUsingKeyFrames>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </EventTrigger>
                                            </CheckBoxEx.Triggers>


                                            <!-- Style visuel de la card -->
                                            <CheckBoxEx.Template>
                                                <ControlTemplate TargetType="CheckBoxEx">
                                                    <Border x:Name="Root"
                                                            Background="#22000000"
                                                            CornerRadius="14"
                                                            Padding="12,8">
                                                        <ContentPresenter/>
                                                    </Border>

                                                    <ControlTemplate.Triggers>
                                                        <!-- Focus manette/clavier -->
                                                        <Trigger Property="IsKeyboardFocusWithin" Value="True">
                                                            <Setter TargetName="Root" Property="BorderThickness" Value="2"/>
                                                            <Setter TargetName="Root" Property="BorderBrush" Value="{DynamicResource FocusGameBorderBrush}"/>
                                                            <Setter TargetName="Root" Property="Background" Value="#2AFFFFFF"/>
                                                        </Trigger>


                                                    </ControlTemplate.Triggers>
                                                </ControlTemplate>
                                            </CheckBoxEx.Template>

                                            <CheckBoxEx.Content>
                                                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                                    <MediaElement x:Name="OpenViewSound"
                                                                  Source="{ThemeFile 'audio/activation.wav'}"
                                                                  LoadedBehavior="Manual"
                                                                  UnloadedBehavior="Close"
                                                                  Visibility="Collapsed"
                                                                  Volume="{Settings Fullscreen.InterfaceVolume}"
                                                                  IsMuted="False"/>
                                                    <!-- Avatar -->
                                                    <Border Width="48" Height="48"
                                                            CornerRadius="12"
                                                            Background="#33000000"
                                                            ClipToBounds="True">
                                                        <Image Source="{PluginSettings Plugin=SteamFriendsFullscreen, Path=SelfAvatar}"
                                                               Stretch="UniformToFill"/>
                                                    </Border>

                                                    <!-- Name + status -->
                                                    <StackPanel Margin="12,0,0,0" VerticalAlignment="Center">

                                                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                                            <!-- Status dot -->
                                                            <Border Width="10" Height="10" CornerRadius="5"
                                                                    Margin="0,0,10,0"
                                                                    BorderThickness="1"
                                                                    BorderBrush="#AA000000">
                                                                <Border.Style>
                                                                    <Style TargetType="Border">
                                                                        <Setter Property="Background" Value="#FF4CD964"/>
                                                                        <Setter Property="Opacity" Value="0.95"/>
                                                                        <Style.Triggers>
                                                                            <DataTrigger Binding="{PluginSettings Plugin=SteamFriendsFullscreen, Path=SelfState}" Value="offline">
                                                                                <Setter Property="Background" Value="#474747"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{PluginSettings Plugin=SteamFriendsFullscreen, Path=SelfState}" Value="away">
                                                                                <Setter Property="Background" Value="Orange"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{PluginSettings Plugin=SteamFriendsFullscreen, Path=SelfState}" Value="busy">
                                                                                <Setter Property="Background" Value="DarkRed"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{PluginSettings Plugin=SteamFriendsFullscreen, Path=SelfState}" Value="ingame">
                                                                                <Setter Property="Background" Value="#FF3DFF7A"/>
                                                                            </DataTrigger>

                                                                        </Style.Triggers>
                                                                    </Style>
                                                                </Border.Style>
                                                            </Border>

                                                            <!-- Name -->
                                                            <TextBlock Text="{PluginSettings Plugin=SteamFriendsFullscreen, Path=SelfName, FallbackValue=Me}"
                                                                       Style="{DynamicResource TextBlockBaseStyle}"
                                                                       FontSize="20"
                                                                       Foreground="WhiteSmoke"
                                                                       TextTrimming="CharacterEllipsis"/>

                                                            <!-- Petit hint -->
                                                            <TextBlock Text="  ⌄"
                                                                       FontSize="18"
                                                                       Foreground="WhiteSmoke"
                                                                       Opacity="0.65"
                                                                       Margin="6,0,0,0"/>
                                                        </StackPanel>

                                                        <!-- Game line (only when ingame) -->
                                                        <TextBlock Text="{PluginSettings Plugin=SteamFriendsFullscreen, Path=SelfGame}"
                                                                   Style="{DynamicResource TextBlockBaseStyle}"
                                                                   FontSize="14"
                                                                   Foreground="WhiteSmoke"
                                                                   Opacity="0.70"
                                                                   TextTrimming="CharacterEllipsis">
                                                            <TextBlock.Style>
                                                                <Style TargetType="TextBlock">
                                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                                    <Style.Triggers>
                                                                        <DataTrigger Binding="{PluginSettings Plugin=SteamFriendsFullscreen, Path=SelfState}" Value="ingame">
                                                                            <Setter Property="Visibility" Value="Visible"/>
                                                                        </DataTrigger>
                                                                    </Style.Triggers>
                                                                </Style>
                                                            </TextBlock.Style>
                                                        </TextBlock>

                                                    </StackPanel>
                                                </StackPanel>
                                            </CheckBoxEx.Content>
                                        </CheckBoxEx>







                                        <!-- RIGHT: PILLS -->
                                        <StackPanel Grid.Column="1"
                                                    Orientation="Horizontal"
                                                    HorizontalAlignment="Right"
                                                    VerticalAlignment="Center">

                                            <!-- ONLINE pill -->
                                            <Border Background="#AA000000"
                                                    CornerRadius="14"
                                                    Padding="14,6"
                                                    Margin="0,0,10,0">
                                                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                                    <Border Width="10" Height="10" CornerRadius="5"
                                                            Background="#FF4CD964"
                                                            Margin="0,0,8,0"
                                                            VerticalAlignment="Center"/>
                                                    <TextBlock Text="{DynamicResource LOCSteamOnline}"
                                                               Style="{DynamicResource TextBlockBaseStyle}"
                                                               FontSize="18"
                                                               Foreground="WhiteSmoke"
                                                               Opacity="0.85"/>
                                                    <TextBlock Text=" " FontSize="18"/>
                                                    <TextBlock Text="{PluginSettings Plugin=SteamFriendsFullscreen, Path=OnlineCount, FallbackValue=0}"
                                                               Style="{DynamicResource TextBlockBaseStyle}"
                                                               FontSize="18"
                                                               Foreground="WhiteSmoke"/>
                                                </StackPanel>
                                            </Border>

                                            <!-- IN GAME pill -->
                                            <Border Background="#AA000000"
                                                    CornerRadius="14"
                                                    Padding="14,6"
                                                    Margin="0,0,10,0">
                                                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                                    <Border Width="10" Height="10" CornerRadius="5"
                                                            Background="#FF3DFF7A"
                                                            Margin="0,0,8,0"
                                                            VerticalAlignment="Center"/>
                                                    <TextBlock Text="{DynamicResource LOCSteamInGame}"
                                                               Style="{DynamicResource TextBlockBaseStyle}"
                                                               FontSize="18"
                                                               Foreground="WhiteSmoke"
                                                               Opacity="0.85"/>
                                                    <TextBlock Text=" " FontSize="18"/>
                                                    <TextBlock Text="{PluginSettings Plugin=SteamFriendsFullscreen, Path=InGameCount, FallbackValue=0}"
                                                               Style="{DynamicResource TextBlockBaseStyle}"
                                                               FontSize="18"
                                                               Foreground="WhiteSmoke"/>
                                                </StackPanel>
                                            </Border>

                                            <!-- OFFLINE pill -->
                                            <Border Background="#AA000000"
                                                    CornerRadius="14"
                                                    Padding="14,6"
                                                    Margin="0,0,10,0">
                                                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                                    <Border Width="10" Height="10" CornerRadius="5"
                                                            Background="#FF5E5E5E"
                                                            Margin="0,0,8,0"
                                                            VerticalAlignment="Center"/>
                                                    <TextBlock Text="{DynamicResource LOCSteamOffline}"
                                                               Style="{DynamicResource TextBlockBaseStyle}"
                                                               FontSize="18"
                                                               Foreground="WhiteSmoke"
                                                               Opacity="0.75"/>
                                                    <TextBlock Text=" " FontSize="18"/>
                                                    <TextBlock Text="{PluginSettings Plugin=SteamFriendsFullscreen, Path=OfflineCount, FallbackValue=0}"
                                                               Style="{DynamicResource TextBlockBaseStyle}"
                                                               FontSize="18"
                                                               Foreground="WhiteSmoke"
                                                               Opacity="0.9"/>
                                                </StackPanel>
                                            </Border>

                                            <!-- STALE badge -->
                                            <Border Background="#AA402020"
                                                    CornerRadius="12"
                                                    Padding="10,6">
                                                <Border.Style>
                                                    <Style TargetType="Border">
                                                        <Setter Property="Visibility" Value="Collapsed"/>
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{PluginSettings Plugin=SteamFriendsFullscreen, Path=IsStale}" Value="True">
                                                                <Setter Property="Visibility" Value="Visible"/>
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </Border.Style>

                                                <TextBlock Text="{DynamicResource LOCSteamDataOutdated}"
                                                           Foreground="Orange"
                                                           FontSize="14"
                                                           Opacity="0.95"/>
                                            </Border>

                                        </StackPanel>
                                    </Grid>




                                    <!-- LIST -->
                                    <Border Grid.Row="1"
                                            Background="#33000000"
                                            CornerRadius="12"
                                            Padding="14"
                                            FocusVisualStyle="{x:Null}"
                                            CacheMode="BitmapCache">




                                        <!-- ===== ONLINE LIST ===== -->
                                        <ListBox x:Name="OnlineFriendsList"
                                                 ItemsSource="{PluginSettings Plugin=SteamFriendsFullscreen, Path=Friends}"
                                                 Background="Transparent"
                                                 BorderThickness="0"
                                                 FocusVisualStyle="{x:Null}"
                                                 ScrollViewer.VerticalScrollBarVisibility="Auto"
                                                 ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                                                 KeyboardNavigation.DirectionalNavigation="Continue"
                                                 KeyboardNavigation.TabNavigation="Continue"
                                                 IsTabStop="True"
                                                 Focusable="False">

                                            <ListBox.ItemContainerStyle>
                                                <Style TargetType="ListBoxItem">
                                                    <Setter Property="Padding" Value="0"/>
                                                    <Setter Property="Margin" Value="0,0,0,10"/>
                                                    <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
                                                    <Setter Property="Focusable" Value="True"/>
                                                    <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
                                                    <Setter Property="IsTabStop" Value="True"/>
                                                    <Setter Property="Template">
                                                        <Setter.Value>
                                                            <ControlTemplate TargetType="ListBoxItem">
                                                                <Border x:Name="ItemRoot"
                                                                        CornerRadius="12"
                                                                        Background="#0F838383"
                                                                        Padding="12">
                                                                    <ContentPresenter/>
                                                                </Border>

                                                                <ControlTemplate.Triggers>
                                                                    <Trigger Property="IsKeyboardFocusWithin" Value="True">
                                                                        <Setter TargetName="ItemRoot" Property="BorderThickness" Value="2"/>
                                                                        <Setter TargetName="ItemRoot" Property="BorderBrush" Value="{DynamicResource FocusGameBorderBrush}"/>
                                                                        <Setter TargetName="ItemRoot" Property="Background" Value="#2AFFFFFF"/>
                                                                    </Trigger>

                                                                    <!-- ✅ OFFLINE = plus sombre -->
                                                                    <DataTrigger Binding="{Binding state}" Value="offline">
                                                                        <Setter TargetName="ItemRoot" Property="Background" Value="#12000000"/>
                                                                        <Setter TargetName="ItemRoot" Property="Opacity" Value="0.70"/>
                                                                    </DataTrigger>
                                                                </ControlTemplate.Triggers>

                                                            </ControlTemplate>
                                                        </Setter.Value>
                                                    </Setter>
                                                </Style>
                                            </ListBox.ItemContainerStyle>

                                            <ListBox.ItemTemplate>
                                                <DataTemplate>
                                                    <Grid>
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="72"/>
                                                            <ColumnDefinition Width="*"/>
                                                            <ColumnDefinition Width="Auto"/>
                                                        </Grid.ColumnDefinitions>

                                                        <!-- Avatar + status dot -->
                                                        <Grid Width="60" Height="60">
                                                            <Border Width="52"
                                                                    Height="52"
                                                                    CornerRadius="10"
                                                                    Background="#22000000"
                                                                    ClipToBounds="True"
                                                                    HorizontalAlignment="Left"
                                                                    VerticalAlignment="Center">
                                                                <Image Source="{Binding avatar}"
                                                                       Stretch="UniformToFill">
                                                                    <Image.Style>
                                                                        <Style TargetType="Image">
                                                                            <Setter Property="Opacity" Value="1"/>
                                                                            <Style.Triggers>
                                                                                <DataTrigger Binding="{Binding state}" Value="offline">
                                                                                    <Setter Property="Opacity" Value="0.65"/>
                                                                                </DataTrigger>
                                                                            </Style.Triggers>
                                                                        </Style>
                                                                    </Image.Style>
                                                                </Image>
                                                            </Border>
                                                        </Grid>

                                                        <!-- Name + game -->
                                                        <StackPanel Grid.Column="1"
                                                                    Margin="8,0,0,0"
                                                                    VerticalAlignment="Center">

                                                            <!-- NAME ROW -->
                                                            <StackPanel Orientation="Horizontal"
                                                                        VerticalAlignment="Center">

                                                                <!-- STATUS DOT -->
                                                                <Border Width="10"
                                                                        Height="10"
                                                                        CornerRadius="5"
                                                                        Margin="0,0,10,0"
                                                                        BorderThickness="1"
                                                                        BorderBrush="#AA000000">

                                                                    <Border.Style>
                                                                        <Style TargetType="Border">
                                                                            <!-- default = online -->
                                                                            <Setter Property="Background" Value="#FF4CD964"/>
                                                                            <Setter Property="Opacity" Value="0.9"/>

                                                                            <Style.Triggers>
                                                                                <DataTrigger Binding="{Binding state}" Value="offline">
                                                                                    <Setter Property="Background" Value="#474747"/>
                                                                                    <Setter Property="Opacity" Value="0.9"/>
                                                                                </DataTrigger>

                                                                                <DataTrigger Binding="{Binding state}" Value="ingame">
                                                                                    <Setter Property="Background" Value="#FF3DFF7A"/>
                                                                                </DataTrigger>

                                                                                <DataTrigger Binding="{Binding state}" Value="away">
                                                                                    <Setter Property="Background" Value="Orange"/>
                                                                                </DataTrigger>

                                                                                <DataTrigger Binding="{Binding state}" Value="busy">
                                                                                    <Setter Property="Background" Value="DarkRed"/>
                                                                                </DataTrigger>
                                                                            </Style.Triggers>
                                                                        </Style>
                                                                    </Border.Style>

                                                                </Border>

                                                                <!-- NAME -->
                                                                <TextBlock Text="{Binding name}"
                                                                           Style="{DynamicResource TextBlockBaseStyle}"
                                                                           FontSize="22"
                                                                           Foreground="WhiteSmoke"
                                                                           TextTrimming="CharacterEllipsis"/>
                                                            </StackPanel>

                                                            <!-- GAME (hidden when offline) -->
                                                            <TextBlock Text="{Binding game}"
                                                                       Style="{DynamicResource TextBlockBaseStyle}"
                                                                       FontSize="16"
                                                                       Foreground="WhiteSmoke"
                                                                       Opacity="0.75"
                                                                       TextTrimming="CharacterEllipsis">
                                                                <TextBlock.Style>
                                                                    <Style TargetType="TextBlock">
                                                                        <Setter Property="Visibility" Value="Visible"/>
                                                                        <Style.Triggers>
                                                                            <DataTrigger Binding="{Binding state}" Value="offline">
                                                                                <Setter Property="Visibility" Value="Collapsed"/>
                                                                            </DataTrigger>
                                                                        </Style.Triggers>
                                                                    </Style>
                                                                </TextBlock.Style>
                                                            </TextBlock>

                                                        </StackPanel>


                                                        <!-- Status pill -->
                                                        <Border Grid.Column="2"
                                                                VerticalAlignment="Center"
                                                                CornerRadius="12"
                                                                Background="#AA000000"
                                                                Padding="10,6"
                                                                Margin="12,0,0,0">
                                                            <TextBlock Text="{Binding stateLoc}"
                                                                       Style="{DynamicResource TextBlockBaseStyle}"
                                                                       FontSize="14"
                                                                       Foreground="WhiteSmoke"
                                                                       Opacity="0.85"
                                                                       Typography.Capitals="AllSmallCaps"/>
                                                        </Border>

                                                    </Grid>
                                                </DataTemplate>
                                            </ListBox.ItemTemplate>

                                        </ListBox>


                                    </Border>




                                    <ButtonEx x:Name="BackButton"
                                              Grid.Row="2"
                                              Margin="0,15,10,10"
                                              HorizontalAlignment="Right"
                                              Style="{StaticResource IconBButton}"
                                              Content="{DynamicResource LOCBackLabel}" />

                                </Grid>


                                <!-- STATUS ONLY  -->
                                <Grid x:Name="FriendsStatusPage"
                                      FocusManager.FocusedElement="{Binding ElementName=StatusOnlineBtn}">
                                    <Grid.Style>
                                        <Style TargetType="Grid">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding ElementName=SelfStatusButton, Path=IsChecked}" Value="True">
                                                    <Setter Property="Visibility" Value="Visible"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Grid.Style>




                                    <!-- fond légèrement assombri -->
                                    <Border Background="#66000000" CornerRadius="12"/>

                                    <!-- carte centrée -->
                                    <Border Width="600"
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"
                                            Background="#E6000000"
                                            CornerRadius="18"
                                            Padding="18"
                                            BorderThickness="2"
                                            BorderBrush="{DynamicResource MenuBorderBrush}">
                                        <Border.Resources>

                                            <!-- Gros bouton "console" -->
                                            <Style x:Key="StatusMenuButtonStyle" TargetType="ButtonEx">
                                                <Setter Property="Height" Value="62"/>
                                                <Setter Property="HorizontalContentAlignment" Value="Center"/>
                                                <Setter Property="VerticalContentAlignment" Value="Center"/>
                                                <Setter Property="FontSize" Value="26"/>
                                                <Setter Property="Foreground" Value="WhiteSmoke"/>
                                                <Setter Property="Background" Value="#00000000"/>
                                                <Setter Property="BorderThickness" Value="0"/>
                                                <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
                                                <Setter Property="Template">
                                                    <Setter.Value>
                                                        <ControlTemplate TargetType="ButtonEx">
                                                            <Border x:Name="Root"
                                                                    CornerRadius="12"
                                                                    Background="#12000000"
                                                                    BorderThickness="2"
                                                                    BorderBrush="#00000000"
                                                                    Padding="16,10">
                                                                <ContentPresenter HorizontalAlignment="Center"
                                                                                  VerticalAlignment="Center"/>
                                                            </Border>

                                                            <ControlTemplate.Triggers>
                                                                <Trigger Property="IsKeyboardFocusWithin" Value="True">
                                                                    <Setter TargetName="Root" Property="Background" Value="#1EFFFFFF"/>
                                                                    <Setter TargetName="Root" Property="BorderBrush" Value="{DynamicResource FocusGameBorderBrush}"/>
                                                                </Trigger>
                                                                <Trigger Property="IsEnabled" Value="False">
                                                                    <Setter TargetName="Root" Property="Opacity" Value="0.45"/>
                                                                </Trigger>
                                                            </ControlTemplate.Triggers>
                                                        </ControlTemplate>
                                                    </Setter.Value>
                                                </Setter>
                                            </Style>

                                            <!-- Même look mais en ToggleButtonEx -->
                                            <Style x:Key="StatusMenuToggleStyle" TargetType="CheckBoxEx">
                                                <Setter Property="Height" Value="62"/>
                                                <Setter Property="HorizontalContentAlignment" Value="Center"/>
                                                <Setter Property="VerticalContentAlignment" Value="Center"/>
                                                <Setter Property="FontSize" Value="26"/>
                                                <Setter Property="Foreground" Value="WhiteSmoke"/>
                                                <Setter Property="Background" Value="#00000000"/>
                                                <Setter Property="BorderThickness" Value="0"/>
                                                <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
                                                <Setter Property="Template">
                                                    <Setter.Value>
                                                        <ControlTemplate TargetType="CheckBoxEx">
                                                            <Border x:Name="Root"
                                                                    CornerRadius="12"
                                                                    Background="#12000000"
                                                                    BorderThickness="2"
                                                                    BorderBrush="#00000000"
                                                                    Padding="16,10">
                                                                <ContentPresenter HorizontalAlignment="Center"
                                                                                  VerticalAlignment="Center"/>
                                                            </Border>

                                                            <ControlTemplate.Triggers>
                                                                <Trigger Property="IsKeyboardFocusWithin" Value="True">
                                                                    <Setter TargetName="Root" Property="Background" Value="#1EFFFFFF"/>
                                                                    <Setter TargetName="Root" Property="BorderBrush" Value="{DynamicResource FocusGameBorderBrush}"/>
                                                                </Trigger>

                                                                <!-- Optionnel : si Checked, on peut le traiter comme "validé" -->
                                                                <Trigger Property="IsChecked" Value="True">
                                                                    <Setter TargetName="Root" Property="Opacity" Value="0.95"/>
                                                                </Trigger>

                                                                <Trigger Property="IsEnabled" Value="False">
                                                                    <Setter TargetName="Root" Property="Opacity" Value="0.45"/>
                                                                </Trigger>
                                                            </ControlTemplate.Triggers>
                                                        </ControlTemplate>
                                                    </Setter.Value>
                                                </Setter>
                                            </Style>

                                        </Border.Resources>


                                        <Grid>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                            </Grid.RowDefinitions>



                                            <!-- SELF STATUS HEADER -->
                                            <StackPanel Orientation="Horizontal" Grid.Row="0"
                                                        Margin="0,0,0,18"
                                                        HorizontalAlignment="Left"
                                                        VerticalAlignment="Top">

                                                <!-- Avatar -->
                                                <Border Width="56" Height="56"
                                                        CornerRadius="14"
                                                        Background="#33000000"
                                                        ClipToBounds="True">
                                                    <Image Source="{PluginSettings Plugin=SteamFriendsFullscreen, Path=SelfAvatar}"
                                                           Stretch="UniformToFill"/>
                                                </Border>

                                                <StackPanel Margin="14,0,0,0"  VerticalAlignment="Center">

                                                    <!-- Username -->
                                                    <TextBlock Text="{PluginSettings Plugin=SteamFriendsFullscreen, Path=SelfName}"
                                                               FontSize="20"
                                                               Foreground="WhiteSmoke"
                                                               FontWeight="SemiBold"/>

                                                    <!-- Status line -->
                                                    <StackPanel Orientation="Horizontal" Margin="0,6,0,0">

                                                        <!-- Status dot -->
                                                        <Border Width="10" Height="10"
                                                                CornerRadius="5"
                                                                Margin="0,0,8,0">
                                                            <Border.Style>
                                                                <Style TargetType="Border">
                                                                    <Setter Property="Background" Value="#FF4CD964"/>
                                                                    <Style.Triggers>
                                                                        <DataTrigger Binding="{PluginSettings Plugin=SteamFriendsFullscreen, Path=SelfState}" Value="offline">
                                                                            <Setter Property="Background" Value="#474747"/>
                                                                        </DataTrigger>
                                                                        <DataTrigger Binding="{PluginSettings Plugin=SteamFriendsFullscreen, Path=SelfState}" Value="away">
                                                                            <Setter Property="Background" Value="Orange"/>
                                                                        </DataTrigger>
                                                                        <DataTrigger Binding="{PluginSettings Plugin=SteamFriendsFullscreen, Path=SelfState}" Value="busy">
                                                                            <Setter Property="Background" Value="DarkRed"/>
                                                                        </DataTrigger>
                                                                        <DataTrigger Binding="{PluginSettings Plugin=SteamFriendsFullscreen, Path=SelfState}" Value="ingame">
                                                                            <Setter Property="Background" Value="#FF3DFF7A"/>
                                                                        </DataTrigger>
                                                                    </Style.Triggers>
                                                                </Style>
                                                            </Border.Style>
                                                        </Border>

                                                        <!-- Status text -->
                                                        <TextBlock Text="{PluginSettings Plugin=SteamFriendsFullscreen, Path=SelfStateLoc}"
                                                                   FontSize="14"
                                                                   Foreground="WhiteSmoke"
                                                                   Opacity="0.8"/>
                                                    </StackPanel>

                                                </StackPanel>
                                            </StackPanel>


                                            <StackPanel Grid.Row="1"
                                                        KeyboardNavigation.DirectionalNavigation="Cycle"
                                                        KeyboardNavigation.TabNavigation="Cycle">

                                                <ButtonEx x:Name="StatusOnlineBtn"
                                                          Style="{StaticResource StatusMenuButtonStyle}"
                                                          Content="{DynamicResource LOCSteamOnline}"
                                                          pbeh:FocusBahaviors.FocusBinding="{Binding ElementName=FriendsStatusPage, Path=IsVisible}"
                                                          Margin="0,0,0,12"
                                                          Command="{PluginSettings Plugin=SteamFriendsFullscreen, Path=SetStatusOnlineCommand}" >
                                                    <ButtonEx.Triggers>
                                                        <EventTrigger RoutedEvent="ButtonBase.Click">
                                                            <BeginStoryboard>
                                                                <Storyboard>
                                                                    <ObjectAnimationUsingKeyFrames
                                                                        Storyboard.TargetName="OpenViewSound"
                                                                        Storyboard.TargetProperty="LoadedBehavior">
                                                                        <DiscreteObjectKeyFrame KeyTime="0:0:0" Value="{x:Static MediaState.Stop}"/>
                                                                        <DiscreteObjectKeyFrame KeyTime="0:0:0.01" Value="{x:Static MediaState.Play}"/>
                                                                    </ObjectAnimationUsingKeyFrames>
                                                                </Storyboard>
                                                            </BeginStoryboard>
                                                        </EventTrigger>
                                                    </ButtonEx.Triggers>
                                                </ButtonEx>



                                                <ButtonEx Style="{StaticResource StatusMenuButtonStyle}"
                                                          Content="{DynamicResource LOCSteamBusy}"
                                                          Margin="0,0,0,12"
                                                          Command="{PluginSettings Plugin=SteamFriendsFullscreen, Path=SetStatusBusyCommand}" >
                                                    <ButtonEx.Triggers>
                                                        <EventTrigger RoutedEvent="ButtonBase.Click">
                                                            <BeginStoryboard>
                                                                <Storyboard>
                                                                    <ObjectAnimationUsingKeyFrames
                                                                        Storyboard.TargetName="OpenViewSound"
                                                                        Storyboard.TargetProperty="LoadedBehavior">
                                                                        <DiscreteObjectKeyFrame KeyTime="0:0:0" Value="{x:Static MediaState.Stop}"/>
                                                                        <DiscreteObjectKeyFrame KeyTime="0:0:0.01" Value="{x:Static MediaState.Play}"/>
                                                                    </ObjectAnimationUsingKeyFrames>
                                                                </Storyboard>
                                                            </BeginStoryboard>
                                                        </EventTrigger>
                                                    </ButtonEx.Triggers>
                                                </ButtonEx>

                                                <ButtonEx Style="{StaticResource StatusMenuButtonStyle}"
                                                          Content="{DynamicResource LOCSteamOffline}"
                                                          Margin="0,0,0,18"
                                                          Command="{PluginSettings Plugin=SteamFriendsFullscreen, Path=SetStatusInvisibleCommand}" >
                                                    <ButtonEx.Triggers>
                                                        <EventTrigger RoutedEvent="ButtonBase.Click">
                                                            <BeginStoryboard>
                                                                <Storyboard>
                                                                    <ObjectAnimationUsingKeyFrames
                                                                        Storyboard.TargetName="OpenViewSound"
                                                                        Storyboard.TargetProperty="LoadedBehavior">
                                                                        <DiscreteObjectKeyFrame KeyTime="0:0:0" Value="{x:Static MediaState.Stop}"/>
                                                                        <DiscreteObjectKeyFrame KeyTime="0:0:0.01" Value="{x:Static MediaState.Play}"/>
                                                                    </ObjectAnimationUsingKeyFrames>
                                                                </Storyboard>
                                                            </BeginStoryboard>
                                                        </EventTrigger>
                                                    </ButtonEx.Triggers>
                                                </ButtonEx>


                                                <!-- RETOUR : même look que les autres, mais c'est un Toggle bindé sur SelfStatusButton -->
                                                <CheckBoxEx Style="{StaticResource StatusMenuToggleStyle}" Opacity="0.9"
                                                            Content="{DynamicResource LOCBackLabel}"
                                                            IsChecked="{Binding ElementName=SelfStatusButton, Path=IsChecked}" />
                                            </StackPanel>


                                        </Grid>
                                    </Border>
                                </Grid>
                            </Grid>

                        </Grid>

                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Vue Principal -->
    <Style TargetType="{x:Type Main}">
        <Setter Property="Template">
            <Setter.Value>
                <!-- Définition du modèle de contrôle -->
                <ControlTemplate TargetType="{x:Type Main}">
                    <!-- Contenu du contrôle -->
                    <Grid x:Name="PART_MainHost"
                          d:DesignWidth="{StaticResource DesignWidth}"
                          d:DesignHeight="{StaticResource DesignHeight}"
                          d:DataContext="{x:Static DesignMainViewModel.DesignIntance}" >
                        <Grid.Resources>
                            <p:BindingProxy x:Key="MAIN_Commands" Data="{Binding}" />
                            <p:BindingProxy x:Key="THEMEOPTIONS_Commands" Data="{Binding Content, ElementName=ThemeOptions_Command}" />
                            <ControlTemplate x:Key="AnimVideoTemplate" TargetType="ContentControl">
                                <MediaElement
                                    LoadedBehavior="Play"
                                    UnloadedBehavior="Close"
                                    Source="{ThemeFile 'Startup Video/Anim.mp4'}"
                                    Stretch="Uniform"
                                    Width="206" Height="206"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                    Margin="0,-145,0,0">
                                    <MediaElement.Style>
                                        <Style TargetType="MediaElement">
                                            <Setter Property="MediaElementBehaviors.Repeat" Value="True"/>
                                            <Style.Triggers>
                                                <!-- Fenêtre inactive => stop net -->
                                                <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=Window}, Path=IsActive}" Value="False">
                                                    <Setter Property="LoadedBehavior" Value="Stop"/>
                                                    <Setter Property="MediaElementBehaviors.Repeat" Value="False"/>
                                                    <Setter Property="Source" Value=""/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </MediaElement.Style>
                                </MediaElement>
                            </ControlTemplate>
                        </Grid.Resources>

                        <!-- Style de la grille principale -->
                        <Grid.Style>
                            <Style TargetType="Grid">
                                <Setter Property="Background" Value="Transparent"/>
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding ElementName=WrongColumns, Path=Visibility}" Value="Visible" >
                                        <Setter Property="Background" Value="{DynamicResource DynamicGlowBackgroundSuccess}"/>
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding ElementName=Acceuil, Path=Visibility}" Value="Visible" >
                                        <Setter Property="Background" Value="{DynamicResource OverlayMenu}"/>
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Grid.Style>

                        <ContentControl x:Name="ThemeOptions_GamepadAdd" >
                            <ContentControl.Style>
                                <Style TargetType="ContentControl">
                                    <Setter Property="Tag" Value="True"/>
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding Visibility, ElementName=PART_ElemGameDetails}" Value="Visible">
                                            <Setter Property="Tag" Value="False"/>
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding Visibility, ElementName=PART_ElemGameStatus}" Value="Visible">
                                            <Setter Property="Tag" Value="False"/>
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding Visibility, ElementName=AcceuilSettings}" Value="Visible">
                                            <Setter Property="Tag" Value="False"/>
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding ElementName=WelcomeControl, Path=Tag}" Value="False" >
                                            <Setter Property="Tag" Value="False"/>
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding Visibility, ElementName=WrongSettings}" Value="Visible">
                                            <Setter Property="Tag" Value="False"/>
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding Visibility, ElementName=PART_ElemFilters}" Value="Visible">
                                            <Setter Property="Tag" Value="False"/>
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding Visibility, ElementName=PART_ContentFilterItems}" Value="Visible">
                                            <Setter Property="Tag" Value="False"/>
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding Visibility, ElementName=PART_ElemFiltersAdditional}" Value="Visible">
                                            <Setter Property="Tag" Value="False"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </ContentControl.Style>
                            <ContentControl.InputBindings>
                                <pin:GameControllerInputBinding
                                    Button="Start"
                                    Command="{Binding Content.GameControllerAltCommand, ElementName=ThemeOptions_Command}"
                                    CommandParameter="{Binding Data.OpenMainMenuCommand, Source={StaticResource MAIN_Commands}}"/>

                                <pin:GameControllerInputBinding
                                    Button="Y"
                                    Command="{Binding Content.GameControllerAltCommand, ElementName=ThemeOptions_Command}"
                                    CommandParameter="{Binding Data.OpenGameMenuCommand, Source={StaticResource MAIN_Commands}}"/>

                                <pin:GameControllerInputBinding
                                    Button="Back"
                                    Command="{Binding Data.Toggle, Source={StaticResource THEMEOPTIONS_Commands}}"
                                    CommandParameter="ControlCenterButton"/>

                                <pin:GameControllerInputBinding
                                    Button="X"
                                    Command="{Binding Data.Toggle, Source={StaticResource THEMEOPTIONS_Commands}}"
                                    CommandParameter="ChangeViewButton"/>

                                <pin:GameControllerInputBinding
                                    Button="LeftStick"
                                    Command="{Binding Content.GameControllerAltCommand, ElementName=ThemeOptions_Command}"
                                    CommandParameter="{Binding Data.OpenSearchCommand, Source={StaticResource MAIN_Commands}}"/>

                            </ContentControl.InputBindings>
                        </ContentControl>

                        <!-- Vidéo d'introduction -->
                        <Grid Name="IntroVideoBackground" Panel.ZIndex="99" Background="Black" IsHitTestVisible="False">
                            <Grid.Style>
                                <Style TargetType="Grid">
                                    <Setter Property="Visibility" Value="Visible"/>
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding Opacity, ElementName=IntroVideo}" Value="1">
                                            <DataTrigger.EnterActions>
                                                <BeginStoryboard>
                                                    <Storyboard>
                                                        <DoubleAnimation
                                                            Storyboard.TargetProperty="Opacity"
                                                            From="1.0" To="0.0" BeginTime="0:0:1" Duration="0:0:2"/>
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </DataTrigger.EnterActions>
                                            <DataTrigger.ExitActions>
                                                <BeginStoryboard>
                                                    <Storyboard>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Visibility">
                                                            <DiscreteObjectKeyFrame KeyTime="0:0:2" Value="{x:Static Visibility.Collapsed}"/>
                                                        </ObjectAnimationUsingKeyFrames>
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </DataTrigger.ExitActions>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Grid.Style>
                        </Grid>

                        <Grid Name="IntroVideo" Panel.ZIndex="100">
                            <ContentControl x:Name="IntroHost" Style="{DynamicResource IntroVideo1}" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"/>
                        </Grid>

                        <!-- Grille pour vue Hote -->
                        <Grid x:Name="PART_ViewHost" ClipToBounds="True" RenderTransformOrigin="0.5,0.5">
                            <Grid.RenderTransform>
                                <ScaleTransform  ScaleX="1" ScaleY="1"/>
                            </Grid.RenderTransform>
                            <Grid.Style>
                                <Style TargetType="Grid">
                                    <Setter Property="Opacity" Value="1" />
                                    <Style.Triggers>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}" Value="Visible" />
                                                <Condition Binding="{Binding Game.IsRunning}" Value="True" />
                                            </MultiDataTrigger.Conditions>
                                            <MultiDataTrigger.Setters>
                                                <Setter Property="Visibility" Value="Collapsed" />
                                                <Setter Property="Focusable" Value="False" />
                                                <Setter Property="IsHitTestVisible" Value="False" />
                                            </MultiDataTrigger.Setters>
                                        </MultiDataTrigger>
                                        <DataTrigger Binding="{Binding ElementName=AcceuilSettings, Path=Visibility}" Value="Visible" >
                                            <Setter Property="Visibility" Value="Collapsed" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding ElementName=WrongColumns, Path=Visibility}" Value="Visible" >
                                            <Setter Property="Visibility" Value="Collapsed" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding ElementName=WelcomeControl, Path=Tag}" Value="False" >
                                            <Setter Property="Visibility" Value="Collapsed" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding ElementName=TOMissing, Path=Visibility}" Value="Visible" >
                                            <Setter Property="Visibility" Value="Collapsed" />
                                        </DataTrigger>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Binding RelativeSource={RelativeSource AncestorType=Window}, Path=IsActive}" Value="False"/>
                                                <Condition Binding="{Binding ElementName=PART_ViewHost, Path=Visibility}" Value="Collapsed" />
                                            </MultiDataTrigger.Conditions>
                                            <MultiDataTrigger.Setters>
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                            </MultiDataTrigger.Setters>
                                        </MultiDataTrigger>

                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[PerformanceMode]}" Value="False"/>
                                                <Condition Binding="{Binding ElementName=WelcomeControl, Path=Tag}" Value="True"/>
                                            </MultiDataTrigger.Conditions>
                                            <MultiDataTrigger.EnterActions>
                                                <BeginStoryboard>
                                                    <Storyboard FillBehavior="Stop">

                                                        <!-- Fade-in -->
                                                        <DoubleAnimation
                                                            Storyboard.TargetProperty="Opacity"
                                                            From="0"
                                                            To="1"
                                                            Duration="0:0:0.28">
                                                            <DoubleAnimation.EasingFunction>
                                                                <CubicEase EasingMode="EaseOut" />
                                                            </DoubleAnimation.EasingFunction>
                                                        </DoubleAnimation>

                                                        <!-- Zoom soft -->
                                                        <DoubleAnimation
                                                            Storyboard.TargetProperty="(RenderTransform).(ScaleTransform.ScaleX)"
                                                            From="1.1"
                                                            To="1"
                                                            Duration="0:0:0.38">
                                                            <DoubleAnimation.EasingFunction>
                                                                <CubicEase EasingMode="EaseOut" />
                                                            </DoubleAnimation.EasingFunction>
                                                        </DoubleAnimation>

                                                        <DoubleAnimation
                                                            Storyboard.TargetProperty="(RenderTransform).(ScaleTransform.ScaleY)"
                                                            From="1.1"
                                                            To="1"
                                                            Duration="0:0:0.38">
                                                            <DoubleAnimation.EasingFunction>
                                                                <CubicEase EasingMode="EaseOut" />
                                                            </DoubleAnimation.EasingFunction>
                                                        </DoubleAnimation>

                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </MultiDataTrigger.EnterActions>
                                        </MultiDataTrigger>

                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[PerformanceMode]}" Value="False"/>
                                                <Condition Binding="{Binding ElementName=Acceuil, Path=IsChecked}" Value="True"/>
                                            </MultiDataTrigger.Conditions>
                                            <MultiDataTrigger.EnterActions>
                                                <BeginStoryboard>
                                                    <Storyboard FillBehavior="Stop">

                                                        <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                                         From="0" To="1" BeginTime="0:0:0"
                                                                         Duration="0:0:1">
                                                            <DoubleAnimation.EasingFunction>
                                                                <CubicEase EasingMode="EaseOut"/>
                                                            </DoubleAnimation.EasingFunction>
                                                        </DoubleAnimation>

                                                        <DoubleAnimation Storyboard.TargetProperty="(RenderTransform).(ScaleTransform.ScaleX)"
                                                                         From="1.3" To="1" BeginTime="0:0:0"
                                                                         Duration="0:0:1">
                                                            <DoubleAnimation.EasingFunction>
                                                                <CubicEase EasingMode="EaseInOut"/>
                                                            </DoubleAnimation.EasingFunction>
                                                        </DoubleAnimation>
                                                        <DoubleAnimation
                                                            Storyboard.TargetProperty="(RenderTransform).(ScaleTransform.ScaleY)"
                                                            From="1.3" To="1" BeginTime="0:0:0"
                                                            Duration="0:0:1">


                                                            <DoubleAnimation.EasingFunction>
                                                                <CubicEase EasingMode="EaseInOut"/>
                                                            </DoubleAnimation.EasingFunction>
                                                        </DoubleAnimation>
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </MultiDataTrigger.EnterActions>
                                        </MultiDataTrigger>




                                    </Style.Triggers>
                                </Style>
                            </Grid.Style>

                            <!-- Définition des lignes -->
                            <Grid.RowDefinitions>
                                <RowDefinition Height="90" />
                                <RowDefinition Height="*" />
                                <RowDefinition Height="650" />
                                <RowDefinition Height="60" />
                                <RowDefinition Height="80" />
                            </Grid.RowDefinitions>

                            <Grid.ColumnDefinitions>
                                <ColumnDefinition>
                                    <ColumnDefinition.Style>
                                        <Style TargetType="ColumnDefinition" >
                                            <Setter Property="Width" Value="Auto"/>
                                        </Style>
                                    </ColumnDefinition.Style>
                                </ColumnDefinition>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition >
                                    <ColumnDefinition.Style>
                                        <Style TargetType="ColumnDefinition" >
                                            <Setter Property="Width" Value="Auto"/>
                                        </Style>
                                    </ColumnDefinition.Style>
                                </ColumnDefinition>
                            </Grid.ColumnDefinitions>

                            <Border>
                                <Border.Style>
                                    <Style TargetType="Border">
                                        <Setter Property="Visibility" Value="Visible"/>
                                        <Setter Property="Opacity" Value="1"/>
                                        <Setter Property="Background" Value="{DynamicResource OverlayMenu}"/>
                                        <Setter Property="Panel.ZIndex" Value="-46"/>
                                        <Setter Property="Grid.Row" Value="0"/>
                                        <Setter Property="Grid.RowSpan" Value="4"/>
                                        <Setter Property="Grid.ColumnSpan" Value="3"/>
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}" Value="False">
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Border.Style>
                            </Border>

                            <Border SnapsToDevicePixels="True" UseLayoutRounding="True">
                                <Border.Style>
                                    <Style TargetType="Border">
                                        <Setter Property="Visibility" Value="Visible"/>
                                        <Setter Property="Opacity" Value="1"/>
                                        <Setter Property="Background" Value="{DynamicResource ShadeBackground}"/>
                                        <Setter Property="Panel.ZIndex" Value="-45"/>
                                        <Setter Property="Grid.Row" Value="0"/>
                                        <Setter Property="Grid.RowSpan" Value="5"/>
                                        <Setter Property="Grid.ColumnSpan" Value="3"/>
                                        <Setter Property="Margin" Value="0,1300,0,0"/>

                                        <Style.Triggers>
                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[SteamBanner]}" Value="True">
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                            </DataTrigger>
                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}" Value="Collapsed" />
                                                    <Condition Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}" Value="False"/>
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[SteamBanner]}" Value="False"/>
                                                </MultiDataTrigger.Conditions>
                                                <MultiDataTrigger.EnterActions>
                                                    <BeginStoryboard>
                                                        <Storyboard>
                                                            <ThicknessAnimation Storyboard.TargetProperty="Margin" To="0,0,0,0" BeginTime="0:0:0" Duration="0:0:1.35" >
                                                                <ThicknessAnimation.EasingFunction>
                                                                    <CubicEase EasingMode="EaseInOut"/>
                                                                </ThicknessAnimation.EasingFunction>
                                                            </ThicknessAnimation>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </MultiDataTrigger.EnterActions>
                                                <MultiDataTrigger.ExitActions>
                                                    <BeginStoryboard>
                                                        <Storyboard>
                                                            <ThicknessAnimation Storyboard.TargetProperty="Margin" From="0,0,0,0" Duration="0:0:1.35">
                                                                <ThicknessAnimation.EasingFunction>
                                                                    <CubicEase EasingMode="EaseInOut"/>
                                                                </ThicknessAnimation.EasingFunction>
                                                            </ThicknessAnimation>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </MultiDataTrigger.ExitActions>
                                            </MultiDataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Border.Style>
                            </Border>

                            <!-- Interface -->
                            <Border RenderOptions.BitmapScalingMode="Fant">
                                <Border.Style>
                                    <Style TargetType="Border">
                                        <Setter Property="Visibility" Value="Visible"/>
                                        <Setter Property="Opacity" Value="1"/>
                                        <Setter Property="Background" Value="{DynamicResource OverlayMenu}"/>
                                        <Setter Property="Panel.ZIndex" Value="-47"/>
                                        <Setter Property="Grid.Row" Value="0"/>
                                        <Setter Property="Grid.RowSpan" Value="5"/>
                                        <Setter Property="Grid.ColumnSpan" Value="3"/>
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}" Value="Visible">
                                                <Setter Property="Visibility" Value="Visible"/>
                                            </DataTrigger>
                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding Path=SelectedGame.BackgroundImage}" Value="{x:Null}"/>
                                                    <Condition Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}" Value="True"/>
                                                </MultiDataTrigger.Conditions>
                                                <MultiDataTrigger.Setters>
                                                    <Setter Property="Background" Value="{DynamicResource OverlayMenu}"/>
                                                </MultiDataTrigger.Setters>
                                            </MultiDataTrigger>
                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding PART_ImageBackground}" Value="{x:Null}"/>
                                                    <Condition Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}" Value="False"/>
                                                </MultiDataTrigger.Conditions>
                                                <Setter Property="Visibility" Value="Visible"/>
                                            </MultiDataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Border.Style>
                            </Border>

                            <Grid FocusVisualStyle="{x:Null}" Panel.ZIndex="1" HorizontalAlignment="Stretch" VerticalAlignment="Top" Height="80">
                                <Grid.Style>
                                    <Style TargetType="Grid">
                                        <Setter Property="Opacity" Value="0"/>
                                        <Setter Property="VerticalAlignment" Value="Stretch"/>
                                        <Setter Property="Background" Value="Transparent"/>
                                        <Setter Property="Grid.Row" Value="0"/>
                                        <Setter Property="Grid.ColumnSpan" Value="3"/>
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}" Value="Visible">
                                                <Setter Property="Focusable" Value="False"/>
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding ElementName=ControlCenter, Path=Visibility}" Value="Visible">
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding ElementName=PART_MainHost, Path=Visibility}" Value="Visible">
                                                <DataTrigger.EnterActions>
                                                    <BeginStoryboard>
                                                        <Storyboard>
                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity" BeginTime="0:0:0.1" Duration="0:0:1.5" To="1" />
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </DataTrigger.EnterActions>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Grid.Style>

                                <Grid>
                                    <Grid.Style>
                                        <Style TargetType="Grid">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                            <Style.Triggers>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[FullBar]}" Value="True">
                                                    <Setter Property="Visibility" Value="Visible"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Grid.Style>


                                    <!-- Fond verre -->
                                    <Border CornerRadius="0"
                                            Background="{DynamicResource OverlayMenu}"
                                            Opacity="0.9"
                                            HorizontalAlignment="Stretch" VerticalAlignment="Stretch"/>

                                    <!-- Reflet vertical discret -->
                                    <Border CornerRadius="0" IsHitTestVisible="False" Background="{DynamicResource GlassMainBrush}" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" />

                                    <!-- Liseré interne -->
                                    <Border CornerRadius="0"
                                            Margin="1"
                                            BorderBrush="{DynamicResource GlassInnerLineBrush}"
                                            IsHitTestVisible="False" BorderThickness="0,0,0,1"
                                            HorizontalAlignment="Stretch" VerticalAlignment="Stretch"/>


                                    <!-- Hairline -->
                                    <Border HorizontalAlignment="Stretch" Height="1.5" VerticalAlignment="Bottom"
                                            Background="{DynamicResource MenuBorderBrush}" Opacity="0.8"
                                            CornerRadius="0"/>

                                </Grid>

                                <Grid>


                                    <Grid Grid.Column="2" Grid.Row="0" ZIndex="100" Margin="0,0,20,0" HorizontalAlignment="Right">
                                        <Grid.Style>
                                            <Style TargetType="Grid">
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}" Value="Visible">
                                                        <Setter Property="Visibility" Value="Collapsed"/>
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </Grid.Style>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="Auto" />
                                            <ColumnDefinition Width="Auto" />
                                            <ColumnDefinition Width="Auto" />
                                            <ColumnDefinition Width="Auto" />
                                            <ColumnDefinition Width="Auto" />
                                            <ColumnDefinition Width="Auto" />
                                        </Grid.ColumnDefinitions>



                                        <!-- Battery -->
                                        <ContentControl x:Name="PART_ElemBatteryStatus" Focusable="False" FontSize="30"
                                                        VerticalAlignment="Center" Margin="20,-10,0,0"
                                                        Grid.Column="2">
                                            <ContentControl.Style>
                                                <Style TargetType="ContentControl">
                                                    <Setter Property="Effect" Value="{StaticResource SoftTextShadow}"/>
                                                    <Setter Property="Foreground" Value="{DynamicResource TextBrush}" />
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding PowerStatus.Charge}" Value="Critical">
                                                            <Setter Property="Content">
                                                                <Setter.Value>
                                                                    <Image Source="{ThemeFile 'Images/Buttons/Battery_Critical.png'}" RenderOptions.BitmapScalingMode="Fant" Height="30"/>
                                                                </Setter.Value>
                                                            </Setter>
                                                            <Setter Property="Foreground" Value="Red" />
                                                        </DataTrigger>
                                                        <DataTrigger Binding="{Binding PowerStatus.Charge}" Value="Low">
                                                            <Setter Property="Content">
                                                                <Setter.Value>
                                                                    <Image Source="{ThemeFile 'Images/Buttons/Battery_Low.png'}" RenderOptions.BitmapScalingMode="Fant" Height="30"/>
                                                                </Setter.Value>
                                                            </Setter>
                                                        </DataTrigger>
                                                        <DataTrigger Binding="{Binding PowerStatus.Charge}" Value="Medium">
                                                            <Setter Property="Content">
                                                                <Setter.Value>
                                                                    <Image Source="{ThemeFile 'Images/Buttons/Battery_Medium.png'}" RenderOptions.BitmapScalingMode="Fant" Height="30"/>
                                                                </Setter.Value>
                                                            </Setter>
                                                        </DataTrigger>
                                                        <DataTrigger Binding="{Binding PowerStatus.Charge}" Value="High">
                                                            <Setter Property="Content">
                                                                <Setter.Value>
                                                                    <Image Source="{ThemeFile 'Images/Buttons/Battery_Full.png'}" RenderOptions.BitmapScalingMode="Fant" Height="30"/>
                                                                </Setter.Value>
                                                            </Setter>
                                                        </DataTrigger>
                                                        <DataTrigger Binding="{Binding PowerStatus.IsCharging}" Value="True">
                                                            <Setter Property="Content">
                                                                <Setter.Value>
                                                                    <Image Source="{ThemeFile 'Images/Buttons/Battery_Charging.png'}" RenderOptions.BitmapScalingMode="Fant" Height="30"/>
                                                                </Setter.Value>
                                                            </Setter>
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </ContentControl.Style>
                                        </ContentControl>

                                        <TextBlock x:Name="PART_TextBatteryPercentage" Style="{DynamicResource TextBlockBoldBaseStyle}" Foreground="#F6F6F6"
                                                   VerticalAlignment="Center" Margin="20,-10,0,0" FontSize="26"  Grid.Column="1" Effect="{StaticResource SoftTextShadow}"/>

                                        <TextBlock  x:Name="MoData_Wifi" Grid.Column="3"
                                                   Focusable="False" FontSize="32"
                                                   VerticalAlignment="Center" Margin="20,-10,0,0"
                                                   FontFamily="Segoe Fluent Icons"
                                                   Foreground="{DynamicResource TextBrush}">
                                            <TextBlock.Style>
                                                <Style TargetType="TextBlock">
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{PluginStatus Plugin=MoData_5a0a672a-998a-4cf3-94ea-44543de5afcb, Status=Installed}" Value="False">
                                                            <Setter Property="Visibility" Value="Collapsed" />
                                                        </DataTrigger>
                                                        <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[ShowMoData]}" Value="False">
                                                            <Setter Property="Visibility" Value="Collapsed" />
                                                        </DataTrigger>
                                                        <DataTrigger Binding="{PluginSettings Plugin=MoData, Path=WifiStrength}" Value="Full">
                                                            <Setter Property="Text" Value="&#xe701;" />
                                                        </DataTrigger>
                                                        <DataTrigger Binding="{PluginSettings Plugin=MoData, Path=WifiStrength}" Value="Strong">
                                                            <Setter Property="Text" Value="&#xe874;" />
                                                        </DataTrigger>
                                                        <DataTrigger Binding="{PluginSettings Plugin=MoData, Path=WifiStrength}" Value="Medium">
                                                            <Setter Property="Text" Value="&#xe873;" />
                                                        </DataTrigger>
                                                        <DataTrigger Binding="{PluginSettings Plugin=MoData, Path=WifiStrength}" Value="Weak">
                                                            <Setter Property="Text" Value="&#xe872;" />
                                                        </DataTrigger>
                                                        <DataTrigger Binding="{PluginSettings Plugin=MoData, Path=WifiStrength}" Value="None">
                                                            <Setter Property="Text" Value="&#xf384;" />
                                                        </DataTrigger>
                                                        <DataTrigger Binding="{PluginSettings Plugin=MoData, Path=WifiStrength}" Value="Wired">
                                                            <Setter Property="Text" Value="&#xE839;" />
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </TextBlock.Style>
                                        </TextBlock>

                                        <!-- Clock -->
                                        <TextBlock x:Name="PART_TextClock"
                                                   Style="{DynamicResource TextBlockBaseStyle}"
                                                   Foreground="#F6F6F6"
                                                   VerticalAlignment="Center"
                                                   Margin="20,-10,0,0"
                                                   FontSize="26"
                                                   Grid.Column="4"
                                                   Effect="{StaticResource SoftTextShadow}"/>
                                    </Grid>

                                    <!--SourceLogo-->
                                    <Grid Grid.Column="0" Grid.Row="0" HorizontalAlignment="Left">
                                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="20,0,0,0">
                                            <StackPanel.Style>
                                                <Style TargetType="StackPanel">
                                                    <Setter Property="Margin" Value="0,0,20,0"/>
                                                    <Setter Property="Visibility" Value="Visible"/>
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[SourceLogoOnTopScreen]}" Value="False">
                                                            <Setter Property="Visibility" Value="Collapsed"/>
                                                        </DataTrigger>
                                                        <DataTrigger Binding="{Binding ElementName=ControlCenter, Path=Visibility}" Value="Visible">
                                                            <Setter Property="Visibility" Value="Collapsed"/>
                                                        </DataTrigger>
                                                        <DataTrigger Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}" Value="Visible">
                                                            <Setter Property="Visibility" Value="Collapsed"/>
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </StackPanel.Style>
                                            <Image x:Name="LibraryIcon" RenderOptions.BitmapScalingMode="Fant" MaxHeight="70" MaxWidth="180"
                                                   VerticalAlignment="Center" HorizontalAlignment="Center"
                                                   Source="{ThemeFileBinding SelectedGame.Source.Name, PathFormat='Icons/Source/{0}.png'}">
                                                <Image.Style>
                                                    <Style TargetType="Image">
                                                        <Setter Property="Visibility" Value="Visible"/>
                                                        <Style.Triggers>
                                                            <Trigger Property="Source" Value="{x:Null}">
                                                                <Setter Property="Visibility" Value="Collapsed"/>
                                                            </Trigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </Image.Style>
                                            </Image>
                                            <Image x:Name="PlateformIcon" RenderOptions.BitmapScalingMode="Fant" MaxHeight="70" MaxWidth="180"
                                                   VerticalAlignment="Center" HorizontalAlignment="Center"
                                                   Source="{ThemeFileBinding SelectedGame.Platforms[0].Name, PathFormat='Icons/Source/{0}.png'}">
                                                <Image.Style>
                                                    <Style TargetType="Image">
                                                        <Setter Property="Visibility" Value="Collapsed"/>
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{Binding ElementName=LibraryIcon, Path=Source}" Value="{x:Null}">
                                                                <Setter Property="Visibility" Value="Visible"/>
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </Image.Style>
                                            </Image>

                                        </StackPanel>
                                    </Grid>

                                    <Grid Grid.Column="2" Grid.Row="0" HorizontalAlignment="Right">

                                    </Grid>

                                    <!-- Completed Game -->
                                    <Grid  Grid.Row="0" Grid.Column="2" HorizontalAlignment="Right" VerticalAlignment="Top" CacheMode="BitmapCache" >
                                        <Grid.Style>
                                            <Style TargetType="Grid">
                                                <Setter Property="Margin" Value="0,0,300,0"/>
                                                <Setter Property="Visibility" Value="Collapsed" />
                                                <Setter Property="RenderTransform">
                                                    <Setter.Value>
                                                        <TranslateTransform x:Name="CompletedGameTransform" />
                                                    </Setter.Value>
                                                </Setter>
                                                <Style.Triggers>

                                                    <MultiDataTrigger>
                                                        <MultiDataTrigger.Conditions>
                                                            <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[CompletedOnMainMenu]}" Value="True"/>
                                                            <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AltInfo]}" Value="False"/>
                                                            <Condition Binding="{Binding ElementName=NowPlay, Path=Visibility}" Value="Collapsed"/>
                                                            <Condition Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}" Value="Collapsed"/>
                                                            <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[PerformanceMode]}" Value="False"/>
                                                            <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[FullBar]}" Value="False"/>
                                                        </MultiDataTrigger.Conditions>
                                                        <Setter Property="Visibility" Value="Visible"/>
                                                        <Setter Property="Opacity" Value="0.9" />
                                                        <MultiDataTrigger.EnterActions>
                                                            <BeginStoryboard>
                                                                <Storyboard>
                                                                    <DoubleAnimation Storyboard.TargetProperty="RenderTransform.Y" From="-60" To="0" Duration="0:0:1.5" >
                                                                        <DoubleAnimation.EasingFunction>
                                                                            <SineEase EasingMode="EaseInOut" />
                                                                        </DoubleAnimation.EasingFunction>
                                                                    </DoubleAnimation>
                                                                </Storyboard>
                                                            </BeginStoryboard>
                                                        </MultiDataTrigger.EnterActions>
                                                    </MultiDataTrigger>

                                                    <MultiDataTrigger>
                                                        <MultiDataTrigger.Conditions>
                                                            <Condition	Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[PerformanceMode]}" Value="True"/>
                                                            <Condition Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}" Value="Collapsed"/>
                                                            <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AltInfo]}" Value="False"/>
                                                        </MultiDataTrigger.Conditions>
                                                        <Setter Property="Visibility" Value="Visible"/>
                                                        <Setter Property="Opacity" Value="0.9" />
                                                    </MultiDataTrigger>

                                                    <MultiDataTrigger>
                                                        <MultiDataTrigger.Conditions>
                                                            <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AltInfo]}" Value="False"/>
                                                            <Condition Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}" Value="Collapsed"/>
                                                            <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[FullBar]}" Value="True"/>
                                                            <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[CompletedOnMainMenu]}" Value="True"/>
                                                        </MultiDataTrigger.Conditions>
                                                        <Setter Property="Visibility" Value="Visible"/>
                                                        <Setter Property="Opacity" Value="0.9" />
                                                    </MultiDataTrigger>


                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[FullBar]}" Value="True">
                                                        <Setter Property="Margin" Value="0,20,300,0"/>
                                                    </DataTrigger>

                                                    <DataTrigger Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}" Value="Visible">
                                                        <Setter Property="Visibility" Value="Collapsed"/>
                                                    </DataTrigger>

                                                </Style.Triggers>
                                            </Style>
                                        </Grid.Style>

                                        <Grid HorizontalAlignment="Stretch"  FocusVisualStyle="{x:Null}" Margin="0,-50,0,0" MinWidth="150" Width="Auto" Height="100">
                                            <Grid>
                                                <Grid.Style>
                                                    <Style TargetType="Grid">
                                                        <Setter Property="Visibility" Value="Visible"/>
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[FullBar]}" Value="True">
                                                                <Setter Property="Visibility" Value="Collapsed"/>
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </Grid.Style>
                                                <!-- Fond verre -->
                                                <Border CornerRadius="{DynamicResource Corner}"
                                                        Background="{DynamicResource OverlayMenu}"
                                                        Opacity="0.85"
                                                        HorizontalAlignment="Stretch" VerticalAlignment="Stretch"/>

                                                <!-- Reflet vertical discret -->
                                                <Border CornerRadius="{DynamicResource Corner}" IsHitTestVisible="False" Background="{DynamicResource GlassMainBrush}" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" />

                                                <!-- Liseré interne -->
                                                <Border CornerRadius="{DynamicResource Corner}"
                                                        Margin="1"
                                                        BorderThickness="1"
                                                        BorderBrush="{DynamicResource GlassInnerLineBrush}"
                                                        IsHitTestVisible="False"
                                                        HorizontalAlignment="Stretch" VerticalAlignment="Stretch"/>
                                            </Grid>
                                            <StackPanel Orientation="Horizontal" Grid.Column="8" Margin="10,60,20,0" VerticalAlignment="Center" HorizontalAlignment="Center">
                                                <ListBoxEx x:Name="GamePlatineLogic" Visibility="Visible" Width="0" VirtualizingPanel.VirtualizationMode="Recycling" VirtualizingPanel.IsVirtualizing="True"
                                                           Margin="0" SelectionMode="Multiple"
                                                           Background="Transparent"
                                                           FocusVisualStyle="{x:Null}"
                                                           BorderThickness="0" ScrollViewer.CanContentScroll="False"
                                                           IsSynchronizedWithCurrentItem="False"
                                                           ItemContainerStyle="{DynamicResource PlatineLogicStyle}">
                                                    <ListBoxEx.Style>
                                                        <Style TargetType="ListBoxEx">
                                                            <Setter Property="ItemsControl.ItemsSource" Value="{Binding ElementName=PART_ListGameItems, Path=ItemsSource}"/>
                                                            <Setter Property="Template">
                                                                <Setter.Value>
                                                                    <ControlTemplate TargetType="{x:Type ListBoxEx}">
                                                                        <ScrollViewer CanContentScroll="False" HorizontalScrollBarVisibility="Disabled">
                                                                            <VirtualizingStackPanel x:Name="StackPanel" IsItemsHost="True" Orientation="Horizontal" HorizontalAlignment="Left"/>
                                                                        </ScrollViewer>
                                                                    </ControlTemplate>
                                                                </Setter.Value>
                                                            </Setter>

                                                        </Style>
                                                    </ListBoxEx.Style>
                                                </ListBoxEx>
                                                <StackPanel Orientation="Horizontal" Margin="0,0,0,10" VerticalAlignment="Center" HorizontalAlignment="Center">
                                                    <Image x:Name="Check" Source="{ThemeFile 'Images/Completed.png'}" Margin="0,0,5,5" RenderOptions.BitmapScalingMode="Fant" Height="26" Width="26" HorizontalAlignment="Center" VerticalAlignment="Center">
                                                        <Image.Effect>
                                                            <DropShadowEffect ShadowDepth="2" Color="Black"  RenderingBias="Performance" Opacity="0.8"/>
                                                        </Image.Effect>
                                                    </Image>
                                                    <TextBlock Text="{Binding ElementName=GamePlatineLogic, Path=SelectedItems.Count}" Style="{DynamicResource TextBlockBoldBaseStyle}" FontSize="24"
                                                               VerticalAlignment="Center" HorizontalAlignment="Center" Margin="0,0,0,5"/>
                                                    <TextBlock Text="/" Style="{DynamicResource TextBlockBoldBaseStyle}" FontSize="24"
                                                               VerticalAlignment="Center" HorizontalAlignment="Center" Margin="2,0,0,5"/>
                                                    <TextBlock Text="{Binding ElementName=PART_ListGameItems, Path=Items.Count}" Style="{DynamicResource TextBlockBoldBaseStyle}" FontSize="24"
                                                               VerticalAlignment="Center" HorizontalAlignment="Center" Margin="2,0,0,5"/>
                                                </StackPanel>
                                            </StackPanel>

                                        </Grid>
                                    </Grid>

                                    <!--Trophée-->
                                    <Grid  Grid.Row="0" Grid.Column="2" HorizontalAlignment="Left" VerticalAlignment="Top" Tag="{PluginSettings Plugin=SuccessStory, Path=HasData}">
                                        <Grid.Style>
                                            <Style TargetType="Grid">
                                                <Setter Property="Visibility" Value="Collapsed" />
                                                <Setter Property="Margin" Value="300,0,0,0"/>
                                                <Setter Property="RenderTransform">
                                                    <Setter.Value>
                                                        <TranslateTransform x:Name="TrophéeTransform" />
                                                    </Setter.Value>
                                                </Setter>
                                                <Style.Triggers>
                                                    <MultiDataTrigger>
                                                        <MultiDataTrigger.Conditions>
                                                            <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[SuccessOnMainMenu]}" Value="True"/>
                                                            <Condition	Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[PerformanceMode]}" Value="False"/>
                                                            <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AltInfo]}" Value="False"/>
                                                            <Condition Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="True"/>
                                                            <Condition Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}" Value="Collapsed"/>
                                                            <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[FullBar]}" Value="False"/>
                                                        </MultiDataTrigger.Conditions>
                                                        <Setter Property="Visibility" Value="Visible"/>
                                                        <Setter Property="Opacity" Value="0.9" />
                                                        <MultiDataTrigger.EnterActions>
                                                            <BeginStoryboard>
                                                                <Storyboard>
                                                                    <DoubleAnimation Storyboard.TargetProperty="RenderTransform.Y" From="-60" To="0" Duration="0:0:1.5" >
                                                                        <DoubleAnimation.EasingFunction>
                                                                            <SineEase EasingMode="EaseInOut" />
                                                                        </DoubleAnimation.EasingFunction>
                                                                    </DoubleAnimation>
                                                                </Storyboard>
                                                            </BeginStoryboard>
                                                        </MultiDataTrigger.EnterActions>
                                                    </MultiDataTrigger>

                                                    <MultiDataTrigger>
                                                        <MultiDataTrigger.Conditions>
                                                            <Condition	Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[PerformanceMode]}" Value="True"/>
                                                            <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AltInfo]}" Value="False"/>
                                                            <Condition Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="True"/>
                                                            <Condition Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}" Value="Collapsed"/>
                                                        </MultiDataTrigger.Conditions>
                                                        <Setter Property="Visibility" Value="Visible"/>
                                                        <Setter Property="Opacity" Value="0.9" />
                                                    </MultiDataTrigger>

                                                    <MultiDataTrigger>
                                                        <MultiDataTrigger.Conditions>
                                                            <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AltInfo]}" Value="False"/>
                                                            <Condition Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="True"/>
                                                            <Condition Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}" Value="Collapsed"/>
                                                            <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[FullBar]}" Value="True"/>
                                                            <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[SuccessOnMainMenu]}" Value="True"/>
                                                        </MultiDataTrigger.Conditions>
                                                        <Setter Property="Visibility" Value="Visible"/>
                                                        <Setter Property="Opacity" Value="0.9" />
                                                    </MultiDataTrigger>


                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[FullBar]}" Value="True">
                                                        <Setter Property="Margin" Value="300,20,0,0"/>
                                                    </DataTrigger>

                                                    <DataTrigger Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}" Value="Visible">
                                                        <Setter Property="Visibility" Value="Collapsed"/>
                                                    </DataTrigger>

                                                </Style.Triggers>
                                            </Style>
                                        </Grid.Style>

                                        <Grid HorizontalAlignment="Stretch"  FocusVisualStyle="{x:Null}" Margin="0,-50,0,0" MinWidth="150" Width="Auto" Height="100">

                                            <Grid>
                                                <Grid.Style>
                                                    <Style TargetType="Grid">
                                                        <Setter Property="Visibility" Value="Visible"/>
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[FullBar]}" Value="True">
                                                                <Setter Property="Visibility" Value="Collapsed"/>
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </Grid.Style>
                                                <!-- Fond verre -->
                                                <Border CornerRadius="{DynamicResource Corner}"
                                                        Background="{DynamicResource OverlayMenu}"
                                                        Opacity="0.85"
                                                        HorizontalAlignment="Stretch" VerticalAlignment="Stretch"/>

                                                <!-- Reflet vertical discret -->
                                                <Border CornerRadius="{DynamicResource Corner}" IsHitTestVisible="False" Background="{DynamicResource GlassMainBrush}" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" />

                                                <!-- Liseré interne -->
                                                <Border CornerRadius="{DynamicResource Corner}"
                                                        Margin="1"
                                                        BorderThickness="1"
                                                        BorderBrush="{DynamicResource GlassInnerLineBrush}"
                                                        IsHitTestVisible="False"
                                                        HorizontalAlignment="Stretch" VerticalAlignment="Stretch"/>
                                            </Grid>

                                            <StackPanel Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Center">

                                                <Image RenderOptions.BitmapScalingMode="Fant" Source="{ThemeFile 'Images/Trophy.png'}"
                                                       Height="35" Width="35" VerticalAlignment="Center" Opacity="1" HorizontalAlignment="Right" Margin="5,50,10,10">
                                                    <Image.Style>
                                                        <Style TargetType="Image">
                                                            <Setter Property="Visibility" Value="Visible"/>
                                                            <Style.Triggers>
                                                                <DataTrigger Binding="{PluginSettings Plugin=SuccessStory, Path=Percent}" Value="100">
                                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                                </DataTrigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </Image.Style>
                                                    <Image.Effect>
                                                        <DropShadowEffect ShadowDepth="2" Color="Black"  RenderingBias="Performance" Opacity="0.8"/>
                                                    </Image.Effect>
                                                </Image>

                                                <Image x:Name="TrophyPlatine" Source="{ThemeFile 'Images/platinum.png'}"
                                                       RenderOptions.BitmapScalingMode="Fant" Height="35" Width="35"
                                                       VerticalAlignment="Center" Opacity="1" HorizontalAlignment="Right" Margin="5,50,10,10" >
                                                    <Image.Style>
                                                        <Style TargetType="Image">
                                                            <Setter Property="Visibility" Value="Collapsed"/>
                                                            <Style.Triggers>
                                                                <DataTrigger Binding="{PluginSettings Plugin=SuccessStory, Path=Percent}" Value="100">
                                                                    <Setter Property="Visibility" Value="Visible"/>
                                                                </DataTrigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </Image.Style>
                                                    <Image.Effect>
                                                        <DropShadowEffect ShadowDepth="2" Color="Black"  RenderingBias="Performance" Opacity="0.8"/>
                                                    </Image.Effect>
                                                </Image>

                                                <TextBlock Text="{PluginSettings Plugin=SuccessStory, Path=Unlocked, FallbackValue='-'}"
                                                           Style="{DynamicResource TextBlockBoldBaseStyle}"
                                                           FontSize="26"
                                                           Margin="0,50,0,10" />
                                                <TextBlock Text="/"
                                                           Style="{DynamicResource TextBlockBoldBaseStyle}"
                                                           FontSize="26"
                                                           Margin="2,50,2,10" />
                                                <TextBlock Text="{PluginSettings Plugin=SuccessStory, Path=Total, FallbackValue='-'}"
                                                           Style="{DynamicResource TextBlockBoldBaseStyle}"
                                                           FontSize="26"
                                                           Margin="0,50,0,10" />
                                            </StackPanel>

                                        </Grid>

                                    </Grid>

                                    <!-- Button -->
                                    <Grid Grid.Column="1" Grid.Row="0" HorizontalAlignment="Center">

                                        <Grid x:Name="MainButtonGlass" HorizontalAlignment="Stretch" VerticalAlignment="Bottom" Margin="-20,0,-30,0" Width="Auto" Height="70">

                                            <!-- Fond verre -->
                                            <Border CornerRadius="{DynamicResource Corner}"
                                                    Background="{DynamicResource OverlayMenu}"
                                                    Opacity="0.85"
                                                    HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                                                <Border.Style>
                                                    <Style TargetType="Border">
                                                        <Setter Property="Visibility" Value="Visible" />
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[FullBar]}" Value="True">
                                                                <Setter Property="Visibility" Value="Collapsed"/>
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </Border.Style>
                                            </Border>

                                            <!-- Reflet vertical discret -->
                                            <Border CornerRadius="{DynamicResource Corner}" IsHitTestVisible="False" Background="{DynamicResource GlassMainBrush}" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" >
                                                <Border.Style>
                                                    <Style TargetType="Border">
                                                        <Setter Property="Visibility" Value="Visible" />
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[FullBar]}" Value="True">
                                                                <Setter Property="Visibility" Value="Collapsed"/>
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </Border.Style>
                                            </Border>

                                            <StackPanel Orientation="Horizontal">

                                                <ButtonEx x:Name="PART_ButtonMainMenu" VerticalAlignment="Center"
                                                          Margin="20,0,20,0" Height="40" Width="40" Style="{DynamicResource ButtonAvatar}" Grid.Column="2">
                                                    <ButtonEx.Content>
                                                        <Grid>
                                                            <Border RenderOptions.BitmapScalingMode="Fant" CornerRadius="5" Height="45" Width="45" VerticalAlignment="Center" HorizontalAlignment="Center" ClipToBounds="True" >
                                                                <Border.Style>
                                                                    <Style TargetType="Border">
                                                                        <Setter Property="Background" Value="{DynamicResource Avatar0}"/>
                                                                        <Setter Property="Visibility" Value="Collapsed" />
                                                                        <Style.Triggers>
                                                                            <DataTrigger Binding="{Binding ElementName=UserAvatar, Path=Source}" Value="{x:Null}">
                                                                                <Setter Property="Visibility" Value="Visible" />
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="1">
                                                                                <Setter Property="Background" Value="{DynamicResource Avatar0}"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="2">
                                                                                <Setter Property="Background" Value="{DynamicResource Avatar2}"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="3">
                                                                                <Setter Property="Background" Value="{DynamicResource Avatar3}"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="4">
                                                                                <Setter Property="Background" Value="{DynamicResource Avatar4}"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="5">
                                                                                <Setter Property="Background" Value="{DynamicResource Avatar5}"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="6">
                                                                                <Setter Property="Background" Value="{DynamicResource Avatar6}"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="7">
                                                                                <Setter Property="Background" Value="{DynamicResource Avatar7}"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="8">
                                                                                <Setter Property="Background" Value="{DynamicResource Avatar8}"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="9">
                                                                                <Setter Property="Background" Value="{DynamicResource Avatar9}"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="10">
                                                                                <Setter Property="Background" Value="{DynamicResource Avatar10}"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="11">
                                                                                <Setter Property="Background" Value="{DynamicResource Avatar11}"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="12">
                                                                                <Setter Property="Background" Value="{DynamicResource Avatar12}"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="13">
                                                                                <Setter Property="Background" Value="{DynamicResource Avatar13}"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="14">
                                                                                <Setter Property="Background" Value="{DynamicResource Avatar14}"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="15">
                                                                                <Setter Property="Background" Value="{DynamicResource Avatar15}"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="16">
                                                                                <Setter Property="Background" Value="{DynamicResource Avatar16}"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="17">
                                                                                <Setter Property="Background" Value="{DynamicResource Avatar17}"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="18">
                                                                                <Setter Property="Background" Value="{DynamicResource Avatar18}"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="19">
                                                                                <Setter Property="Background" Value="{DynamicResource Avatar19}"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="20">
                                                                                <Setter Property="Background" Value="{DynamicResource Avatar20}"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="21">
                                                                                <Setter Property="Background" Value="{DynamicResource Avatar21}"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="22">
                                                                                <Setter Property="Background" Value="{DynamicResource Avatar22}"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="23">
                                                                                <Setter Property="Background" Value="{DynamicResource Avatar23}"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="24">
                                                                                <Setter Property="Background" Value="{DynamicResource Avatar24}"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="25">
                                                                                <Setter Property="Background" Value="{DynamicResource Avatar25}"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="26">
                                                                                <Setter Property="Background" Value="{DynamicResource Avatar26}"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="27">
                                                                                <Setter Property="Background" Value="{DynamicResource Avatar27}"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="28">
                                                                                <Setter Property="Background" Value="{DynamicResource Avatar28}"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="29">
                                                                                <Setter Property="Background" Value="{DynamicResource Avatar29}"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="30">
                                                                                <Setter Property="Background" Value="{DynamicResource Avatar30}"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="31">
                                                                                <Setter Property="Background" Value="{DynamicResource Avatar31}"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="32">
                                                                                <Setter Property="Background" Value="{DynamicResource Avatar32}"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="33">
                                                                                <Setter Property="Background" Value="{DynamicResource Avatar33}"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="34">
                                                                                <Setter Property="Background" Value="{DynamicResource Avatar34}"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="35">
                                                                                <Setter Property="Background" Value="{DynamicResource Avatar35}"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="36">
                                                                                <Setter Property="Background" Value="{DynamicResource Avatar36}"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="37">
                                                                                <Setter Property="Background" Value="{DynamicResource Avatar37}"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="38">
                                                                                <Setter Property="Background" Value="{DynamicResource Avatar38}"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=IsInstalled}" Value="False">
                                                                                <Setter Property="Panel.ZIndex" Value="100" />
                                                                                <Setter Property="Visibility" Value="Visible"/>
                                                                                <Setter Property="Grid.Row" Value="0"/>
                                                                                <Setter Property="Grid.Column" Value="1"/>
                                                                                <Setter Property="Grid.RowSpan" Value="1"/>
                                                                                <Setter Property="Grid.ColumnSpan" Value="2"/>
                                                                                <Setter Property="Height" Value="60"/>
                                                                                <Setter Property="Width" Value="60"/>
                                                                                <Setter Property="VerticalAlignment" Value="Bottom"/>
                                                                                <Setter Property="HorizontalAlignment" Value="Center"/>
                                                                            </DataTrigger>
                                                                        </Style.Triggers>
                                                                    </Style>
                                                                </Border.Style>
                                                            </Border>

                                                            <TextBlock x:Name="ProfilePicturePath"
                                                                       Tag="{Api Paths.ConfigurationPath}"
                                                                       Visibility="Collapsed">
                                                                <TextBlock.Style>
                                                                    <Style TargetType="TextBlock">
                                                                        <Setter Property="Text">
                                                                            <Setter.Value>
                                                                                <MultiBinding StringFormat="{}{0}\ExtraMetadata\Themes\Common\ProfilePicture.png">
                                                                                    <Binding Path="Tag" RelativeSource="{RelativeSource Self}"/>
                                                                                </MultiBinding>
                                                                            </Setter.Value>
                                                                        </Setter>
                                                                    </Style>
                                                                </TextBlock.Style>
                                                            </TextBlock>

                                                            <Image x:Name="UserAvatar"
                                                                   Source="{Binding ElementName=ProfilePicturePath, Path=Text}"
                                                                   Stretch="UniformToFill"
                                                                   RenderOptions.BitmapScalingMode="Fant"
                                                                   Width="40" Height="40"/>

                                                            <!-- STATUS DOT (SteamFriendsFullscreen) -->
                                                            <Border Width="13" Height="13"
                                                                    CornerRadius="6"
                                                                    HorizontalAlignment="Right"
                                                                    VerticalAlignment="Bottom"
                                                                    Margin="0,0,-3,-3"
                                                                    BorderThickness="1"
                                                                    BorderBrush="#CC000000"
                                                                    Panel.ZIndex="50">

                                                                <Border.Style>
                                                                    <Style TargetType="Border">
                                                                        <!-- default = online -->
                                                                        <Setter Property="Background" Value="#FF4CD964"/>
                                                                        <Setter Property="Opacity" Value="0.95"/>
                                                                        <Setter Property="Visibility" Value="Collapsed"/>
                                                                        <Style.Triggers>
                                                                            <DataTrigger Binding="{PluginStatus Plugin=SteamFriendsFullscreen_d8d67c7e-a797-45d7-ae44-3d53ddecc8d1, Status=Installed}" Value="True">
                                                                                <Setter Property="Visibility" Value="Visible"/>
                                                                            </DataTrigger>

                                                                            <DataTrigger Binding="{PluginSettings Plugin=SteamFriendsFullscreen, Path=SelfState}" Value="offline">
                                                                                <Setter Property="Background" Value="#474747"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{PluginSettings Plugin=SteamFriendsFullscreen, Path=SelfState}" Value="away">
                                                                                <Setter Property="Background" Value="Orange"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{PluginSettings Plugin=SteamFriendsFullscreen, Path=SelfState}" Value="busy">
                                                                                <Setter Property="Background" Value="DarkRed"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{PluginSettings Plugin=SteamFriendsFullscreen, Path=SelfState}" Value="ingame">
                                                                                <Setter Property="Background" Value="#FF3DFF7A"/>
                                                                            </DataTrigger>
                                                                        </Style.Triggers>
                                                                    </Style>
                                                                </Border.Style>
                                                            </Border>


                                                            <Border BorderBrush="#eaeaea" BorderThickness="2" Margin="-1" Width="40" Height="40"/>

                                                        </Grid>
                                                    </ButtonEx.Content>
                                                </ButtonEx>

                                                <CheckBoxEx x:Name="WelcomeHubButton"
                                                            VerticalAlignment="Center"
                                                            Margin="20,0,20,0"
                                                            Height="40"
                                                            Width="40"
                                                            FocusVisualStyle="{x:Null}"
                                                            IsChecked="{Binding ElementName=WelcomeControl,
                                                            Path=Tag,
                                                            Mode=TwoWay}">
                                                    <CheckBoxEx.Style>
                                                        <Style TargetType="CheckBoxEx"
                                                               BasedOn="{StaticResource HubToggle}">
                                                            <Setter Property="Visibility" Value="Collapsed"/>

                                                            <Style.Triggers>
                                                                <DataTrigger Binding="{PluginStatus Plugin=AnikiHelper_96a983a3-3f13-4dce-a474-4052b718bb52, Status=Installed}"
                                                                             Value="True">
                                                                    <Setter Property="Visibility" Value="Visible"/>
                                                                </DataTrigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </CheckBoxEx.Style>
                                                    <CheckBoxEx.Triggers>
                                                        <EventTrigger RoutedEvent="ButtonBase.Click">
                                                            <BeginStoryboard>
                                                                <Storyboard>
                                                                    <ObjectAnimationUsingKeyFrames
                                                                        Storyboard.TargetName="OpenViewSound"
                                                                        Storyboard.TargetProperty="LoadedBehavior">
                                                                        <DiscreteObjectKeyFrame KeyTime="0:0:0" Value="{x:Static MediaState.Stop}"/>
                                                                        <DiscreteObjectKeyFrame KeyTime="0:0:0.01" Value="{x:Static MediaState.Play}"/>
                                                                    </ObjectAnimationUsingKeyFrames>
                                                                </Storyboard>
                                                            </BeginStoryboard>
                                                        </EventTrigger>
                                                    </CheckBoxEx.Triggers>
                                                </CheckBoxEx>

                                                <CheckBoxEx x:Name="ChangeViewButton" Margin="20,0,20,0" Height="40" Width="40"
                                                            IsChecked="{Settings Fullscreen.HorizontalLayout, Mode=TwoWay}"
                                                            Style="{DynamicResource ChangeViewButton}" Grid.Column="4" />

                                                <Border Width="1"
                                                        Height="24"
                                                        Background="#FFFFFFFF"
                                                        Opacity="0.32"
                                                        Margin="0,0,0,0"
                                                        VerticalAlignment="Center"
                                                        Focusable="False"/>

                                                <ButtonEx x:Name="FriendButton"
                                                          VerticalAlignment="Center"
                                                          Command="{PluginSettings Plugin=ThemeOptions, Path=OpenWindow[FriendsStyle]}"
                                                          Margin="20,2,20,0"
                                                          Height="40" Width="40"
                                                          Focusable="True"
                                                          Grid.Column="3"
                                                          HorizontalAlignment="Center">

                                                    <Button.Content>
                                                        <Grid>
                                                            <Image Source="{ThemeFile 'Images/Buttons/Friends.png'}"
                                                                   RenderOptions.BitmapScalingMode="Fant"
                                                                   Stretch="Uniform"/>
                                                            <TextBlock Style="{DynamicResource TextBlockBoldBaseStyle}"
                                                                       Text="{PluginSettings Plugin=SteamFriendsFullscreen, Path=OnlineCount, FallbackValue=0}"
                                                                       FontSize="18"
                                                                       FontWeight="SemiBold"
                                                                       HorizontalAlignment="Right"
                                                                       VerticalAlignment="Top"
                                                                       Margin="0,-2,2,0"/>
                                                        </Grid>
                                                    </Button.Content>
                                                    <ButtonEx.Style>
                                                        <Style TargetType="ButtonEx" BasedOn="{StaticResource ButtonAvatar}">
                                                            <Setter Property="Visibility" Value="Collapsed"/>
                                                            <Style.Triggers>
                                                                <DataTrigger Binding="{PluginStatus Plugin=SteamFriendsFullscreen_d8d67c7e-a797-45d7-ae44-3d53ddecc8d1, Status=Installed}" Value="True">
                                                                    <Setter Property="Visibility" Value="Visible"/>
                                                                </DataTrigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </ButtonEx.Style>
                                                    <ButtonEx.Triggers>
                                                        <EventTrigger RoutedEvent="ButtonBase.Click">
                                                            <BeginStoryboard>
                                                                <Storyboard>
                                                                    <ObjectAnimationUsingKeyFrames
                                                                        Storyboard.TargetName="OpenViewSound"
                                                                        Storyboard.TargetProperty="LoadedBehavior">
                                                                        <DiscreteObjectKeyFrame KeyTime="0:0:0" Value="{x:Static MediaState.Stop}"/>
                                                                        <DiscreteObjectKeyFrame KeyTime="0:0:0.01" Value="{x:Static MediaState.Play}"/>
                                                                    </ObjectAnimationUsingKeyFrames>
                                                                </Storyboard>
                                                            </BeginStoryboard>
                                                        </EventTrigger>
                                                    </ButtonEx.Triggers>
                                                </ButtonEx>

                                                <CheckBoxEx x:Name="SuccessMainViewButton" Margin="20,0,20,0" Height="40" Width="40" Grid.Column="4" Command="{PluginSettings Plugin=SSHelper, Path=OpenAchievementWindow}">
                                                    <CheckBoxEx.Style>
                                                        <Style TargetType="CheckBoxEx" BasedOn="{StaticResource SuccessMainButton}">
                                                            <Setter Property="Visibility" Value="Collapsed"/>
                                                            <Style.Triggers>
                                                                <DataTrigger Binding="{PluginStatus Plugin=SuccessStoryFullscreenHelper, Status=Installed}" Value="True">
                                                                    <Setter Property="Visibility" Value="Visible"/>
                                                                </DataTrigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </CheckBoxEx.Style>
                                                    <CheckBoxEx.Triggers>
                                                        <EventTrigger RoutedEvent="ButtonBase.Click">
                                                            <BeginStoryboard>
                                                                <Storyboard>
                                                                    <ObjectAnimationUsingKeyFrames
                                                                        Storyboard.TargetName="OpenViewSound"
                                                                        Storyboard.TargetProperty="LoadedBehavior">
                                                                        <DiscreteObjectKeyFrame KeyTime="0:0:0" Value="{x:Static MediaState.Stop}"/>
                                                                        <DiscreteObjectKeyFrame KeyTime="0:0:0.01" Value="{x:Static MediaState.Play}"/>
                                                                    </ObjectAnimationUsingKeyFrames>
                                                                </Storyboard>
                                                            </BeginStoryboard>
                                                        </EventTrigger>
                                                    </CheckBoxEx.Triggers>
                                                </CheckBoxEx>

                                                <ButtonEx x:Name="LastUpdatesButton" Command="{PluginSettings Plugin=ThemeOptions, Path=OpenWindow[LastUpdatesWindowStyle]}"
                                                          VerticalAlignment="Center" Margin="20,0,20,0" Height="40" Width="40" Focusable="True" Grid.Column="5" HorizontalAlignment="Center">
                                                    <ButtonEx.Content>
                                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="34" Foreground="White"	FontFamily="{StaticResource FontIcoFont}" Text="&#xefa6;" />
                                                    </ButtonEx.Content>
                                                    <ButtonEx.Style>
                                                        <Style TargetType="ButtonEx" BasedOn="{StaticResource ButtonAvatar}">
                                                            <Setter Property="Visibility" Value="Collapsed"/>
                                                            <Style.Triggers>
                                                                <DataTrigger Binding="{PluginStatus Plugin=AnikiHelper_96a983a3-3f13-4dce-a474-4052b718bb52, Status=Installed}" Value="True">
                                                                    <Setter Property="Visibility" Value="Visible"/>
                                                                </DataTrigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </ButtonEx.Style>
                                                    <ButtonEx.Triggers>
                                                        <EventTrigger RoutedEvent="ButtonBase.Click">
                                                            <BeginStoryboard>
                                                                <Storyboard>
                                                                    <ObjectAnimationUsingKeyFrames
                                                                        Storyboard.TargetName="OpenViewSound"
                                                                        Storyboard.TargetProperty="LoadedBehavior">
                                                                        <DiscreteObjectKeyFrame KeyTime="0:0:0" Value="{x:Static MediaState.Stop}"/>
                                                                        <DiscreteObjectKeyFrame KeyTime="0:0:0.01" Value="{x:Static MediaState.Play}"/>
                                                                    </ObjectAnimationUsingKeyFrames>
                                                                </Storyboard>
                                                            </BeginStoryboard>
                                                        </EventTrigger>
                                                    </ButtonEx.Triggers>
                                                </ButtonEx>

                                                <CheckBoxEx x:Name="LastUpdatesButtonFalse" VerticalAlignment="Center" Margin="20,0,20,0" Height="40" Width="40" Focusable="True" Grid.Column="5" HorizontalAlignment="Center">
                                                    <CheckBoxEx.Content>
                                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="34" Foreground="White"	FontFamily="{StaticResource FontIcoFont}" Text="&#xefa6;" />
                                                    </CheckBoxEx.Content>
                                                    <CheckBoxEx.Style>
                                                        <Style TargetType="CheckBoxEx" BasedOn="{StaticResource AnikiHelperButtonFalse}">
                                                            <Setter Property="Visibility" Value="Visible"/>
                                                            <Style.Triggers>
                                                                <DataTrigger Binding="{PluginStatus Plugin=AnikiHelper_96a983a3-3f13-4dce-a474-4052b718bb52, Status=Installed}" Value="True">
                                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                                </DataTrigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </CheckBoxEx.Style>
                                                </CheckBoxEx>

                                                <ButtonEx x:Name="StatsButton" Command="{PluginSettings Plugin=ThemeOptions, Path=OpenWindow[StatsWindowStyle]}" VerticalAlignment="Center" Margin="20,0,20,0" Height="40" Width="40" Focusable="True" Grid.Column="6" HorizontalAlignment="Center">
                                                    <ButtonEx.Content>
                                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="34" Foreground="White"	FontFamily="{StaticResource FontIcoFont}" Text="&#xec57;" />
                                                    </ButtonEx.Content>
                                                    <ButtonEx.Style>
                                                        <Style TargetType="ButtonEx" BasedOn="{StaticResource ButtonAvatar}">
                                                            <Setter Property="Visibility" Value="Collapsed"/>
                                                            <Style.Triggers>
                                                                <DataTrigger Binding="{PluginStatus Plugin=AnikiHelper_96a983a3-3f13-4dce-a474-4052b718bb52, Status=Installed}" Value="True">
                                                                    <Setter Property="Visibility" Value="Visible"/>
                                                                </DataTrigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </ButtonEx.Style>
                                                    <ButtonEx.Triggers>
                                                        <EventTrigger RoutedEvent="ButtonBase.Click">
                                                            <BeginStoryboard>
                                                                <Storyboard>
                                                                    <ObjectAnimationUsingKeyFrames
                                                                        Storyboard.TargetName="OpenViewSound"
                                                                        Storyboard.TargetProperty="LoadedBehavior">
                                                                        <DiscreteObjectKeyFrame KeyTime="0:0:0" Value="{x:Static MediaState.Stop}"/>
                                                                        <DiscreteObjectKeyFrame KeyTime="0:0:0.01" Value="{x:Static MediaState.Play}"/>
                                                                    </ObjectAnimationUsingKeyFrames>
                                                                </Storyboard>
                                                            </BeginStoryboard>
                                                        </EventTrigger>
                                                    </ButtonEx.Triggers>
                                                </ButtonEx>

                                                <CheckBoxEx x:Name="StatsButtonFalse" VerticalAlignment="Center" Margin="20,0,20,0" Height="40" Width="40" Focusable="True" Grid.Column="6" HorizontalAlignment="Center">
                                                    <CheckBoxEx.Content>
                                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="34" Foreground="White"	FontFamily="{StaticResource FontIcoFont}" Text="&#xec57;" />
                                                    </CheckBoxEx.Content>
                                                    <CheckBoxEx.Style>
                                                        <Style TargetType="CheckBoxEx" BasedOn="{StaticResource AnikiHelperButtonFalse}">
                                                            <Setter Property="Visibility" Value="Visible"/>
                                                            <Style.Triggers>
                                                                <DataTrigger Binding="{PluginStatus Plugin=AnikiHelper_96a983a3-3f13-4dce-a474-4052b718bb52, Status=Installed}" Value="True">
                                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                                </DataTrigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </CheckBoxEx.Style>
                                                </CheckBoxEx>

                                                <ButtonEx x:Name="NowPlay" Height="40" Width="40"
                                                          Command="{PluginSettings Plugin=NowPlaying, Path=OpenCustomDialog}"
                                                          Margin="20,0,20,0"
                                                          Grid.Column="0" >
                                                    <ButtonEx.Style>
                                                        <Style TargetType="ButtonEx" BasedOn="{StaticResource ButtonAvatar}">
                                                            <Setter Property="Visibility" Value="Visible" />
                                                            <Style.Triggers>
                                                                <DataTrigger Binding="{PluginStatus Plugin=NowPlaying_db4e7ade-57fb-426c-8392-60e2347a0209, Status=Installed}" Value="False">
                                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                                </DataTrigger>
                                                                <DataTrigger Binding="{PluginSettings Plugin=NowPlaying, Path=IsGameRunning}" Value="False">
                                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                                </DataTrigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </ButtonEx.Style>

                                                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Left">
                                                        <Image Width="40"
                                                               Height="40"
                                                               RenderOptions.BitmapScalingMode="Fant"
                                                               Source="{PluginSettings Plugin=NowPlaying, Path=RunningGame.IconPath}"
                                                               Margin="0"/>
                                                    </StackPanel>
                                                </ButtonEx>

                                                <Border Width="1"
                                                        Height="24"
                                                        Background="#FFFFFFFF"
                                                        Opacity="0.32"
                                                        Margin="0,0,0,0"
                                                        VerticalAlignment="Center"
                                                        Focusable="False"/>


                                                <ButtonEx x:Name="PART_ButtonProgramUpdate" VerticalAlignment="Center"
                                                          Margin="20,0,20,0" Height="40" Width="40" Style="{DynamicResource ButtonAvatar}" Grid.Column="1">
                                                    <ButtonEx.Content>
                                                        <TextBlock Text="&#xef19;" FontFamily="{StaticResource FontIcoFont}"
                                                                   HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="White"
                                                                   FontSize="32" />
                                                    </ButtonEx.Content>
                                                </ButtonEx>

                                                <ButtonEx x:Name="ToolsCommand"
                                                          VerticalAlignment="Center"
                                                          Margin="20,0,20,0"
                                                          Height="40" Width="40"
                                                          Command="{Binding Content.MainMenu.OpenToolsCommand, ElementName=ThemeOptions_Command}">
                                                    <ButtonEx.Content>
                                                        <TextBlock Text="&#xefc7;" FontFamily="{StaticResource FontIcoFont}"
                                                                   HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="34" Foreground="White"/>
                                                    </ButtonEx.Content>
                                                    <ButtonEx.Style>
                                                        <Style TargetType="ButtonEx" BasedOn="{StaticResource ButtonAvatar}">
                                                            <Setter Property="Visibility" Value="Collapsed" />
                                                            <Style.Triggers>
                                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[ShowToolsButton]}" Value="True">
                                                                    <Setter Property="Visibility" Value="Visible" />
                                                                </DataTrigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </ButtonEx.Style>
                                                </ButtonEx>

                                                <ButtonEx x:Name="PART_ButtonNotifications" VerticalAlignment="Center"
                                                          Margin="20,2,20,0" Height="40" Width="40" Focusable="True" Grid.Column="5" HorizontalAlignment="Center" >
                                                    <Button.Content>
                                                        <Grid>
                                                            <TextBlock Text="&#xec68;" FontFamily="{StaticResource FontIcoFont}"
                                                                       HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="34" Foreground="White" />
                                                            <TextBlock Style="{DynamicResource TextBlockBoldBaseStyle}" Text="{Api Notifications.Count}"
                                                                       Foreground="Black" Opacity="0.5" HorizontalAlignment="Center" VerticalAlignment="Top" FontSize="22" Margin="0,1,0,0" />

                                                        </Grid>
                                                    </Button.Content>
                                                    <Button.Style>
                                                        <Style TargetType="Button" BasedOn="{StaticResource ButtonAvatar}">
                                                            <Style.Triggers>
                                                                <DataTrigger Binding="{Api Notifications.Count}" Value="0">
                                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                                </DataTrigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </Button.Style>
                                                </ButtonEx>

                                                <CheckBoxEx x:Name="ControlCenterButton" Focusable="True" VerticalAlignment="Center" Margin="20,0,20,0" Height="40" Command="{PluginSettings Plugin=ThemeOptions, Path=OpenWindow[ControlCenterWindowStyle]}"
                                                            Width="40" Style="{DynamicResource ControlCenterStyle}" Grid.Column="3">
                                                    <CheckBoxEx.Content>
                                                        <Grid>
                                                            <Border CornerRadius="5" Height="40" Width="40" VerticalAlignment="Center"
                                                                    HorizontalAlignment="Center" ClipToBounds="True">
                                                            </Border>
                                                        </Grid>
                                                    </CheckBoxEx.Content>
                                                </CheckBoxEx>

                                                <CheckBoxEx x:Name="ButtonPower" Focusable="True" VerticalAlignment="Center" Margin="20,0,20,0" Height="40"	Width="40" Style="{DynamicResource PowerButtonMain}" Grid.Column="7"  IsChecked="True">
                                                    <CheckBoxEx.Content>
                                                        <Grid>
                                                            <Border CornerRadius="5" Height="40" Width="40" VerticalAlignment="Center"
                                                                    HorizontalAlignment="Center" ClipToBounds="True">
                                                            </Border>
                                                        </Grid>
                                                    </CheckBoxEx.Content>
                                                </CheckBoxEx>



                                            </StackPanel>
                                        </Grid>

                                        <Grid.RenderTransform>
                                            <TransformGroup>
                                                <TranslateTransform x:Name="TopBarShift" Y="0"/>
                                                <ScaleTransform x:Name="TopBarScale" ScaleX="1" ScaleY="1"/>
                                            </TransformGroup>
                                        </Grid.RenderTransform>

                                        <Grid.Style>
                                            <Style TargetType="Grid">
                                                <Setter Property="Grid.Row" Value="0"/>
                                                <Setter Property="Grid.Column" Value="1"/>
                                                <Setter Property="Grid.RowSpan" Value="1"/>
                                                <Setter Property="Grid.ColumnSpan" Value="2"/>
                                                <Setter Property="Effect">
                                                    <Setter.Value>
                                                        <DropShadowEffect ShadowDepth="2"   Opacity="0.5" Color="#FF000000"/>
                                                    </Setter.Value>
                                                </Setter>
                                                <Style.Triggers>
                                                    <!-- Animation quand le focus quitte la barre -->
                                                    <MultiDataTrigger>
                                                        <MultiDataTrigger.Conditions>
                                                            <Condition Binding="{Binding RelativeSource={RelativeSource Self}, Path=IsKeyboardFocusWithin}" Value="False"/>
                                                            <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[PerformanceMode]}" Value="False"/>
                                                            <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[FullBar]}" Value="False"/>
                                                        </MultiDataTrigger.Conditions>
                                                        <MultiDataTrigger.EnterActions>
                                                            <BeginStoryboard>
                                                                <Storyboard>
                                                                    <DoubleAnimation Storyboard.TargetProperty="(RenderTransform).(TransformGroup.Children)[0].(TranslateTransform.Y)"
                                                                                     To="-200" Duration="0:0:0.35">
                                                                        <DoubleAnimation.EasingFunction>
                                                                            <CubicEase EasingMode="EaseInOut"/>
                                                                        </DoubleAnimation.EasingFunction>
                                                                    </DoubleAnimation>
                                                                    <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                                                     To="0" Duration="0:0:0.20"/>
                                                                </Storyboard>
                                                            </BeginStoryboard>
                                                        </MultiDataTrigger.EnterActions>
                                                        <!-- Animation quand le focus revient -->
                                                        <MultiDataTrigger.ExitActions>
                                                            <BeginStoryboard>
                                                                <Storyboard>
                                                                    <DoubleAnimation Storyboard.TargetProperty="(RenderTransform).(TransformGroup.Children)[0].(TranslateTransform.Y)"
                                                                                     From="-230" To="0" Duration="0:0:0.5">
                                                                        <DoubleAnimation.EasingFunction>
                                                                            <BackEase Amplitude="0.5" EasingMode="EaseOut"/>
                                                                        </DoubleAnimation.EasingFunction>
                                                                    </DoubleAnimation>

                                                                    <DoubleAnimation Storyboard.TargetProperty="(RenderTransform).(TransformGroup.Children)[1].(ScaleTransform.ScaleX)"
                                                                                     From="0.96" To="1" Duration="0:0:0.4" BeginTime="0:0:0.05"/>

                                                                    <DoubleAnimation Storyboard.TargetProperty="(RenderTransform).(TransformGroup.Children)[1].(ScaleTransform.ScaleY)"
                                                                                     From="0.96" To="1" Duration="0:0:0.4" BeginTime="0:0:0.05"/>

                                                                    <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                                                     From="0" To="0.9" Duration="0:0:0.3" BeginTime="0:0:0.1"/>
                                                                </Storyboard>
                                                            </BeginStoryboard>
                                                        </MultiDataTrigger.ExitActions>
                                                    </MultiDataTrigger>

                                                    <!-- Si option "toujours visible" activée -->
                                                    <MultiDataTrigger>
                                                        <MultiDataTrigger.Conditions>
                                                            <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[TopButtonAlwaysVisible]}" Value="True"/>
                                                            <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[PerformanceMode]}" Value="False"/>
                                                            <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[FullBar]}" Value="False"/>
                                                        </MultiDataTrigger.Conditions>
                                                        <MultiDataTrigger.EnterActions>
                                                            <BeginStoryboard>
                                                                <Storyboard>
                                                                    <DoubleAnimation Storyboard.TargetProperty="(RenderTransform).(TransformGroup.Children)[0].(TranslateTransform.Y)"
                                                                                     To="0" Duration="0:0:0"/>
                                                                    <DoubleAnimation Storyboard.TargetProperty="Opacity" To="0.9" Duration="0:0:0"/>
                                                                </Storyboard>
                                                            </BeginStoryboard>
                                                        </MultiDataTrigger.EnterActions>
                                                        <MultiDataTrigger.ExitActions>
                                                            <BeginStoryboard>
                                                                <Storyboard>
                                                                    <DoubleAnimation Storyboard.TargetProperty="(RenderTransform).(TransformGroup.Children)[0].(TranslateTransform.Y)"
                                                                                     To="0" Duration="0:0:0"/>
                                                                    <DoubleAnimation Storyboard.TargetProperty="Opacity" To="0.9" Duration="0:0:0"/>
                                                                </Storyboard>
                                                            </BeginStoryboard>
                                                        </MultiDataTrigger.ExitActions>
                                                    </MultiDataTrigger>

                                                    <!-- Si option "toujours visible" activée -->
                                                    <MultiDataTrigger>
                                                        <MultiDataTrigger.Conditions>
                                                            <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[FullBar]}" Value="True"/>
                                                        </MultiDataTrigger.Conditions>
                                                        <MultiDataTrigger.EnterActions>
                                                            <BeginStoryboard>
                                                                <Storyboard>
                                                                    <DoubleAnimation Storyboard.TargetProperty="(RenderTransform).(TransformGroup.Children)[0].(TranslateTransform.Y)"
                                                                                     To="0" Duration="0:0:0"/>
                                                                    <DoubleAnimation Storyboard.TargetProperty="Opacity" To="0.9" Duration="0:0:0"/>
                                                                </Storyboard>
                                                            </BeginStoryboard>
                                                        </MultiDataTrigger.EnterActions>
                                                        <MultiDataTrigger.ExitActions>
                                                            <BeginStoryboard>
                                                                <Storyboard>
                                                                    <DoubleAnimation Storyboard.TargetProperty="(RenderTransform).(TransformGroup.Children)[0].(TranslateTransform.Y)"
                                                                                     To="0" Duration="0:0:0"/>
                                                                    <DoubleAnimation Storyboard.TargetProperty="Opacity" To="0.9" Duration="0:0:0"/>
                                                                </Storyboard>
                                                            </BeginStoryboard>
                                                        </MultiDataTrigger.ExitActions>
                                                    </MultiDataTrigger>

                                                    <MultiDataTrigger>
                                                        <MultiDataTrigger.Conditions>
                                                            <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[PerformanceMode]}" Value="True"/>
                                                        </MultiDataTrigger.Conditions>
                                                        <MultiDataTrigger.EnterActions>
                                                            <BeginStoryboard>
                                                                <Storyboard>
                                                                    <DoubleAnimation Storyboard.TargetProperty="(RenderTransform).(TransformGroup.Children)[0].(TranslateTransform.Y)"
                                                                                     To="0" Duration="0:0:0"/>
                                                                    <DoubleAnimation Storyboard.TargetProperty="Opacity" To="0.9" Duration="0:0:0"/>
                                                                </Storyboard>
                                                            </BeginStoryboard>
                                                        </MultiDataTrigger.EnterActions>
                                                        <MultiDataTrigger.ExitActions>
                                                            <BeginStoryboard>
                                                                <Storyboard>
                                                                    <DoubleAnimation Storyboard.TargetProperty="(RenderTransform).(TransformGroup.Children)[0].(TranslateTransform.Y)"
                                                                                     To="0" Duration="0:0:0"/>
                                                                    <DoubleAnimation Storyboard.TargetProperty="Opacity" To="0.9" Duration="0:0:0"/>
                                                                </Storyboard>
                                                            </BeginStoryboard>
                                                        </MultiDataTrigger.ExitActions>
                                                    </MultiDataTrigger>

                                                    <!-- Cacher si accueil + wrong ne sont pas cochés -->
                                                    <MultiDataTrigger>
                                                        <MultiDataTrigger.Conditions>
                                                            <Condition Binding="{Binding ElementName=Acceuil, Path=IsChecked}" Value="False" />
                                                            <Condition Binding="{Binding ElementName=Wrong, Path=IsChecked}" Value="False" />
                                                        </MultiDataTrigger.Conditions>
                                                        <MultiDataTrigger.Setters>
                                                            <Setter Property="Visibility" Value="Collapsed"/>
                                                        </MultiDataTrigger.Setters>
                                                    </MultiDataTrigger>

                                                    <!-- Afficher si Accueil ou pas -->
                                                    <DataTrigger Binding="{Binding Source={StaticResource AcceuilOrNot}}" Value="False">
                                                        <Setter Property="Visibility" Value="Visible"/>
                                                    </DataTrigger>

                                                    <!-- Cacher si ControlCenter est visible -->
                                                    <DataTrigger Binding="{Binding ElementName=ControlCenter, Path=Visibility}" Value="Visible">
                                                        <Setter Property="Visibility" Value="Collapsed"/>
                                                    </DataTrigger>

                                                    <DataTrigger Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}" Value="Visible">
                                                        <Setter Property="Visibility" Value="Collapsed"/>
                                                    </DataTrigger>

                                                </Style.Triggers>
                                            </Style>
                                        </Grid.Style>
                                    </Grid>
                                </Grid>
                            </Grid>

                            <!--Wallpaper Grid-->

                            <Grid x:Name="BackgroundImageGrid"
                                  FocusVisualStyle="{x:Null}"
                                  Panel.ZIndex="-46"
                                  RenderTransformOrigin="0.5,0.5">



                                <!-- Transforms: Zoom + Déplacement -->
                                <Grid.RenderTransform>
                                    <TransformGroup>
                                        <ScaleTransform x:Name="BgZoomTransform" ScaleX="1" ScaleY="1"/>
                                        <TranslateTransform x:Name="BgTranslate" X="0" Y="0"/>
                                    </TransformGroup>
                                </Grid.RenderTransform>



                                <Grid.Style>
                                    <Style TargetType="Grid">
                                        <!-- Layout de base -->
                                        <Setter Property="Visibility" Value="Visible"/>
                                        <Setter Property="Opacity" Value="1"/>
                                        <Setter Property="VerticalAlignment" Value="Top"/>
                                        <Setter Property="HorizontalAlignment" Value="Center"/>
                                        <Setter Property="Grid.Row" Value="0"/>
                                        <Setter Property="Grid.RowSpan" Value="5"/>
                                        <Setter Property="Grid.ColumnSpan" Value="3"/>
                                        <Setter Property="OpacityMask" Value="{x:Null}"/>

                                        <Style.Triggers>

                                            <!-- ===== 1) HORIZONTAL principal (détails FERMÉS) =====
                                            État: Scale=1, Y=0 -->
                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}" Value="True"/>
                                                    <Condition Binding="{Binding ElementName=PART_ElemGameDetails, Path=IsVisible}" Value="False"/>
                                                    <Condition	Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[PerformanceMode]}" Value="False"/>
                                                </MultiDataTrigger.Conditions>

                                                <MultiDataTrigger.EnterActions>
                                                    <RemoveStoryboard BeginStoryboardName="SB_VertExitToHrz"/>
                                                    <RemoveStoryboard BeginStoryboardName="SB_ToVertical"/>
                                                    <RemoveStoryboard BeginStoryboardName="SB_VertDetailDown"/>
                                                    <RemoveStoryboard BeginStoryboardName="SB_VertDetailUp"/>
                                                    <!-- AJOUT important : kill des zooms -->
                                                    <RemoveStoryboard BeginStoryboardName="SB_ZoomInFromHorizontal"/>
                                                    <RemoveStoryboard BeginStoryboardName="SB_ZoomOutToHorizontal"/>

                                                    <BeginStoryboard x:Name="SB_ToHorizontal" HandoffBehavior="SnapshotAndReplace">
                                                        <Storyboard>
                                                            <DoubleAnimation
                                                                Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[1].(TranslateTransform.Y)"
                                                                To="0" Duration="0:0:1.45">
                                                                <DoubleAnimation.EasingFunction>
                                                                    <CubicEase EasingMode="EaseInOut"/>
                                                                </DoubleAnimation.EasingFunction>
                                                            </DoubleAnimation>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </MultiDataTrigger.EnterActions>

                                                <MultiDataTrigger.ExitActions>
                                                    <RemoveStoryboard BeginStoryboardName="SB_ToHorizontal"/>
                                                </MultiDataTrigger.ExitActions>
                                            </MultiDataTrigger>


                                            <!-- ===== 2) VERTICAL principal (détails FERMÉS) =====
                                            État: Scale=1, Y=-200 -->
                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}" Value="False"/>
                                                    <Condition Binding="{Binding ElementName=PART_ElemGameDetails, Path=IsVisible}" Value="False"/>
                                                    <Condition	Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[PerformanceMode]}" Value="False"/>

                                                </MultiDataTrigger.Conditions>

                                                <MultiDataTrigger.EnterActions>
                                                    <RemoveStoryboard BeginStoryboardName="SB_ToHorizontal"/>
                                                    <RemoveStoryboard BeginStoryboardName="SB_ZoomInFromHorizontal"/>
                                                    <RemoveStoryboard BeginStoryboardName="SB_ZoomOutToHorizontal"/>
                                                    <RemoveStoryboard BeginStoryboardName="SB_VertExitToHrz"/>
                                                    <BeginStoryboard x:Name="SB_ToVertical" HandoffBehavior="SnapshotAndReplace">
                                                        <Storyboard>
                                                            <DoubleAnimation
                                                                Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[1].(TranslateTransform.Y)"
                                                                To="-200" Duration="0:0:1.45">
                                                                <DoubleAnimation.EasingFunction>
                                                                    <CubicEase EasingMode="EaseInOut"/>
                                                                </DoubleAnimation.EasingFunction>
                                                            </DoubleAnimation>

                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </MultiDataTrigger.EnterActions>

                                                <MultiDataTrigger.ExitActions>
                                                    <!-- Bridge: amorce le retour vers la position horizontale -->
                                                    <BeginStoryboard x:Name="SB_VertExitToHrz" HandoffBehavior="SnapshotAndReplace">
                                                        <Storyboard>
                                                            <DoubleAnimation
                                                                Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[1].(TranslateTransform.Y)"
                                                                To="0" Duration="0:0:1">
                                                                <DoubleAnimation.EasingFunction>
                                                                    <CubicEase EasingMode="EaseInOut"/>
                                                                </DoubleAnimation.EasingFunction>
                                                            </DoubleAnimation>

                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </MultiDataTrigger.ExitActions>
                                            </MultiDataTrigger>


                                            <!-- ===== 3) DÉTAILS OUVERTS depuis HORIZONTAL =====
                                            Effet: zoom léger (Scale=1.05), Y reste 0 -->
                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}" Value="True"/>
                                                    <Condition Binding="{Binding ElementName=PART_ElemGameDetails, Path=IsVisible}" Value="True"/>
                                                    <Condition	Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[PerformanceMode]}" Value="False"/>
                                                    <Condition	Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[EnterDetailsZoom]}" Value="True"/>
                                                </MultiDataTrigger.Conditions>

                                                <MultiDataTrigger.EnterActions>
                                                    <BeginStoryboard x:Name="SB_ZoomInFromHorizontal" HandoffBehavior="SnapshotAndReplace">
                                                        <Storyboard>
                                                            <DoubleAnimation
                                                                Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[0].(ScaleTransform.ScaleX)"
                                                                To="1.1" Duration="0:0:1" BeginTime="0:0:0.03">
                                                                <DoubleAnimation.EasingFunction>
                                                                    <CubicEase EasingMode="EaseInOut"/>
                                                                </DoubleAnimation.EasingFunction>
                                                            </DoubleAnimation>
                                                            <DoubleAnimation
                                                                Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[0].(ScaleTransform.ScaleY)"
                                                                To="1.1" Duration="0:0:1" BeginTime="0:0:0.03">
                                                                <DoubleAnimation.EasingFunction>
                                                                    <CubicEase EasingMode="EaseInOut"/>
                                                                </DoubleAnimation.EasingFunction>
                                                            </DoubleAnimation>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </MultiDataTrigger.EnterActions>

                                                <MultiDataTrigger.ExitActions>
                                                    <!-- Retour à Scale=1 quand on ferme les détails -->
                                                    <BeginStoryboard x:Name="SB_ZoomOutToHorizontal" HandoffBehavior="SnapshotAndReplace">
                                                        <Storyboard>
                                                            <DoubleAnimation
                                                                Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[0].(ScaleTransform.ScaleX)"
                                                                To="1.0" Duration="0:0:1">
                                                                <DoubleAnimation.EasingFunction>
                                                                    <CubicEase EasingMode="EaseInOut"/>
                                                                </DoubleAnimation.EasingFunction>
                                                            </DoubleAnimation>
                                                            <DoubleAnimation
                                                                Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[0].(ScaleTransform.ScaleY)"
                                                                To="1.0" Duration="0:0:1">
                                                                <DoubleAnimation.EasingFunction>
                                                                    <CubicEase EasingMode="EaseInOut"/>
                                                                </DoubleAnimation.EasingFunction>
                                                            </DoubleAnimation>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </MultiDataTrigger.ExitActions>
                                            </MultiDataTrigger>


                                            <!-- ===== 4) DÉTAILS OUVERTS depuis VERTICAL =====
                                            Effet: redescendre un peu le background (Y=-50), Scale reste 1 -->
                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}" Value="False"/>
                                                    <Condition Binding="{Binding ElementName=PART_ElemGameDetails, Path=IsVisible}" Value="True"/>
                                                    <Condition	Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[PerformanceMode]}" Value="False"/>
                                                </MultiDataTrigger.Conditions>

                                                <MultiDataTrigger.EnterActions>
                                                    <BeginStoryboard x:Name="SB_VertDetailDown" HandoffBehavior="SnapshotAndReplace">
                                                        <Storyboard>
                                                            <!-- Y -> -50 (depuis -200) -->
                                                            <DoubleAnimation
                                                                Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[1].(TranslateTransform.Y)"
                                                                From="-200" Duration="0:0:0.3">
                                                                <DoubleAnimation.EasingFunction>
                                                                    <CubicEase EasingMode="EaseInOut"/>
                                                                </DoubleAnimation.EasingFunction>
                                                            </DoubleAnimation>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </MultiDataTrigger.EnterActions>

                                                <MultiDataTrigger.ExitActions>
                                                    <!-- Remonte à l’état vertical principal Y=-200 -->
                                                    <BeginStoryboard x:Name="SB_VertDetailUp" HandoffBehavior="SnapshotAndReplace">
                                                        <Storyboard>
                                                            <DoubleAnimation
                                                                Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[1].(TranslateTransform.Y)"
                                                                To="-200" Duration="0:0:1.45">
                                                                <DoubleAnimation.EasingFunction>
                                                                    <CubicEase EasingMode="EaseInOut"/>
                                                                </DoubleAnimation.EasingFunction>
                                                            </DoubleAnimation>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </MultiDataTrigger.ExitActions>
                                            </MultiDataTrigger>

                                            <DataTrigger Binding="{Settings Fullscreen.EnableMainBackgroundImage}" Value="False">
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding ElementName=PART_ImageBackground, Path=Source}" Value="{x:Null}">
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding ElementName=BackgroundChanger, Path=Visibility}" Value="Visible">
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                            </DataTrigger>

                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[BottomBarVisible]}" Value="False"/>
                                                </MultiDataTrigger.Conditions>
                                                <Setter Property="Margin" Value="0,0,0,0"/>
                                            </MultiDataTrigger>

                                            <!-- NoBarMode -->
                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}" Value="Collapsed"/>
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[NoBarMode]}" Value="False"/>
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[BottomBarVisible]}" Value="True"/>
                                                </MultiDataTrigger.Conditions>
                                                <Setter Property="Margin" Value="0,0,0,0"/>
                                            </MultiDataTrigger>

                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}" Value="Collapsed"/>
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[PerformanceMode]}" Value="True"/>
                                                </MultiDataTrigger.Conditions>
                                                <Setter Property="Margin" Value="0,0,0,0"/>
                                            </MultiDataTrigger>

                                        </Style.Triggers>
                                    </Style>
                                </Grid.Style>


                                <!--No Background Changer-->

                                <FadeImage x:Name="PART_ImageBackground" RenderTransformOrigin="0.5,1" >
                                    <FadeImage.Style>
                                        <Style TargetType="FadeImage" >
                                            <Setter Property="Visibility" Value="Visible"/>
                                            <Setter Property="Stretch" Value="UniformToFill"/>
                                            <Setter Property="HorizontalAlignment" Value="Center"/>
                                            <Setter Property="VerticalAlignment" Value="Top"/>
                                            <Setter Property="Clip" Value="{x:Null}"/>
                                            <Setter Property="RenderTransform">
                                                <Setter.Value>
                                                    <ScaleTransform ScaleX="1" ScaleY="1" />
                                                </Setter.Value>
                                            </Setter>
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding ElementName=ImageBackgroundChanger, Path=Visibility}" Value="Visible">
                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[SteamBanner]}" Value="True">
                                                    <Setter Property="Height" Value="600"/>
                                                    <Setter Property="VerticalAlignment" Value="Top"/>
                                                    <Setter Property="Stretch" Value="UniformToFill"/>
                                                    <Setter Property="Clip">
                                                        <Setter.Value>
                                                            <RectangleGeometry Rect="0,0,99999,600"/>
                                                        </Setter.Value>
                                                    </Setter>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[SteamBanner]}" Value="False">
                                                    <Setter Property="Stretch" Value="UniformToFill"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Items.Count, ElementName=PART_ListGameItems}" Value="0">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                    <Setter Property="Opacity" Value="0" />
                                                </DataTrigger>

                                                <MultiDataTrigger>
                                                    <MultiDataTrigger.Conditions>
                                                        <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AnimationBackground]}" Value="True"/>
                                                        <Condition	Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[PerformanceMode]}" Value="False"/>
                                                        <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[SteamBanner]}" Value="False" />
                                                    </MultiDataTrigger.Conditions>

                                                    <MultiDataTrigger.EnterActions>
                                                        <BeginStoryboard x:Name="BgZoomStoryboard">
                                                            <Storyboard RepeatBehavior="Forever" AutoReverse="True">
                                                                <DoubleAnimation Storyboard.TargetProperty="RenderTransform.ScaleX"
                                                                                 From="1.0" To="1.09" Duration="0:0:35">
                                                                    <DoubleAnimation.EasingFunction>
                                                                        <PowerEase EasingMode="EaseInOut" Power="2"/>
                                                                    </DoubleAnimation.EasingFunction>
                                                                </DoubleAnimation>
                                                                <DoubleAnimation Storyboard.TargetProperty="RenderTransform.ScaleY"
                                                                                 From="1.0" To="1.09" Duration="0:0:35">
                                                                    <DoubleAnimation.EasingFunction>
                                                                        <PowerEase EasingMode="EaseInOut" Power="2"/>
                                                                    </DoubleAnimation.EasingFunction>
                                                                </DoubleAnimation>
                                                            </Storyboard>
                                                        </BeginStoryboard>
                                                    </MultiDataTrigger.EnterActions>
                                                    <MultiDataTrigger.ExitActions>
                                                        <RemoveStoryboard BeginStoryboardName="BgZoomStoryboard"/>
                                                    </MultiDataTrigger.ExitActions>
                                                </MultiDataTrigger>

                                                <MultiDataTrigger>
                                                    <MultiDataTrigger.Conditions>
                                                        <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AnimationBackground]}" Value="True"/>
                                                        <Condition Binding="{Binding RelativeSource={RelativeSource AncestorType=Window}, Path=IsActive}" Value="False"/>
                                                    </MultiDataTrigger.Conditions>

                                                    <!-- Démarre l’anim -->
                                                    <MultiDataTrigger.EnterActions>
                                                        <PauseStoryboard BeginStoryboardName="BgZoomStoryboard"/>
                                                    </MultiDataTrigger.EnterActions>
                                                    <MultiDataTrigger.ExitActions>
                                                        <ResumeStoryboard BeginStoryboardName="BgZoomStoryboard"/>
                                                    </MultiDataTrigger.ExitActions>
                                                </MultiDataTrigger>


                                            </Style.Triggers>
                                        </Style>
                                    </FadeImage.Style>
                                </FadeImage>

                                <!--Background Changer-->

                                <FadeImage x:Name="ImageBackgroundChanger" Grid.RowSpan="3" HorizontalAlignment="Center" VerticalAlignment="Top" RenderTransformOrigin="0.5,1">
                                    <FadeImage.Source>
                                        <PriorityBinding>
                                            <Binding ElementName="VideoBackgroundChanger" Path="MediaElement.Source" />
                                            <Binding ElementName="BackgroundChanger_PluginBackgroundImage" Path="Content.Source" />
                                        </PriorityBinding>
                                    </FadeImage.Source>
                                    <FadeImage.Style>
                                        <Style TargetType="FadeImage" >
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                            <Setter Property="Stretch" Value="UniformToFill"/>
                                            <Setter Property="HorizontalAlignment" Value="Center"/>
                                            <Setter Property="VerticalAlignment" Value="Top"/>
                                            <Setter Property="Clip" Value="{x:Null}"/>
                                            <Setter Property="RenderTransform">
                                                <Setter.Value>
                                                    <ScaleTransform ScaleX="1" ScaleY="1" />
                                                </Setter.Value>
                                            </Setter>
                                            <Style.Triggers>
                                                <MultiDataTrigger>
                                                    <MultiDataTrigger.Conditions>
                                                        <Condition Binding="{PluginSettings Plugin=BackgroundChanger, Path=EnableBackgroundImage}" Value="True"/>
                                                        <Condition Binding="{PluginStatus Plugin=playnite-backgroundchanger-plugin, Status=Installed}" Value="True"/>
                                                    </MultiDataTrigger.Conditions>
                                                    <Setter Property="Visibility" Value="Visible"/>
                                                </MultiDataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[SteamBanner]}" Value="True">
                                                    <Setter Property="Height" Value="600"/>
                                                    <Setter Property="VerticalAlignment" Value="Top"/>
                                                    <Setter Property="Stretch" Value="UniformToFill"/>
                                                    <Setter Property="Clip">
                                                        <Setter.Value>
                                                            <RectangleGeometry Rect="0,0,99999,600"/>
                                                        </Setter.Value>
                                                    </Setter>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[SteamBanner]}" Value="False">
                                                    <Setter Property="Stretch" Value="UniformToFill"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Items.Count, ElementName=PART_ListGameItems}" Value="0">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                    <Setter Property="Opacity" Value="0" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AnimationBackground]}" Value="True">
                                                    <DataTrigger.EnterActions>
                                                        <BeginStoryboard x:Name="BgZoomStoryboard">
                                                            <Storyboard RepeatBehavior="Forever" AutoReverse="True">
                                                                <DoubleAnimation Storyboard.TargetProperty="RenderTransform.ScaleX"
                                                                                 From="1.0" To="1.09" Duration="0:0:35">
                                                                    <DoubleAnimation.EasingFunction>
                                                                        <PowerEase EasingMode="EaseInOut" Power="2"/>
                                                                    </DoubleAnimation.EasingFunction>
                                                                </DoubleAnimation>
                                                                <DoubleAnimation Storyboard.TargetProperty="RenderTransform.ScaleY"
                                                                                 From="1.0" To="1.09" Duration="0:0:35">
                                                                    <DoubleAnimation.EasingFunction>
                                                                        <PowerEase EasingMode="EaseInOut" Power="2"/>
                                                                    </DoubleAnimation.EasingFunction>
                                                                </DoubleAnimation>
                                                            </Storyboard>
                                                        </BeginStoryboard>
                                                    </DataTrigger.EnterActions>
                                                    <DataTrigger.ExitActions>
                                                        <RemoveStoryboard BeginStoryboardName="BgZoomStoryboard"/>
                                                    </DataTrigger.ExitActions>
                                                </DataTrigger>

                                                <MultiDataTrigger>
                                                    <MultiDataTrigger.Conditions>
                                                        <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AnimationBackground]}" Value="True"/>
                                                        <Condition Binding="{Binding RelativeSource={RelativeSource AncestorType=Window}, Path=IsActive}" Value="False"/>
                                                    </MultiDataTrigger.Conditions>

                                                    <!-- Démarre l’anim -->
                                                    <MultiDataTrigger.EnterActions>
                                                        <PauseStoryboard BeginStoryboardName="BgZoomStoryboard"/>
                                                    </MultiDataTrigger.EnterActions>
                                                    <MultiDataTrigger.ExitActions>
                                                        <ResumeStoryboard BeginStoryboardName="BgZoomStoryboard"/>
                                                    </MultiDataTrigger.ExitActions>
                                                </MultiDataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </FadeImage.Style>
                                </FadeImage>

                                <!--No Background-->

                                <Grid x:Name="NoBackground" FocusVisualStyle="{x:Null}" Panel.ZIndex="-46" >
                                    <Grid.Style>
                                        <Style TargetType="Grid">
                                            <Setter Property="Background" Value="Black"/>
                                            <Setter Property="Opacity" Value="1"/>
                                            <Setter Property="VerticalAlignment" Value="Top"/>
                                            <Setter Property="HorizontalAlignment" Value="Center"/>
                                            <Setter Property="Grid.Row" Value="0"/>
                                            <Setter Property="Grid.RowSpan" Value="4"/>
                                            <Setter Property="Grid.ColumnSpan" Value="3"/>
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                            <Style.Triggers>
                                                <MultiDataTrigger>
                                                    <MultiDataTrigger.Conditions>
                                                        <Condition Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}" Value="True"/>
                                                        <Condition Binding="{Binding ElementName=PART_ImageBackground, Path=Source}" Value="{x:Null}"/>
                                                        <Condition Binding="{Settings Fullscreen.EnableMainBackgroundImage}" Value="True"/>
                                                    </MultiDataTrigger.Conditions>
                                                    <Setter Property="Visibility" Value="Visible"/>
                                                </MultiDataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Grid.Style>
                                    <Image x:Name="NoBackgroundImage" Source="{ThemeFile 'Images/ShadowBackground/NoBackground.png'}" Stretch="UniformToFill" />
                                </Grid>

                                <Border
                                    Height="600"
                                    VerticalAlignment="Top"
                                    HorizontalAlignment="Stretch"
                                    BorderBrush="White"
                                    BorderThickness="0,0,0,2">

                                    <Border.Style>
                                        <Style TargetType="Border">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                            <Style.Triggers>
                                                <!-- Trigger à adapter plus tard -->
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[SteamBanner]}" Value="True">
                                                    <Setter Property="Visibility" Value="Visible"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Border.Style>
                                </Border>



                                <!--Video Background Changer-->

                                <MediaElement x:Name="VideoBackgroundChanger" Stretch="UniformToFill" MediaElementBehaviors.Repeat="True" Grid.Row="0" Grid.RowSpan="4" Grid.ColumnSpan="3" HorizontalAlignment="Right" VerticalAlignment="Top" Panel.ZIndex="-46" >
                                    <MediaElement.Style>
                                        <Style TargetType="MediaElement">
                                            <Setter Property="LoadedBehavior" Value="Manual"/>
                                            <Setter Property="UnloadedBehavior" Value="Stop"/>
                                            <Setter Property="IsMuted" Value="True"/>
                                            <Setter Property="Opacity" Value="0"/>
                                            <Setter Property="Visibility" Value="Collapsed" />
                                            <Style.Triggers>
                                                <MultiDataTrigger>
                                                    <MultiDataTrigger.Conditions>
                                                        <Condition Binding="{PluginStatus Plugin=playnite-backgroundchanger-plugin, Status=Installed}" Value="True"/>
                                                        <Condition Binding="{PluginSettings Plugin=BackgroundChanger, Path=EnableImageAnimatedBackground}" Value="True"/>
                                                        <Condition Binding="{PluginSettings Plugin=BackgroundChanger, Path=BackgroundIsVideo}" Value="True"/>
                                                    </MultiDataTrigger.Conditions>
                                                    <MultiDataTrigger.Setters>
                                                        <Setter Property="MediaElement.Source"
                                                                Value="{Binding ElementName=BackgroundChanger_PluginBackgroundImage, Path=Content.Source}" />
                                                        <Setter Property="LoadedBehavior" Value="Play"/>
                                                        <Setter Property="Opacity" Value="1" />
                                                        <Setter Property="Visibility" Value="Visible" />
                                                    </MultiDataTrigger.Setters>
                                                </MultiDataTrigger>
                                                <DataTrigger Binding="{Binding ElementName=VideoBackgroundChanger, Path=Visibility}" Value="Collapsed">
                                                    <Setter Property="MediaElement.Source" Value=""/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=Window}, Path=IsActive}"
                                                             Value="False">
                                                    <Setter Property="MediaElement.Source" Value=""/>
                                                    <Setter Property="LoadedBehavior" Value="Manual"/>
                                                </DataTrigger>
                                                <Trigger Property="Visibility" Value="Collapsed">
                                                    <Setter Property="MediaElement.Source" Value=""/>
                                                    <Setter Property="LoadedBehavior" Value="Manual"/>
                                                </Trigger>
                                                <MultiDataTrigger>
                                                    <MultiDataTrigger.Conditions>
                                                        <Condition Binding="{Binding ElementName=AcceuilSettings, Path=Visibility}" Value="Visible"/>
                                                    </MultiDataTrigger.Conditions>
                                                    <Setter Property="MediaElement.Source" Value=""/>
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                    <Setter Property="LoadedBehavior" Value="Manual"/>
                                                </MultiDataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </MediaElement.Style>
                                </MediaElement>


                                <!-- Platine Frame -->

                                <Grid Grid.Row="0" Grid.RowSpan="4" Grid.ColumnSpan="3" Panel.ZIndex="2">
                                    <Grid.Style>
                                        <Style TargetType="Grid">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                            <Style.Triggers>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[TrophyFrameOnMain]}" Value="True">
                                                    <Setter Property="Visibility" Value="Visible"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Grid.Style>
                                    <Rectangle Height="8" VerticalAlignment="Top" RadiusX="3" RadiusY="3" Margin="12,0,12,0">
                                        <Rectangle.Fill>
                                            <LinearGradientBrush StartPoint="1,0" EndPoint="0,0">
                                                <GradientStop Color="#00000000" Offset="0.00"/>
                                                <GradientStop Color="#404F9AFF" Offset="0.20"/>
                                                <GradientStop Color="#709AEFFF" Offset="0.30"/>
                                                <GradientStop Color="#E6F8FFFF" Offset="0.48"/>
                                                <GradientStop Color="#F6FBFFFF" Offset="0.50"/>
                                                <GradientStop Color="#E6F8FFFF" Offset="0.52"/>
                                                <GradientStop Color="#70B7FFFF" Offset="0.70"/>
                                                <GradientStop Color="#405A9EFF" Offset="0.80"/>
                                                <GradientStop Color="#00000000" Offset="1.00"/>
                                            </LinearGradientBrush>
                                        </Rectangle.Fill>
                                        <Rectangle.Style>
                                            <Style TargetType="Rectangle">
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                                <Style.Triggers>
                                                    <MultiDataTrigger>
                                                        <MultiDataTrigger.Conditions>
                                                            <Condition Binding="{PluginSettings Plugin=SuccessStory, Path=Percent}" Value="100"/>
                                                        </MultiDataTrigger.Conditions>
                                                        <Setter Property="Visibility" Value="Visible"/>
                                                        <Setter Property="Opacity" Value="1"/>
                                                    </MultiDataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </Rectangle.Style>
                                    </Rectangle>

                                    <Rectangle Height="8" VerticalAlignment="Bottom" RadiusX="3" RadiusY="3" Margin="12,0,12,0">
                                        <Rectangle.Fill>
                                            <LinearGradientBrush StartPoint="1,0" EndPoint="0,0">
                                                <GradientStop Color="#00000000" Offset="0.00"/>
                                                <GradientStop Color="#404F9AFF" Offset="0.20"/>
                                                <GradientStop Color="#709AEFFF" Offset="0.30"/>
                                                <GradientStop Color="#E6F8FFFF" Offset="0.48"/>
                                                <GradientStop Color="#F6FBFFFF" Offset="0.50"/>
                                                <GradientStop Color="#E6F8FFFF" Offset="0.52"/>
                                                <GradientStop Color="#70B7FFFF" Offset="0.70"/>
                                                <GradientStop Color="#405A9EFF" Offset="0.80"/>
                                                <GradientStop Color="#00000000" Offset="1.00"/>
                                            </LinearGradientBrush>
                                        </Rectangle.Fill>
                                        <Rectangle.Style>
                                            <Style TargetType="Rectangle">
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                                <Style.Triggers>
                                                    <MultiDataTrigger>
                                                        <MultiDataTrigger.Conditions>
                                                            <Condition Binding="{PluginSettings Plugin=SuccessStory, Path=Percent}" Value="100"/>
                                                        </MultiDataTrigger.Conditions>
                                                        <Setter Property="Visibility" Value="Visible"/>
                                                        <Setter Property="Opacity" Value="1"/>
                                                    </MultiDataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </Rectangle.Style>
                                    </Rectangle>
                                </Grid>



                                <!-- Shadow Background -->
                                <Grid x:Name="ShadowBackground" Grid.Row="0" Grid.RowSpan="5" Grid.ColumnSpan="3"  Panel.ZIndex="1" >

                                    <!-- Calque 1 : dégradé bas -> haut -->
                                    <Rectangle IsHitTestVisible="False"  Fill="{DynamicResource ShadeBottom}" Opacity="1">
                                        <Rectangle.Style>
                                            <Style TargetType="Rectangle">
                                                <Setter Property="Visibility" Value="Visible"/>
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[SteamBanner]}" Value="True">
                                                        <Setter Property="Visibility" Value="Collapsed" />
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}" Value="Visible">
                                                        <Setter Property="Visibility" Value="Collapsed" />
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </Rectangle.Style>
                                    </Rectangle>

                                    <!-- Calque 2 : dégradé Left  -->

                                    <Rectangle IsHitTestVisible="False" Fill="{DynamicResource ShadeBackgroundDetails}" Opacity="1">
                                        <Rectangle.Style>
                                            <Style TargetType="Rectangle">
                                                <Setter Property="Visibility" Value="Visible"/>
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[SteamBanner]}" Value="True">
                                                        <Setter Property="Visibility" Value="Collapsed" />
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </Rectangle.Style>
                                    </Rectangle>


                                    <!-- Calque 3 : ShadeTrailer -->
                                    <Rectangle x:Name="RTrailer" IsHitTestVisible="False">
                                        <Rectangle.Fill>
                                            <ImageBrush ImageSource="{ThemeFile 'Images/ShadowBackground/ShadeTrail.png'}"
                                                        RenderOptions.BitmapScalingMode="Fant"
                                                        Stretch="Fill"/>
                                        </Rectangle.Fill>
                                        <Rectangle.Style>
                                            <Style TargetType="Rectangle">
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                                <Setter Property="Opacity" Value="0"/>
                                                <Style.Triggers>
                                                    <MultiDataTrigger>
                                                        <MultiDataTrigger.Conditions>
                                                            <Condition Binding="{Binding ElementName=TrailerTrigger, Path=Opacity}" Value="1"/>
                                                            <Condition Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}" Value="True"/>
                                                            <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[TrailerOnMainView]}" Value="True"/>
                                                            <Condition Binding="{PluginSettings Plugin=ExtraMetadataLoader, Path=NewContextVideoAvailable}" Value="True"/>
                                                            <Condition Binding="{PluginSettings Plugin=ExtraMetadataLoader, Path=IsVideoPlaying}" Value="True"/>
                                                            <Condition Binding="{Binding ElementName=ExtraMetadataLoader_VideoLoaderControl_NoControls_Sound, Path=Opacity}" Value="1"/>
                                                        </MultiDataTrigger.Conditions>
                                                        <Setter Property="Visibility" Value="Visible"/>
                                                        <MultiDataTrigger.EnterActions>
                                                            <BeginStoryboard>
                                                                <Storyboard>
                                                                    <DoubleAnimation Storyboard.TargetProperty="Opacity" BeginTime="0:0:1" Duration="0:0:0.8" From="0" To="1"/>
                                                                </Storyboard>
                                                            </BeginStoryboard>
                                                        </MultiDataTrigger.EnterActions>
                                                        <MultiDataTrigger.ExitActions>
                                                            <BeginStoryboard>
                                                                <Storyboard>
                                                                    <DoubleAnimation Storyboard.TargetProperty="Opacity" Duration="0:0:0" From="1" To="0"/>
                                                                </Storyboard>
                                                            </BeginStoryboard>
                                                        </MultiDataTrigger.ExitActions>
                                                    </MultiDataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </Rectangle.Style>
                                    </Rectangle>

                                    <!-- Calque 4 : image spéciale Trailer 16:10  -->
                                    <Rectangle x:Name="RTrailer1610" IsHitTestVisible="False" Panel.ZIndex="1">
                                        <Rectangle.Fill>
                                            <ImageBrush ImageSource="{ThemeFile 'Images/ShadowBackground/Trailer16-10.png'}"
                                                        RenderOptions.BitmapScalingMode="Fant"
                                                        Stretch="Fill"/>
                                        </Rectangle.Fill>
                                        <Rectangle.Style>
                                            <Style TargetType="Rectangle">
                                                <Setter Property="Visibility" Value="Collapsed"/>

                                                <Style.Triggers>
                                                    <!-- Tes conditions Trailer -->
                                                    <MultiDataTrigger>
                                                        <MultiDataTrigger.Conditions>
                                                            <Condition Binding="{Binding ElementName=TrailerTrigger, Path=Opacity}" Value="1"/>
                                                            <Condition Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}" Value="True"/>
                                                            <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[TrailerOnMainView]}" Value="True"/>
                                                            <Condition Binding="{Binding ElementName=PART_ViewHost, Path=ActualWidth}" Value="1728"/>
                                                            <Condition Binding="{PluginSettings Plugin=ExtraMetadataLoader, Path=NewContextVideoAvailable}" Value="True"/>
                                                            <Condition Binding="{PluginSettings Plugin=ExtraMetadataLoader, Path=IsVideoPlaying}" Value="True"/>
                                                            <Condition Binding="{Binding ElementName=ExtraMetadataLoader_VideoLoaderControl_NoControls_Sound, Path=Opacity}" Value="1"/>
                                                        </MultiDataTrigger.Conditions>
                                                        <Setter Property="Visibility" Value="Visible"/>
                                                    </MultiDataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </Rectangle.Style>
                                    </Rectangle>

                                </Grid>

                                <Grid x:Name="CinematicColorOverlay"
                                      IsHitTestVisible="False"
                                      Opacity="0"
                                      Visibility="Collapsed"
                                      CacheMode="BitmapCache">

                                    <!-- 1) légère obscurité globale -->
                                    <Rectangle Fill="#66000000"/>

                                    <!-- 2) teinte d'accent du thème -->
                                    <Rectangle Fill="{DynamicResource OverlayMenu}" Opacity="0.15"/>

                                    <!-- Affichage conditionnel + animations -->
                                    <Grid.Style>
                                        <Style TargetType="Grid">
                                            <Style.Triggers>
                                                <MultiDataTrigger>
                                                    <MultiDataTrigger.Conditions>
                                                        <Condition Binding="{Binding ElementName=BottomBar, Path=IsKeyboardFocusWithin}" Value="True"/>
                                                        <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[BottomBarVisible]}" Value="True"/>
                                                        <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[CinematicFocusEffect]}" Value="True"/>
                                                        <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[PerformanceMode]}" Value="False"/>
                                                        <Condition Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}" Value="True"/>
                                                    </MultiDataTrigger.Conditions>

                                                    <!-- ON -->
                                                    <MultiDataTrigger.EnterActions>
                                                        <RemoveStoryboard BeginStoryboardName="SB_HideCineColor"/>
                                                        <BeginStoryboard x:Name="SB_ShowCineColor" HandoffBehavior="SnapshotAndReplace">
                                                            <Storyboard>
                                                                <!-- Rendre visible immédiatement -->
                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Visibility">
                                                                    <DiscreteObjectKeyFrame KeyTime="0:0:0" Value="{x:Static Visibility.Visible}"/>
                                                                </ObjectAnimationUsingKeyFrames>
                                                                <!-- Fade-in -->
                                                                <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                                                 To="1" Duration="0:0:0.35"
                                                                                 AccelerationRatio="0.2" DecelerationRatio="0.8"/>
                                                            </Storyboard>
                                                        </BeginStoryboard>
                                                    </MultiDataTrigger.EnterActions>

                                                    <!-- OFF -->
                                                    <MultiDataTrigger.ExitActions>
                                                        <RemoveStoryboard BeginStoryboardName="SB_ShowCineColor"/>
                                                        <BeginStoryboard x:Name="SB_HideCineColor" HandoffBehavior="SnapshotAndReplace">
                                                            <Storyboard FillBehavior="Stop">
                                                                <!-- Fade-out -->
                                                                <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                                                 To="0" Duration="0:0:0.45"
                                                                                 AccelerationRatio="0.3" DecelerationRatio="0.7"/>
                                                                <!-- Collapsed à la fin du fade-out -->
                                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Visibility" BeginTime="0:0:0.45">
                                                                    <DiscreteObjectKeyFrame KeyTime="0:0:0" Value="{x:Static Visibility.Collapsed}"/>
                                                                </ObjectAnimationUsingKeyFrames>
                                                            </Storyboard>
                                                        </BeginStoryboard>
                                                    </MultiDataTrigger.ExitActions>

                                                </MultiDataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Grid.Style>
                                </Grid>



                            </Grid>

                            <ContentControl x:Name="BackgroundChanger_PluginBackgroundImage" Grid.Row="0" Grid.RowSpan="4" Grid.ColumnSpan="3" Width="1" Height="1"
                                            HorizontalAlignment="Center" VerticalAlignment="Bottom" Visibility="Collapsed" Opacity="0"/>

                            <!-- Calque 5 : ShadeSteambanner -->
                            <Border Grid.Column="0"
                                    Grid.ColumnSpan="5"
                                    Grid.Row="0"
                                    Grid.RowSpan="5"
                                    Panel.ZIndex="-10"
                                    VerticalAlignment="Stretch"
                                    HorizontalAlignment="Stretch">
                                <Border.Style>
                                    <Style TargetType="Border">
                                        <Setter Property="Visibility" Value="Collapsed" />
                                        <Setter Property="Background">
                                            <Setter.Value>
                                                <ImageBrush ImageSource="{ThemeFile 'Images/ShadowBackground/ShadeSteamhero.png'}"
                                                            RenderOptions.BitmapScalingMode="Fant"
                                                            Stretch="Fill" />
                                            </Setter.Value>
                                        </Setter>

                                        <Style.Triggers>
                                            <!-- Affiche l'image si l'option SteamBanner est activée -->
                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[SteamBanner]}" Value="True">
                                                <Setter Property="Visibility" Value="Collapsed" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Border.Style>
                            </Border>


                            <!--CoverListHorizontal-->
                            <DockPanel x:Name="ListGame" FocusVisualStyle="{x:Null}">
                                <DockPanel.InputBindings>
                                    <KeyBinding Key="Back" x:Name="CloseKey" Command="{Binding Content.ChangeProperty, ElementName=ThemeOptions_Command}"	CommandParameter="[Setter ElementName=ChangeViewButton, Property=IsChecked, Value=True]" />
                                </DockPanel.InputBindings>
                                <DockPanel.Style>
                                    <Style TargetType="DockPanel">
                                        <Setter Property="Margin" Value="0,0,0,-70"/>
                                        <Setter Property="Grid.Row" Value="2"/>
                                        <Setter Property="Grid.RowSpan" Value="2"/>
                                        <Setter Property="Grid.ColumnSpan" Value="3"/>
                                        <Setter Property="MinHeight" Value="320"/>
                                        <Setter Property="MaxHeight" Value="900"/>
                                        <Setter Property="Height" Value="450"/>
                                        <Setter Property="VerticalAlignment" Value="Bottom"/>
                                        <Setter Property="RenderTransform">
                                            <Setter.Value>
                                                <TranslateTransform/>
                                            </Setter.Value>
                                        </Setter>

                                        <Style.Triggers>

                                            <DataTrigger Binding="{Settings CoverAspectRatio}" Value="1:1">
                                                <Setter Property="Height" Value="350"/>
                                            </DataTrigger>

                                            <DataTrigger Binding="{Settings CoverAspectRatio}" Value="92:43">
                                                <Setter Property="Height" Value="300"/>
                                                <Setter Property="Margin" Value="0,0,0,-30"/>
                                            </DataTrigger>

                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}" Value="True" />
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[SteamBanner]}" Value="True"/>
                                                    <Condition Binding="{Settings CoverAspectRatio}" Value="1:1" />

                                                </MultiDataTrigger.Conditions>
                                                <MultiDataTrigger.Setters>
                                                    <Setter Property="Margin" Value="0,0,0,0"/>
                                                </MultiDataTrigger.Setters>
                                            </MultiDataTrigger>


                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}" Value="True" />
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[BottomBarVisible]}" Value="False"/>
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[SteamBanner]}" Value="False"/>
                                                    <Condition Binding="{Settings Fullscreen.Columns}" Value="8" />
                                                </MultiDataTrigger.Conditions>
                                                <MultiDataTrigger.Setters>
                                                    <Setter Property="Margin" Value="0,0,0,-50"/>
                                                </MultiDataTrigger.Setters>
                                            </MultiDataTrigger>

                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}" Value="True" />
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[BottomBarVisible]}" Value="True"/>
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[SteamBanner]}" Value="False"/>

                                                    <Condition Binding="{Settings Fullscreen.Columns}" Value="8" />
                                                </MultiDataTrigger.Conditions>
                                                <MultiDataTrigger.Setters>
                                                    <Setter Property="Margin" Value="0,0,0,-55"/>
                                                </MultiDataTrigger.Setters>
                                            </MultiDataTrigger>

                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Settings CoverAspectRatio}" Value="1:1" />
                                                    <Condition Binding="{Settings Fullscreen.Columns}" Value="7" />
                                                    <Condition Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}" Value="True" />
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[BottomBarVisible]}" Value="False" />
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[SteamBanner]}" Value="False"/>
                                                </MultiDataTrigger.Conditions>
                                                <MultiDataTrigger.Setters>
                                                    <Setter Property="Margin" Value="0,0,0,-30"/>
                                                </MultiDataTrigger.Setters>
                                            </MultiDataTrigger>

                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Settings CoverAspectRatio}" Value="1:1" />
                                                    <Condition Binding="{Settings Fullscreen.Columns}" Value="7" />
                                                    <Condition Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}" Value="True" />
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[BottomBarVisible]}" Value="True" />
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[SteamBanner]}" Value="False"/>

                                                </MultiDataTrigger.Conditions>
                                                <MultiDataTrigger.Setters>
                                                    <Setter Property="Margin" Value="0,0,0,-40"/>
                                                </MultiDataTrigger.Setters>
                                            </MultiDataTrigger>

                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding ElementName=BottomBar, Path=IsKeyboardFocusWithin}" Value="False"/>
                                                    <Condition Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}" Value="True" />
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[BottomBarVisible]}" Value="True"/>
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[PerformanceMode]}" Value="False"/>
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[SteamBanner]}" Value="False"/>
                                                </MultiDataTrigger.Conditions>
                                                <MultiDataTrigger.EnterActions>
                                                    <BeginStoryboard>
                                                        <Storyboard >
                                                            <DoubleAnimation Storyboard.TargetProperty="RenderTransform.Y" From="0" To="70" Duration="0:0:0.8">
                                                                <DoubleAnimation.EasingFunction>
                                                                    <QuinticEase EasingMode="EaseInOut"/>
                                                                </DoubleAnimation.EasingFunction>
                                                            </DoubleAnimation>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </MultiDataTrigger.EnterActions>
                                                <MultiDataTrigger.ExitActions>
                                                    <BeginStoryboard>
                                                        <Storyboard>
                                                            <DoubleAnimation Storyboard.TargetProperty="RenderTransform.Y" From="70" To="0" Duration="0:0:0.7">
                                                                <DoubleAnimation.EasingFunction>
                                                                    <QuinticEase EasingMode="EaseInOut"/>
                                                                </DoubleAnimation.EasingFunction>
                                                            </DoubleAnimation>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </MultiDataTrigger.ExitActions>
                                            </MultiDataTrigger>


                                            <!--CoverListVertical-->

                                            <!--92:43-->

                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Settings Fullscreen.Rows}" Value="3" />
                                                    <Condition Binding="{Settings CoverAspectRatio}" Value="92:43" />
                                                    <Condition Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}" Value="False"/>
                                                    <Condition Binding="{Binding ElementName=PART_ElemGameDetails, Path=IsVisible}" Value="False"/>
                                                </MultiDataTrigger.Conditions>
                                                <MultiDataTrigger.Setters>
                                                    <Setter Property="Grid.Row" Value="2"/>
                                                    <Setter Property="Grid.RowSpan" Value="2"/>
                                                    <Setter Property="Height" Value="650"/>
                                                    <Setter Property="Width" Value="1900"/>
                                                    <Setter Property="Margin" Value="0,110,0,0"/>
                                                    <Setter Property="HorizontalAlignment" Value="Center"/>
                                                    <Setter Property="VerticalAlignment" Value="Bottom"/>
                                                </MultiDataTrigger.Setters>
                                            </MultiDataTrigger>

                                            <!--1:1-->

                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Settings Fullscreen.Rows}" Value="2" />
                                                    <Condition Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}" Value="False"/>
                                                    <Condition Binding="{Binding ElementName=PART_ElemGameDetails, Path=IsVisible}" Value="False"/>
                                                </MultiDataTrigger.Conditions>

                                                <MultiDataTrigger.Setters>
                                                    <Setter Property="Grid.Row" Value="2"/>
                                                    <Setter Property="Grid.RowSpan" Value="2"/>
                                                    <Setter Property="Height" Value="650"/>
                                                    <Setter Property="Width" Value="1600"/>
                                                    <Setter Property="Margin" Value="0,110,0,0"/>
                                                    <Setter Property="HorizontalAlignment" Value="Center"/>
                                                    <Setter Property="VerticalAlignment" Value="Bottom"/>
                                                </MultiDataTrigger.Setters>

                                                <MultiDataTrigger.EnterActions>
                                                    <RemoveStoryboard BeginStoryboardName="SB_Cover_Details"/>
                                                    <RemoveStoryboard BeginStoryboardName="SB_Cover_Horizontal"/>

                                                    <BeginStoryboard x:Name="SB_Cover_Vertical" HandoffBehavior="SnapshotAndReplace">
                                                        <Storyboard>
                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                                             BeginTime="0:0:0" Duration="0:0:0" From="0" To="0"/>
                                                            <DoubleAnimation Storyboard.TargetProperty="RenderTransform.(TranslateTransform.Y)"
                                                                             From="200" To="0" BeginTime="0:0:0.1" Duration="0:0:1.45">
                                                                <DoubleAnimation.EasingFunction>
                                                                    <CubicEase EasingMode="EaseInOut"/>
                                                                </DoubleAnimation.EasingFunction>
                                                            </DoubleAnimation>
                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                                             BeginTime="0:0:0.5" Duration="0:0:0.8" From="0" To="1">
                                                                <DoubleAnimation.EasingFunction>
                                                                    <ExponentialEase EasingMode="EaseIn" Exponent="7"/>
                                                                </DoubleAnimation.EasingFunction>
                                                            </DoubleAnimation>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </MultiDataTrigger.EnterActions>
                                                <MultiDataTrigger.ExitActions>
                                                    <RemoveStoryboard BeginStoryboardName="SB_Cover_Vertical"/>
                                                </MultiDataTrigger.ExitActions>
                                            </MultiDataTrigger>

                                            <!--Default-->

                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Settings Fullscreen.Rows}" Value="1" />
                                                    <Condition Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}" Value="False"/>
                                                    <Condition Binding="{Binding ElementName=PART_ElemGameDetails, Path=IsVisible}" Value="False"/>
                                                </MultiDataTrigger.Conditions>

                                                <MultiDataTrigger.Setters>
                                                    <Setter Property="Grid.Row" Value="2"/>
                                                    <Setter Property="Grid.RowSpan" Value="2"/>
                                                    <Setter Property="Height" Value="650"/>
                                                    <Setter Property="Width" Value="1800"/>
                                                    <Setter Property="Margin" Value="0,150,0,0"/>
                                                    <Setter Property="HorizontalAlignment" Value="Center"/>
                                                    <Setter Property="VerticalAlignment" Value="Bottom"/>
                                                </MultiDataTrigger.Setters>

                                                <MultiDataTrigger.EnterActions>
                                                    <RemoveStoryboard BeginStoryboardName="SB_Cover_Details"/>
                                                    <RemoveStoryboard BeginStoryboardName="SB_Cover_Horizontal"/>

                                                    <BeginStoryboard x:Name="SB_Cover_Vertical2" HandoffBehavior="SnapshotAndReplace">
                                                        <Storyboard>
                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                                             BeginTime="0:0:0" Duration="0:0:0" From="0" To="0"/>
                                                            <DoubleAnimation Storyboard.TargetProperty="RenderTransform.(TranslateTransform.Y)"
                                                                             From="200" To="0" BeginTime="0:0:0.1" Duration="0:0:1.45">
                                                                <DoubleAnimation.EasingFunction>
                                                                    <CubicEase EasingMode="EaseInOut"/>
                                                                </DoubleAnimation.EasingFunction>
                                                            </DoubleAnimation>
                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                                             BeginTime="0:0:0.5" Duration="0:0:0.8" From="0" To="1">
                                                                <DoubleAnimation.EasingFunction>
                                                                    <ExponentialEase EasingMode="EaseIn" Exponent="7"/>
                                                                </DoubleAnimation.EasingFunction>
                                                            </DoubleAnimation>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </MultiDataTrigger.EnterActions>
                                                <MultiDataTrigger.ExitActions>
                                                    <RemoveStoryboard BeginStoryboardName="SB_Cover_Vertical2"/>
                                                </MultiDataTrigger.ExitActions>
                                            </MultiDataTrigger>

                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding ElementName=PART_ElemGameDetails, Path=IsVisible}" Value="True"/>
                                                </MultiDataTrigger.Conditions>
                                                <MultiDataTrigger.EnterActions>
                                                    <BeginStoryboard x:Name="SB_Cover_Details" HandoffBehavior="SnapshotAndReplace">
                                                        <Storyboard>
                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                                             BeginTime="0:0:0.5" Duration="0:0:0.8" From="0" To="1">
                                                                <DoubleAnimation.EasingFunction>
                                                                    <ExponentialEase EasingMode="EaseIn" Exponent="7"/>
                                                                </DoubleAnimation.EasingFunction>
                                                            </DoubleAnimation>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </MultiDataTrigger.EnterActions>
                                                <MultiDataTrigger.ExitActions>
                                                    <RemoveStoryboard BeginStoryboardName="SB_Cover_Details"/>
                                                </MultiDataTrigger.ExitActions>
                                            </MultiDataTrigger>

                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}" Value="True"/>
                                                    <Condition Binding="{Binding ElementName=PART_ElemGameDetails, Path=IsVisible}" Value="False"/>
                                                </MultiDataTrigger.Conditions>
                                                <MultiDataTrigger.EnterActions>
                                                    <RemoveStoryboard BeginStoryboardName="SB_Cover_Details"/>
                                                    <RemoveStoryboard BeginStoryboardName="SB_Cover_Vertical"/>
                                                    <BeginStoryboard x:Name="SB_Cover_Horizontal" HandoffBehavior="SnapshotAndReplace">
                                                        <Storyboard>
                                                            <DoubleAnimation Storyboard.TargetProperty="RenderTransform.(TranslateTransform.X)"
                                                                             From="80" To="0" Duration="0:0:0.9">
                                                                <DoubleAnimation.EasingFunction>
                                                                    <CubicEase EasingMode="EaseOut"/>
                                                                </DoubleAnimation.EasingFunction>
                                                            </DoubleAnimation>

                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                                             BeginTime="0:0:0" Duration="0:0:0.9" From="0" To="1">
                                                                <DoubleAnimation.EasingFunction>
                                                                    <ExponentialEase EasingMode="EaseIn" Exponent="7"/>
                                                                </DoubleAnimation.EasingFunction>
                                                            </DoubleAnimation>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </MultiDataTrigger.EnterActions>
                                                <MultiDataTrigger.ExitActions>
                                                    <RemoveStoryboard BeginStoryboardName="SB_Cover_Horizontal"/>
                                                </MultiDataTrigger.ExitActions>
                                            </MultiDataTrigger>

                                        </Style.Triggers>
                                    </Style>
                                </DockPanel.Style>

                                <DockPanel.Resources>
                                    <ItemsPanelTemplate x:Key="ItemsPanel_H">
                                        <VirtualizingStackPanel Orientation="Horizontal"
                                                                VirtualizingPanel.IsVirtualizing="True"
                                                                VirtualizingPanel.VirtualizationMode="Recycling"
                                                                VirtualizingPanel.ScrollUnit="Item"
                                                                VirtualizingPanel.CacheLengthUnit="Item"
                                                                VirtualizingPanel.CacheLength="4"/>
                                    </ItemsPanelTemplate>

                                    <ItemsPanelTemplate x:Key="ItemsPanel_V">
                                        <VirtualizingStackPanel Orientation="Vertical"
                                                                Margin="0,180,0,0"
                                                                VirtualizingPanel.IsVirtualizing="True"
                                                                VirtualizingPanel.VirtualizationMode="Recycling"
                                                                VirtualizingPanel.ScrollUnit="Item"
                                                                VirtualizingPanel.CacheLengthUnit="Item"
                                                                VirtualizingPanel.CacheLength="6"/>
                                    </ItemsPanelTemplate>
                                </DockPanel.Resources>

                                <ListBoxEx x:Name="PART_ListGameItems"
                                           Background="Transparent"
                                           BorderThickness="0"
                                           FocusVisualStyle="{x:Null}"
                                           Focusable="True"
                                           ScrollViewer.CanContentScroll="True"
                                           ScrollViewer.IsDeferredScrollingEnabled="False"
                                           KeyboardNavigation.DirectionalNavigation="Once"
                                           ScrollViewer.VerticalScrollBarVisibility="Disabled"
                                           ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                                           VirtualizingPanel.IsVirtualizing="True">
                                    <ListBoxEx.Style>
                                        <Style TargetType="ListBoxEx" BasedOn="{StaticResource {x:Type ListBox}}">
                                            <Setter Property="ItemsPanel" Value="{DynamicResource ItemsPanel_H}"/>
                                            <!-- défaut -->
                                            <Style.Triggers>
                                                <!-- Exemple: passe en vertical -->
                                                <DataTrigger Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}" Value="False">
                                                    <Setter Property="ItemsPanel" Value="{DynamicResource ItemsPanel_V}"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </ListBoxEx.Style>
                                </ListBoxEx>
                            </DockPanel>

                            <!--Trailer-->
                            <Border x:Name="TrailerContainer" Grid.Column="0" Grid.ColumnSpan="5" Grid.Row="0" Grid.RowSpan="5" Panel.ZIndex="-10"
                                    VerticalAlignment="Top" HorizontalAlignment="Right" Background="Black" >
                                <Border.RenderTransform>
                                    <TransformGroup>
                                        <ScaleTransform     ScaleX="1" ScaleY="1"/>
                                        <TranslateTransform Y="0"/>
                                    </TransformGroup>
                                </Border.RenderTransform>
                                <Border.Style>
                                    <Style TargetType="Border">
                                        <Setter Property="Height" Value="800"/>
                                        <Setter Property="Opacity" Value="0"/>
                                        <Setter Property="Visibility" Value="Collapsed"/>
                                        <Style.Triggers>
                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[SteamBanner]}" Value="True">
                                                <Setter Property="Height" Value="600"/>
                                            </DataTrigger>
                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding ElementName=TrailerTrigger, Path=Opacity}" Value="1"/>
                                                    <Condition Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}" Value="True"/>
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[TrailerOnMainView]}" Value="True"/>
                                                </MultiDataTrigger.Conditions>
                                                <Setter Property="Visibility" Value="Visible" />
                                            </MultiDataTrigger>
                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding ElementName=TrailerTrigger, Path=Opacity}" Value="1"/>
                                                    <Condition Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}" Value="True"/>
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[TrailerOnMainView]}" Value="True"/>
                                                    <Condition Binding="{PluginSettings Plugin=ExtraMetadataLoader, Path=NewContextVideoAvailable}" Value="True"/>
                                                    <Condition Binding="{PluginSettings Plugin=ExtraMetadataLoader, Path=IsVideoPlaying}" Value="True"/>
                                                    <Condition Binding="{Binding ElementName=ExtraMetadataLoader_VideoLoaderControl_NoControls_Sound, Path=Opacity}" Value="1"/>
                                                </MultiDataTrigger.Conditions>
                                                <MultiDataTrigger.EnterActions>
                                                    <BeginStoryboard>
                                                        <Storyboard>
                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity" BeginTime="0:0:1.5" Duration="0:0:0.5"
                                                                             From="0" To="1">
                                                                <DoubleAnimation.EasingFunction>
                                                                    <QuinticEase EasingMode="EaseInOut"/>
                                                                </DoubleAnimation.EasingFunction>
                                                            </DoubleAnimation>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </MultiDataTrigger.EnterActions>
                                                <MultiDataTrigger.ExitActions>
                                                    <BeginStoryboard>
                                                        <Storyboard>
                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity" Duration="0:0:0" From="1" To="0"/>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </MultiDataTrigger.ExitActions>
                                            </MultiDataTrigger>

                                        </Style.Triggers>
                                    </Style>
                                </Border.Style>

                                <ContentControl x:Name="ExtraMetadataLoader_VideoLoaderControl_NoControls_Sound" Focusable="False" Panel.ZIndex="-46"  >
                                    <ContentControl.Style>
                                        <Style TargetType="ContentControl">
                                            <Setter Property="HorizontalAlignment" Value="Center" />
                                            <Setter Property="Opacity" Value="0" />
                                            <Setter Property="Visibility" Value="Collapsed" />
                                            <Setter Property="Background" Value="Black" />
                                            <Style.Triggers>
                                                <MultiDataTrigger>
                                                    <MultiDataTrigger.Conditions>
                                                        <Condition Binding="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type Window}}, Path=IsActive}" Value="True"/>
                                                        <Condition Binding="{Binding ElementName=TrailerTrigger, Path=Opacity}" Value="1"/>
                                                        <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[TrailerOnMainView]}" Value="True"/>
                                                        <Condition Binding="{PluginSettings Plugin=ExtraMetadataLoader, Path=NewContextVideoAvailable}" Value="True"/>
                                                    </MultiDataTrigger.Conditions>
                                                    <Setter Property="ItemsControl.Visibility" Value="Visible" />
                                                </MultiDataTrigger>
                                                <MultiDataTrigger>
                                                    <MultiDataTrigger.Conditions>
                                                        <Condition Binding="{Binding ElementName=TrailerTrigger, Path=Opacity}" Value="1"/>
                                                        <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[TrailerOnMainView]}" Value="True"/>
                                                        <Condition Binding="{PluginSettings Plugin=ExtraMetadataLoader, Path=NewContextVideoAvailable}" Value="True"/>
                                                        <Condition Binding="{PluginSettings Plugin=ExtraMetadataLoader, Path=IsVideoPlaying}" Value="True"/>
                                                    </MultiDataTrigger.Conditions>
                                                    <MultiDataTrigger.EnterActions>
                                                        <BeginStoryboard>
                                                            <Storyboard>
                                                                <DoubleAnimation Storyboard.TargetProperty="Opacity" BeginTime="0:0:1" Duration="0:0:0" From="0" To="1"/>
                                                            </Storyboard>
                                                        </BeginStoryboard>
                                                    </MultiDataTrigger.EnterActions>
                                                    <MultiDataTrigger.ExitActions>
                                                        <BeginStoryboard>
                                                            <Storyboard>
                                                                <DoubleAnimation Storyboard.TargetProperty="Opacity" Duration="0:0:0" From="1" To="0"/>
                                                            </Storyboard>
                                                        </BeginStoryboard>
                                                    </MultiDataTrigger.ExitActions>
                                                </MultiDataTrigger>
                                                <MultiDataTrigger>
                                                    <MultiDataTrigger.Conditions>
                                                        <Condition Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}" Value="True"/>
                                                        <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[TrailerOnMainView]}" Value="True"/>
                                                    </MultiDataTrigger.Conditions>
                                                    <Setter Property="ContentControl.OpacityMask">
                                                        <Setter.Value>
                                                            <ImageBrush ImageSource="{ThemeFile 'Images/ShadowBackground/TrailerMask.png'}"
                                                                        Stretch="Fill"
                                                                        AlignmentX="Center"
                                                                        AlignmentY="Center"/>
                                                        </Setter.Value>
                                                    </Setter>


                                                </MultiDataTrigger>
                                                <DataTrigger Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}" Value="Visible">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                </DataTrigger>
                                                <MultiDataTrigger>
                                                    <MultiDataTrigger.Conditions>
                                                        <Condition Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}" Value="False"/>
                                                    </MultiDataTrigger.Conditions>
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                </MultiDataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </ContentControl.Style>
                                </ContentControl>
                            </Border >

                            <!--Info Alternatif -->
                            <Grid x:Name="AltInfoContent" Grid.Row="0" Grid.RowSpan="5" Grid.ColumnSpan="3" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,0,-45,100" >
                                <Grid.Style>
                                    <Style TargetType="Grid">
                                        <Setter Property="Visibility" Value="Collapsed" />
                                        <Setter Property="RenderTransform">
                                            <Setter.Value>
                                                <TranslateTransform x:Name="InfoAlternatifTransform" />
                                            </Setter.Value>
                                        </Setter>
                                        <Setter Property="Effect">
                                            <Setter.Value>
                                                <DropShadowEffect ShadowDepth="2" RenderingBias="Performance" Opacity="0.4" Color="Black" />
                                            </Setter.Value>
                                        </Setter>
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}" Value="Visible">
                                                <Setter Property="Visibility" Value="Collapsed" />
                                            </DataTrigger>
                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}" Value="False"/>
                                                </MultiDataTrigger.Conditions>
                                                <Setter Property="Visibility" Value="Collapsed" />
                                            </MultiDataTrigger>

                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[PerformanceMode]}" Value="True" />
                                                    <Condition Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}" Value="Collapsed"/>
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AltInfo]}" Value="True"/>
                                                    <Condition Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}" Value="True"/>
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[SteamBanner]}" Value="False"/>
                                                </MultiDataTrigger.Conditions>
                                                <Setter Property="Opacity" Value="1"/>
                                                <Setter Property="Visibility" Value="Visible" />
                                            </MultiDataTrigger>

                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding ElementName=Id, Path=Opacity}" Value="1"/>
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AltInfo]}" Value="True"/>
                                                    <Condition Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}" Value="True"/>
                                                    <Condition Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}" Value="Collapsed"/>
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[PerformanceMode]}" Value="False"/>
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[SteamBanner]}" Value="False"/>
                                                </MultiDataTrigger.Conditions>
                                                <MultiDataTrigger.EnterActions>
                                                    <BeginStoryboard>
                                                        <Storyboard>
                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity" BeginTime="0:0:1" Duration="0:0:0.3" To="1"/>
                                                            <DoubleAnimation Storyboard.TargetProperty="RenderTransform.X" BeginTime="0:0:1" From="180" To="0" Duration="0:0:1" >
                                                                <DoubleAnimation.EasingFunction>
                                                                    <SineEase EasingMode="EaseOut" />
                                                                </DoubleAnimation.EasingFunction>
                                                            </DoubleAnimation>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </MultiDataTrigger.EnterActions>
                                                <MultiDataTrigger.ExitActions>
                                                    <BeginStoryboard>
                                                        <Storyboard>
                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity" Duration="0:0:0" To="0"/>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </MultiDataTrigger.ExitActions>
                                                <Setter Property="Visibility" Value="Visible"/>
                                            </MultiDataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Grid.Style>

                                <Border MinWidth="80" MaxHeight="1805"
                                        CornerRadius="{DynamicResource Corner}"
                                        Margin="0,0,32,20"
                                        BorderThickness="1"
                                        BorderBrush="{DynamicResource NoFocusBorderButtonBrush}"
                                        SnapsToDevicePixels="True"
                                        CacheMode="BitmapCache"
                                        Background="{x:Null}">
                                    <Grid>
                                        <!-- Fond verre fumé -->
                                        <Border CornerRadius="{DynamicResource Corner}"
                                                Background="{DynamicResource OverlayMenu}"
                                                Opacity="0.85"/>

                                        <!-- Reflet vertical discret -->
                                        <Border CornerRadius="{DynamicResource Corner}" Background="{DynamicResource GlassMainBrush}" IsHitTestVisible="False" />

                                        <!-- Liseré interne fin -->
                                        <Border CornerRadius="{DynamicResource Corner}"
                                                BorderBrush="{DynamicResource GlassInnerLineBrush}"
                                                Margin="1"
                                                BorderThickness="1"
                                                IsHitTestVisible="False"/>

                                        <!-- CONTENU -->
                                        <Border CornerRadius="{DynamicResource Corner}" Background="Transparent" Padding="18,14">
                                            <StackPanel Orientation="Vertical">
                                                <!-- TROPHÉES -->
                                                <StackPanel Orientation="Horizontal" Margin="0,8,0,8">
                                                    <StackPanel.Style>
                                                        <Style TargetType="StackPanel">
                                                            <Setter Property="Visibility" Value="Collapsed"/>
                                                            <Style.Triggers>
                                                                <DataTrigger Binding="{PluginSettings Plugin=SuccessStory, Path=HasData}" Value="True">
                                                                    <Setter Property="Visibility" Value="Visible"/>
                                                                </DataTrigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </StackPanel.Style>
                                                    <Image Margin="14,0,0,0" VerticalAlignment="Center"
                                                           Source="{ThemeFile 'Images/Trophy.png'}" Height="22"
                                                           RenderOptions.BitmapScalingMode="Fant"/>
                                                    <TextBlock Margin="14,0,2,2"
                                                               Text="{PluginSettings Plugin=SuccessStory, Path=Unlocked, FallbackValue='-'}"
                                                               VerticalAlignment="Center" Style="{DynamicResource TextBlockBoldBaseStyle}" FontSize="22"/>
                                                    <TextBlock Margin="2,0,2,2" Text="/" VerticalAlignment="Center"
                                                               Style="{DynamicResource TextBlockBoldBaseStyle}" FontSize="22"/>
                                                    <TextBlock Margin="2,0,14,2"
                                                               Text="{PluginSettings Plugin=SuccessStory, Path=Total, FallbackValue='-'}"
                                                               VerticalAlignment="Center" Style="{DynamicResource TextBlockBoldBaseStyle}" FontSize="22"/>
                                                </StackPanel>

                                                <!-- % COMPLETION -->
                                                <StackPanel Orientation="Horizontal" Margin="0,8,0,8">
                                                    <StackPanel.Style>
                                                        <Style TargetType="StackPanel">
                                                            <Setter Property="Visibility" Value="Collapsed"/>
                                                            <Style.Triggers>
                                                                <DataTrigger Binding="{PluginSettings Plugin=SuccessStory, Path=HasData}" Value="True">
                                                                    <Setter Property="Visibility" Value="Visible"/>
                                                                </DataTrigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </StackPanel.Style>
                                                    <Image Margin="14,0,0,0" VerticalAlignment="Center"
                                                           Source="{ThemeFile 'Images/Completed.png'}" Height="22"
                                                           RenderOptions.BitmapScalingMode="Fant"/>
                                                    <TextBlock Margin="14,0,16,2"
                                                               Text="{PluginSettings Plugin=SuccessStory, Path=Percent, StringFormat={}{0}%}"
                                                               VerticalAlignment="Center" Style="{DynamicResource TextBlockBoldBaseStyle}" FontSize="22"/>
                                                </StackPanel>

                                                <!-- HLTB / Playtime -->
                                                <StackPanel Orientation="Horizontal" Margin="0,8,0,8"
                                                            Tag="{Binding SelectedGame.Playtime, Converter={StaticResource PlayTimeToStringConverter}}">
                                                    <StackPanel.Style>
                                                        <Style TargetType="StackPanel">
                                                            <Setter Property="Visibility" Value="Visible"/>
                                                            <Style.Triggers>
                                                                <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="">
                                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                                </DataTrigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </StackPanel.Style>
                                                    <Image Margin="14,0,0,0" VerticalAlignment="Center"
                                                           Source="{ThemeFile 'Images/HLTB.png'}" Height="22"
                                                           RenderOptions.BitmapScalingMode="Fant"/>
                                                    <TextBlock Margin="14,0,16,2"
                                                               Text="{Binding SelectedGame.Playtime, Converter={StaticResource PlayTimeToStringConverter}}"
                                                               VerticalAlignment="Center" Style="{DynamicResource TextBlockBoldBaseStyle}" FontSize="22"/>
                                                </StackPanel>

                                                <!-- Install size -->
                                                <StackPanel Orientation="Horizontal" Margin="0,8,0,8"
                                                            Tag="{Binding SelectedGame.InstallSize, Converter={StaticResource NullableUlongBytesSizeToStringConverter}, ConverterParameter=' / '}">
                                                    <StackPanel.Style>
                                                        <Style TargetType="StackPanel">
                                                            <Setter Property="Visibility" Value="Visible"/>
                                                            <Style.Triggers>
                                                                <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="">
                                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                                </DataTrigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </StackPanel.Style>
                                                    <Image Margin="14,0,0,0" VerticalAlignment="Center"
                                                           Source="{ThemeFile 'Images/Hdd.png'}" Height="22"
                                                           RenderOptions.BitmapScalingMode="Fant"/>
                                                    <TextBlock Margin="14,0,16,2"
                                                               Text="{Binding SelectedGame.InstallSize, Converter={StaticResource NullableUlongBytesSizeToStringConverter}, ConverterParameter=' / '}"
                                                               VerticalAlignment="Center" Style="{DynamicResource TextBlockBoldBaseStyle}" FontSize="22"/>
                                                </StackPanel>

                                                <!-- Genre -->
                                                <StackPanel Orientation="Horizontal" Margin="0,8,0,8">
                                                    <StackPanel.Style>
                                                        <Style TargetType="StackPanel">
                                                            <Setter Property="Visibility" Value="Visible"/>
                                                            <Style.Triggers>
                                                                <DataTrigger Binding="{Binding ElementName=Genres, Path=Text}" Value="">
                                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                                </DataTrigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </StackPanel.Style>
                                                    <Image Margin="14,0,0,0" VerticalAlignment="Center"
                                                           Source="{ThemeFile 'Images/gamepad.png'}" Height="22"
                                                           RenderOptions.BitmapScalingMode="Fant"/>
                                                    <TextBlock x:Name="Genres" Margin="14,0,16,2"
                                                               Text="{Binding SelectedGame.Genres[0]}"
                                                               VerticalAlignment="Center" Style="{DynamicResource TextBlockBoldBaseStyle}" FontSize="22"/>
                                                </StackPanel>



                                                <!-- Age ratings -->
                                                <StackPanel Orientation="Horizontal" Margin="0,8,0,8"
                                                            Tag="{Binding SelectedGame.AgeRatings, Converter={StaticResource ListToStringConverter}}">
                                                    <StackPanel.Style>
                                                        <Style TargetType="StackPanel">
                                                            <Setter Property="Visibility" Value="Visible"/>
                                                            <Style.Triggers>
                                                                <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="">
                                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                                </DataTrigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </StackPanel.Style>

                                                    <ItemsControlEx ItemsSource="{Binding SelectedGame.AgeRatings}"
                                                                    IsTabStop="False" IsEnabled="False" Focusable="False">

                                                        <ItemsControlEx.ItemTemplate>
                                                            <DataTemplate>
                                                                <Grid HorizontalAlignment="Right" VerticalAlignment="Center">
                                                                    <Grid.ColumnDefinitions>
                                                                        <ColumnDefinition Width="auto" />
                                                                    </Grid.ColumnDefinitions>
                                                                    <Border x:Name="RatingIcon" Background="Transparent" CornerRadius="0" Height="22" Width="auto" Margin="16,5,0,0" Visibility="Visible">
                                                                        <Image x:Name="RatingIconImage" Grid.Column="0"  RenderOptions.BitmapScalingMode="Fant" SnapsToDevicePixels="True"  Source="{ThemeFileBinding Name, PathFormat='Icons/AgeRating/Alt/{0}.png.'}" />
                                                                    </Border>
                                                                </Grid>

                                                                <DataTemplate.Triggers>
                                                                    <DataTrigger Binding="{Binding ElementName=RatingIconImage, Path=Source}" Value="{x:Null}">
                                                                        <Setter Property="Visibility" Value="Collapsed"/>
                                                                    </DataTrigger>
                                                                </DataTemplate.Triggers>
                                                            </DataTemplate>
                                                        </ItemsControlEx.ItemTemplate>
                                                    </ItemsControlEx>

                                                    <TextBlock Margin="5,0,16,2"
                                                               Text="{Binding SelectedGame.AgeRatings, Converter={StaticResource ListToStringConverter}}"
                                                               VerticalAlignment="Center" Style="{DynamicResource TextBlockBoldBaseStyle}" FontSize="22"/>
                                                </StackPanel>

                                                <!-- Features -->

                                                <StackPanel Orientation="Horizontal" Margin="0,8,0,8">
                                                    <ItemsControl x:Name="Features" Margin="14,0,16,2"
                                                                  ItemsSource="{Binding SelectedGame.Features}"
                                                                  Focusable="False"
                                                                  MaxWidth="160"
                                                                  ClipToBounds="False"
                                                                  FocusVisualStyle="{x:Null}"
                                                                  HorizontalAlignment="Center"
                                                                  VerticalAlignment="Bottom">
                                                        <ItemsControl.Style>
                                                            <Style TargetType="ItemsControl">
                                                                <Setter Property="Visibility" Value="Visible"/>
                                                                <Style.Triggers>
                                                                    <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=HasItems}" Value="False">
                                                                        <Setter Property="Visibility" Value="Collapsed"/>
                                                                    </DataTrigger>
                                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[FeaturesSteamMain]}" Value="True">
                                                                        <Setter Property="Visibility" Value="Collapsed"/>
                                                                    </DataTrigger>
                                                                </Style.Triggers>
                                                            </Style>
                                                        </ItemsControl.Style>
                                                        <ItemsControl.ItemsPanel>
                                                            <ItemsPanelTemplate>
                                                                <WrapPanel Orientation="Horizontal"/>
                                                            </ItemsPanelTemplate>
                                                        </ItemsControl.ItemsPanel>
                                                        <ItemsControl.ItemTemplate>
                                                            <DataTemplate>
                                                                <Image Width="40" Height="40"
                                                                       Margin="0,0,6,0"
                                                                       Opacity="0.8"
                                                                       Stretch="Uniform"
                                                                       Source="{ThemeFileBinding Name, PathFormat='Icons/Features/{0}.png'}"
                                                                       RenderOptions.BitmapScalingMode="Fant">
                                                                    <Image.Style>
                                                                        <Style TargetType="Image">
                                                                            <Setter Property="Opacity" Value="0.9"/>
                                                                            <Setter Property="Visibility" Value="Visible"/>
                                                                            <Style.Triggers>
                                                                                <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Source}" Value="{x:Null}">
                                                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                                                </DataTrigger>
                                                                            </Style.Triggers>
                                                                        </Style>
                                                                    </Image.Style>
                                                                </Image>
                                                            </DataTemplate>
                                                        </ItemsControl.ItemTemplate>
                                                    </ItemsControl>
                                                </StackPanel>

                                            </StackPanel>
                                        </Border>
                                    </Grid>
                                </Border>

                            </Grid>

                            <!-- ButtonController-->
                            <Grid Name="BottomButton" RenderTransformOrigin="0.5,1" Panel.ZIndex="-9">

                                <Grid.Style>
                                    <Style TargetType="Grid">
                                        <Setter Property="Visibility" Value="Collapsed"/>
                                        <Setter Property="Margin" Value="0,0,0,0"/>
                                        <Setter Property="Grid.Row" Value="2"/>
                                        <Setter Property="Grid.RowSpan" Value="2"/>
                                        <Setter Property="Grid.ColumnSpan" Value="3"/>
                                        <Setter Property="VerticalAlignment" Value="Bottom"/>
                                        <Setter Property="HorizontalAlignment" Value="Stretch"/>
                                        <Setter Property="Height" Value="350"/>
                                        <Setter Property="Opacity" Value="1"/>
                                        <Setter Property="RenderTransform">
                                            <Setter.Value>
                                                <TranslateTransform x:Name="ControllerTranslateTransform" />
                                            </Setter.Value>
                                        </Setter>
                                        <Style.Triggers>

                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[ButtonControllerVisibleByDefault]}" Value="False"/>
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[TopInfoBar]}" Value="True"/>
                                                </MultiDataTrigger.Conditions>
                                                <Setter Property="Visibility" Value="Visible"/>
                                            </MultiDataTrigger>

                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[SteamBanner]}" Value="True">
                                                <Setter Property="Height" Value="480"/>
                                                <Setter Property="Grid.RowSpan" Value="3"/>
                                                <Setter Property="Visibility" Value="Visible"/>
                                            </DataTrigger>

                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[ButtonControllerVisibleByDefault]}" Value="True">
                                                <Setter Property="Visibility" Value="Visible"/>
                                            </DataTrigger>

                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[BottomBarVisible]}" Value="True"/>
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[SteamBanner]}" Value="False"/>
                                                </MultiDataTrigger.Conditions>
                                                <MultiDataTrigger.Setters>
                                                    <Setter Property="Grid.RowSpan" Value="3"/>
                                                    <Setter Property="Height" Value="410"/>
                                                </MultiDataTrigger.Setters>
                                            </MultiDataTrigger>

                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Settings Fullscreen.Columns}" Value="8" />
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[BottomBarVisible]}" Value="True" />
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[PerformanceMode]}" Value="False"/>
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[SteamBanner]}" Value="False"/>
                                                </MultiDataTrigger.Conditions>
                                                <MultiDataTrigger.Setters>
                                                    <Setter Property="Height" Value="440"/>
                                                </MultiDataTrigger.Setters>
                                            </MultiDataTrigger>

                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Settings Fullscreen.Columns}" Value="8" />
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[BottomBarVisible]}" Value="False" />
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[PerformanceMode]}" Value="False"/>
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[SteamBanner]}" Value="False"/>
                                                </MultiDataTrigger.Conditions>
                                                <MultiDataTrigger.Setters>
                                                    <Setter Property="Height" Value="420"/>
                                                </MultiDataTrigger.Setters>
                                            </MultiDataTrigger>

                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Settings Fullscreen.Columns}" Value="9" />
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[BottomBarVisible]}" Value="False" />
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[PerformanceMode]}" Value="False"/>
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[SteamBanner]}" Value="False"/>
                                                </MultiDataTrigger.Conditions>
                                                <MultiDataTrigger.Setters>
                                                    <Setter Property="Height" Value="380"/>
                                                </MultiDataTrigger.Setters>
                                            </MultiDataTrigger>

                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Settings CoverAspectRatio}" Value="1:1" />
                                                    <Condition Binding="{Settings Fullscreen.Columns}" Value="8" />
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[BottomBarVisible]}" Value="False" />
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[PerformanceMode]}" Value="False"/>
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[SteamBanner]}" Value="False"/>
                                                </MultiDataTrigger.Conditions>
                                                <MultiDataTrigger.Setters>
                                                    <Setter Property="Height" Value="320"/>
                                                </MultiDataTrigger.Setters>
                                            </MultiDataTrigger>

                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Settings CoverAspectRatio}" Value="1:1" />
                                                    <Condition Binding="{Settings Fullscreen.Columns}" Value="8" />
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[BottomBarVisible]}" Value="True" />
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[PerformanceMode]}" Value="False"/>
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[SteamBanner]}" Value="False"/>
                                                </MultiDataTrigger.Conditions>
                                                <MultiDataTrigger.Setters>
                                                    <Setter Property="Height" Value="320"/>
                                                </MultiDataTrigger.Setters>
                                            </MultiDataTrigger>

                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Settings CoverAspectRatio}" Value="1:1" />
                                                    <Condition Binding="{Settings Fullscreen.Columns}" Value="7" />
                                                    <Condition Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}" Value="True" />
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[BottomBarVisible]}" Value="True" />
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[PerformanceMode]}" Value="False"/>
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[SteamBanner]}" Value="False"/>
                                                </MultiDataTrigger.Conditions>
                                                <MultiDataTrigger.Setters>
                                                    <Setter Property="Height" Value="370"/>
                                                </MultiDataTrigger.Setters>
                                            </MultiDataTrigger>

                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Settings CoverAspectRatio}" Value="1:1" />
                                                    <Condition Binding="{Settings Fullscreen.Columns}" Value="8" />
                                                    <Condition Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}" Value="True" />
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[BottomBarVisible]}" Value="True" />
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[PerformanceMode]}" Value="False"/>
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[SteamBanner]}" Value="False"/>
                                                </MultiDataTrigger.Conditions>
                                                <MultiDataTrigger.Setters>
                                                    <Setter Property="Height" Value="350"/>
                                                </MultiDataTrigger.Setters>
                                            </MultiDataTrigger>

                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Settings CoverAspectRatio}" Value="92:43" />
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[BottomBarVisible]}" Value="True" />
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[PerformanceMode]}" Value="False"/>
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[SteamBanner]}" Value="False"/>
                                                </MultiDataTrigger.Conditions>
                                                <MultiDataTrigger.Setters>
                                                    <Setter Property="Height" Value="380"/>
                                                </MultiDataTrigger.Setters>
                                            </MultiDataTrigger>

                                            <!-- Perfomance Mode -->

                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Settings Fullscreen.Columns}" Value="8" />
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[PerformanceMode]}" Value="True"/>
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[SteamBanner]}" Value="False"/>
                                                </MultiDataTrigger.Conditions>
                                                <MultiDataTrigger.Setters>
                                                    <Setter Property="Height" Value="500"/>
                                                </MultiDataTrigger.Setters>
                                            </MultiDataTrigger>

                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Settings Fullscreen.Columns}" Value="9" />
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[PerformanceMode]}" Value="True"/>
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[SteamBanner]}" Value="False"/>
                                                </MultiDataTrigger.Conditions>
                                                <MultiDataTrigger.Setters>
                                                    <Setter Property="Height" Value="460"/>
                                                </MultiDataTrigger.Setters>
                                            </MultiDataTrigger>

                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Settings CoverAspectRatio}" Value="1:1" />
                                                    <Condition Binding="{Settings Fullscreen.Columns}" Value="8" />
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[PerformanceMode]}" Value="True"/>
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[SteamBanner]}" Value="False"/>
                                                </MultiDataTrigger.Conditions>
                                                <MultiDataTrigger.Setters>
                                                    <Setter Property="Height" Value="390"/>
                                                </MultiDataTrigger.Setters>
                                            </MultiDataTrigger>

                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Settings CoverAspectRatio}" Value="1:1" />
                                                    <Condition Binding="{Settings Fullscreen.Columns}" Value="7" />
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[PerformanceMode]}" Value="True"/>
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[SteamBanner]}" Value="False"/>
                                                </MultiDataTrigger.Conditions>
                                                <MultiDataTrigger.Setters>
                                                    <Setter Property="Height" Value="420"/>
                                                </MultiDataTrigger.Setters>
                                            </MultiDataTrigger>




                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding ElementName=BottomBar, Path=IsKeyboardFocusWithin}" Value="True"/>
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[BottomBarVisible]}" Value="True"/>
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[PerformanceMode]}" Value="False"/>
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[SteamBanner]}" Value="False"/>
                                                </MultiDataTrigger.Conditions>
                                                <MultiDataTrigger.EnterActions>
                                                    <BeginStoryboard>
                                                        <Storyboard>
                                                            <DoubleAnimation Storyboard.TargetProperty="(RenderTransform).(TranslateTransform.Y)" From="0" To="-80" Duration="0:0:0.8">
                                                                <DoubleAnimation.EasingFunction>
                                                                    <QuinticEase EasingMode="EaseInOut"/>
                                                                </DoubleAnimation.EasingFunction>
                                                            </DoubleAnimation>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </MultiDataTrigger.EnterActions>
                                                <MultiDataTrigger.ExitActions>
                                                    <BeginStoryboard>
                                                        <Storyboard>
                                                            <DoubleAnimation Storyboard.TargetProperty="(RenderTransform).(TranslateTransform.Y)" From="-80" To="0" Duration="0:0:0.7">
                                                                <DoubleAnimation.EasingFunction>
                                                                    <QuinticEase EasingMode="EaseInOut"/>
                                                                </DoubleAnimation.EasingFunction>
                                                            </DoubleAnimation>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </MultiDataTrigger.ExitActions>
                                            </MultiDataTrigger>



                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding ElementName=PART_ButtonController, Path=IsChecked}" Value="True"/>
                                                    <Condition Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}" Value="True"/>
                                                </MultiDataTrigger.Conditions>
                                                <Setter Property="Visibility" Value="Visible"/>
                                            </MultiDataTrigger>
                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[ButtonControllerVisibleByDefault]}" Value="True"/>
                                                    <Condition Binding="{Binding ElementName=PART_ButtonController, Path=IsChecked}" Value="True"/>
                                                    <Condition Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}" Value="True"/>
                                                </MultiDataTrigger.Conditions>
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                            </MultiDataTrigger>
                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[ButtonControllerVisibleByDefault]}" Value="True"/>
                                                    <Condition Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}" Value="False"/>
                                                </MultiDataTrigger.Conditions>
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                            </MultiDataTrigger>
                                            <DataTrigger Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}" Value="Visible">
                                                <Setter Property="ItemsControl.Visibility" Value="Collapsed" />
                                            </DataTrigger>



                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}" Value="Collapsed"/>
                                                    <Condition Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}" Value="True" />
                                                </MultiDataTrigger.Conditions>
                                                <MultiDataTrigger.EnterActions>
                                                    <BeginStoryboard>
                                                        <Storyboard>
                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity" Duration="0:0:0" From="0" To="0" />
                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity" BeginTime="0:0:0.5" Duration="0:0:0.6" From="0" To="1" />
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </MultiDataTrigger.EnterActions>
                                            </MultiDataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Grid.Style>

                                <Grid HorizontalAlignment="Stretch" VerticalAlignment="Stretch">

                                    <!-- Fond verre -->
                                    <Border CornerRadius="0"
                                            Background="{DynamicResource OverlayMenu}"
                                            Opacity="0.5"
                                            HorizontalAlignment="Stretch" VerticalAlignment="Stretch"/>

                                    <!-- Reflet vertical discret -->
                                    <Border CornerRadius="0" IsHitTestVisible="False" Background="{DynamicResource GlassWindowBrush}" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" />

                                    <!-- Liseré interne -->
                                    <Border CornerRadius="0"
                                            Margin="1"
                                            Opacity="0.8"
                                            BorderThickness="0,1,0,0"
                                            BorderBrush="{DynamicResource GlassInnerLineBrush}"
                                            IsHitTestVisible="False"
                                            HorizontalAlignment="Stretch" VerticalAlignment="Stretch"/>

                                    <!-- Hairline supérieure -->
                                    <Border HorizontalAlignment="Stretch" VerticalAlignment="Top" Height="1.5"
                                            Background="{DynamicResource MenuBorderBrush}" Opacity="0.5"
                                            CornerRadius="0"/>

                                    <Border CornerRadius="0" IsHitTestVisible="False" Height="65" Width="1600" BorderThickness="0,0,0,1" BorderBrush="{DynamicResource MenuBorderBrush}" HorizontalAlignment="Center" VerticalAlignment="Top" />
                                    <Border CornerRadius="0" IsHitTestVisible="False" Background="#60000000"  HorizontalAlignment="Stretch" VerticalAlignment="Stretch" />


                                    <StackPanel Orientation="Horizontal" Opacity="0.9" VerticalAlignment="Top" HorizontalAlignment="Center" Width="Auto" Margin="0,0,0,0" Height="70">
                                        <StackPanel.Style>
                                            <Style TargetType="StackPanel">
                                                <Setter Property="Visibility" Value="Visible"/>
                                                <Style.Triggers>
                                                    <MultiDataTrigger>
                                                        <MultiDataTrigger.Conditions>
                                                            <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[SteamBanner]}" Value="True"/>
                                                            <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[ButtonControllerVisibleByDefault]}" Value="False"/>
                                                        </MultiDataTrigger.Conditions>
                                                        <Setter Property="Visibility" Value="Collapsed"/>
                                                    </MultiDataTrigger>
                                                    <MultiDataTrigger>
                                                        <MultiDataTrigger.Conditions>
                                                            <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[SteamBanner]}" Value="False"/>
                                                            <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[TopInfoBar]}" Value="True"/>
                                                        </MultiDataTrigger.Conditions>
                                                        <Setter Property="Visibility" Value="Collapsed"/>
                                                    </MultiDataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </StackPanel.Style>
                                        <ButtonEx x:Name="PART_ButtonGameOptions"
                                                  Style="{DynamicResource ButtonBottomMenu}"
                                                  Content="{DynamicResource LOCSettingsLabel}" />

                                        <ButtonEx
                                            Style="{StaticResource IconSelectButton}"
                                            Content="{DynamicResource LOCQuickOptions}" />


                                        <ButtonEx x:Name="PART_ButtonInstall"
                                                  Style="{DynamicResource ButtonBottomMenu}"
                                                  Content="{DynamicResource LOCInstallGame}" />

                                        <ButtonEx x:Name="PART_ButtonPlay"
                                                  Style="{DynamicResource ButtonBottomMenu}"
                                                  Content="{DynamicResource LOCPlayGame}" />


                                        <ButtonEx x:Name="PART_ButtonDetails"
                                                  Style="{DynamicResource ButtonBottomMenu}"
                                                  Content="{DynamicResource LOCSettingsGameDetailsLabel}" />


                                        <ButtonEx Style="{StaticResource IconYButton}"
                                                  Content="{DynamicResource LOCGameOptions}" />


                                        <StackPanel Margin="0,0,10,0" Orientation="Horizontal" VerticalAlignment="Center">
                                            <TextBlock Margin="0,0,10,0" Text="g" Foreground="{DynamicResource TextBrush}"  HorizontalAlignment="Right" FontSize="35" FontFamily="{StaticResource FontXboxOneController}"/>
                                            <TextBlock Margin="0,0,10,0" Text="{StaticResource LOCSettingsSearch}" Style="{DynamicResource TextBlockBaseStyle}"  HorizontalAlignment="Right" VerticalAlignment="Center" FontSize="26"  />
                                        </StackPanel>


                                        <StackPanel Margin="0,0,10,0" Orientation="Horizontal" VerticalAlignment="Center">
                                            <TextBlock Margin="0,0,10,0" Text="x" Foreground="{DynamicResource TextBrush}"  HorizontalAlignment="Right" FontSize="35" FontFamily="{StaticResource FontXboxOneController}"/>
                                            <TextBlock Margin="0,0,10,0" Text="{StaticResource LOCFilter}" Style="{DynamicResource TextBlockBaseStyle}"  HorizontalAlignment="Right" VerticalAlignment="Center" FontSize="26"  />
                                        </StackPanel>
                                    </StackPanel>

                                    <StackPanel Orientation="Horizontal"
                                                Opacity="0.92"
                                                VerticalAlignment="Top"
                                                HorizontalAlignment="Center"
                                                Height="70">

                                        <StackPanel.Style>
                                            <Style TargetType="StackPanel">
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                                <Style.Triggers>
                                                    <MultiDataTrigger>
                                                        <MultiDataTrigger.Conditions>
                                                            <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[SteamBanner]}" Value="True"/>
                                                            <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[ButtonControllerVisibleByDefault]}" Value="False"/>
                                                        </MultiDataTrigger.Conditions>
                                                        <Setter Property="Visibility" Value="Visible"/>
                                                    </MultiDataTrigger>
                                                    <MultiDataTrigger>
                                                        <MultiDataTrigger.Conditions>
                                                            <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[SteamBanner]}" Value="False"/>
                                                            <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[TopInfoBar]}" Value="True"/>
                                                        </MultiDataTrigger.Conditions>
                                                        <Setter Property="Visibility" Value="Visible"/>
                                                    </MultiDataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </StackPanel.Style>

                                        <!--  GENRE  -->
                                        <StackPanel x:Name="StackPanelGenre" Orientation="Horizontal" VerticalAlignment="Center" Margin="10,0,10,0">
                                            <StackPanel.Style>
                                                <Style TargetType="StackPanel">
                                                    <Setter Property="Visibility" Value="Visible"/>
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding ElementName=Genre, Path=Text}" Value="">
                                                            <Setter Property="Visibility" Value="Collapsed"/>
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </StackPanel.Style>
                                            <TextBlock x:Name="Genre"
                                                       Margin="10,0,0,1"
                                                       Text="{Binding SelectedGame.Genres[0]}"
                                                       VerticalAlignment="Center"
                                                       Style="{DynamicResource TextBlockBoldBaseStyle}"
                                                       FontSize="22"
                                                       FontWeight="SemiBold"/>
                                            <TextBlock Margin="10,0,0,1"
                                                       Text="{Binding SelectedGame.Genres[1]}"
                                                       VerticalAlignment="Center"
                                                       Style="{DynamicResource TextBlockBoldBaseStyle}"
                                                       FontSize="22"
                                                       FontWeight="SemiBold"/>
                                        </StackPanel>

                                        <!-- separator -->
                                        <Rectangle Width="1" Height="26" Fill="#22FFFFFF" Margin="10,0,10,0" Visibility="{Binding ElementName=StackPanelGenre, Path=Visibility}"/>

                                        <!-- LAST PLAYED -->
                                        <StackPanel x:Name="StackPanelLastPlayedDate" Orientation="Horizontal" VerticalAlignment="Center" Margin="10,0,10,0">
                                            <StackPanel.Style>
                                                <Style TargetType="StackPanel">
                                                    <Setter Property="Visibility" Value="Visible"/>
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding ElementName=LastPlayedDate, Path=Text}" Value="">
                                                            <Setter Property="Visibility" Value="Collapsed"/>
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </StackPanel.Style>
                                            <TextBlock Text="&#xec45;"
                                                       FontFamily="{DynamicResource FontIcoFont}"
                                                       Style="{StaticResource InfoValueStyle}"
                                                       FontSize="22"
                                                       Opacity="0.9"
                                                       Margin="0,0,6,0"
                                                       VerticalAlignment="Center"/>

                                            <!-- Date -->
                                            <TextBlock x:Name="LastPlayedDate"
                                                       Margin="10,0,0,1"
                                                       Text="{Binding SelectedGame.LastActivity, StringFormat={}{0:dd MMM yyyy}}"
                                                       Style="{DynamicResource TextBlockBoldBaseStyle}"
                                                       FontSize="22"
                                                       FontWeight="SemiBold"/>

                                        </StackPanel>

                                        <!-- separator -->
                                        <Rectangle Width="1" Height="26" Fill="#22FFFFFF" Margin="10,0,10,0" Visibility="{Binding ElementName=StackPanelLastPlayedDate, Path=Visibility}"/>

                                        <!-- CRITIC SCORE -->
                                        <StackPanel x:Name="CriticScoreBlock" Orientation="Horizontal" VerticalAlignment="Center" Margin="10,0,10,0">
                                            <StackPanel.Style>
                                                <Style TargetType="StackPanel">
                                                    <Setter Property="Visibility" Value="Visible"/>
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding SelectedGame.CriticScore}" Value="{x:Null}">
                                                            <Setter Property="Visibility" Value="Collapsed"/>
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </StackPanel.Style>
                                            <TextBlock Text="&#xec7c;"
                                                       FontFamily="{DynamicResource FontIcoFont}"
                                                       Style="{StaticResource InfoValueStyle}"
                                                       FontSize="22"
                                                       Opacity="0.9"
                                                       Margin="0,0,6,0"
                                                       VerticalAlignment="Center"/>

                                            <TextBlock Margin="10,0,0,1"
                                                       Text="{Binding SelectedGame.CriticScore}"
                                                       VerticalAlignment="Center"
                                                       Style="{DynamicResource TextBlockBoldBaseStyle}"
                                                       FontSize="22"
                                                       FontWeight="SemiBold"/>
                                        </StackPanel>

                                        <!-- separator -->
                                        <Rectangle Width="1" Height="26" Fill="#22FFFFFF" Margin="10,0,10,0" Visibility="{Binding ElementName=CriticScoreBlock, Path=Visibility}"/>

                                        <!--  TROPHIES  -->
                                        <StackPanel x:Name="StackPanelTroph" Orientation="Horizontal" VerticalAlignment="Center" Margin="10,0,10,0">
                                            <StackPanel.Style>
                                                <Style TargetType="StackPanel">
                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{PluginSettings Plugin=SuccessStory, Path=HasData}" Value="True">
                                                            <Setter Property="Visibility" Value="Visible"/>
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </StackPanel.Style>
                                            <Image Source="{ThemeFile 'Images/Trophy.png'}"
                                                   Height="20"
                                                   VerticalAlignment="Center"
                                                   RenderOptions.BitmapScalingMode="Fant"/>

                                            <TextBlock Margin="10,0,0,1"
                                                       Text="{PluginSettings Plugin=SuccessStory, Path=Unlocked, FallbackValue='-'}"
                                                       VerticalAlignment="Center"
                                                       Style="{DynamicResource TextBlockBoldBaseStyle}"
                                                       FontSize="22"
                                                       FontWeight="SemiBold"/>

                                            <TextBlock Text="/" Margin="6,0,6,1" Opacity="0.45"
                                                       VerticalAlignment="Center"
                                                       Style="{DynamicResource TextBlockBoldBaseStyle}"
                                                       FontSize="22"
                                                       FontWeight="SemiBold"/>

                                            <TextBlock Margin="0,0,0,1"
                                                       Text="{PluginSettings Plugin=SuccessStory, Path=Total, FallbackValue='-'}"
                                                       VerticalAlignment="Center"
                                                       Style="{DynamicResource TextBlockBoldBaseStyle}"
                                                       FontSize="22"
                                                       FontWeight="SemiBold"/>
                                            <TextBlock Margin="10,0,0,1"
                                                       Text="("
                                                       VerticalAlignment="Center"
                                                       Style="{DynamicResource TextBlockBoldBaseStyle}"
                                                       FontSize="22"
                                                       FontWeight="SemiBold"/>

                                            <TextBlock Margin="1,0,1,1"
                                                       Text="{PluginSettings Plugin=SuccessStory, Path=Percent, StringFormat={}{0}%}"
                                                       VerticalAlignment="Center"
                                                       Style="{DynamicResource TextBlockBoldBaseStyle}"
                                                       FontSize="22"
                                                       FontWeight="SemiBold"/>
                                            <TextBlock Margin="0,0,0,1"
                                                       Text=")"
                                                       VerticalAlignment="Center"
                                                       Style="{DynamicResource TextBlockBoldBaseStyle}"
                                                       FontSize="22"
                                                       FontWeight="SemiBold"/>
                                        </StackPanel>

                                        <!-- separator -->
                                        <Rectangle Width="1" Height="26" Fill="#22FFFFFF" Margin="10,0,10,0" Visibility="{Binding ElementName=StackPanelTroph, Path=Visibility}"/>

                                        <!--  PLAYTIME  -->
                                        <StackPanel x:Name="StackPanelPlayTime" Orientation="Horizontal" VerticalAlignment="Center" Margin="10,0,10,0" Tag="{Binding SelectedGame.Playtime, Converter={StaticResource PlayTimeToStringConverter}}">
                                            <StackPanel.Style>
                                                <Style TargetType="StackPanel">
                                                    <Setter Property="Visibility" Value="Visible"/>
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="">
                                                            <Setter Property="Visibility" Value="Collapsed"/>
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </StackPanel.Style>
                                            <Image Source="{ThemeFile 'Images/HLTB.png'}"
                                                   Height="22"
                                                   VerticalAlignment="Center"
                                                   RenderOptions.BitmapScalingMode="Fant"/>
                                            <TextBlock Margin="10,0,0,1"
                                                       Text="{Binding SelectedGame.Playtime, Converter={StaticResource PlayTimeToStringConverter}}"
                                                       VerticalAlignment="Center"
                                                       Style="{DynamicResource TextBlockBoldBaseStyle}"
                                                       FontSize="22"
                                                       FontWeight="SemiBold"/>
                                        </StackPanel>

                                        <!-- separator -->
                                        <Rectangle Width="1" Height="26" Fill="#22FFFFFF" Margin="10,0,10,0" Visibility="{Binding ElementName=StackPanelPlayTime, Path=Visibility}"/>

                                        <!--  INSTALL SIZE  -->
                                        <StackPanel x:Name="StackPanelInstall" Orientation="Horizontal" VerticalAlignment="Center" Margin="10,0,10,0" Tag="{Binding SelectedGame.InstallSize, Converter={StaticResource NullableUlongBytesSizeToStringConverter}, ConverterParameter=' / '}">
                                            <StackPanel.Style>
                                                <Style TargetType="StackPanel">
                                                    <Setter Property="Visibility" Value="Visible"/>
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="">
                                                            <Setter Property="Visibility" Value="Collapsed"/>
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </StackPanel.Style>
                                            <Image Source="{ThemeFile 'Images/Hdd.png'}"
                                                   Height="22"
                                                   VerticalAlignment="Center"
                                                   RenderOptions.BitmapScalingMode="Fant"/>
                                            <TextBlock Margin="10,0,0,1"
                                                       Text="{Binding SelectedGame.InstallSize, Converter={StaticResource NullableUlongBytesSizeToStringConverter}, ConverterParameter=' / '}"
                                                       VerticalAlignment="Center"
                                                       Style="{DynamicResource TextBlockBoldBaseStyle}"
                                                       FontSize="22"
                                                       FontWeight="SemiBold"/>
                                        </StackPanel>

                                        <!-- separator -->
                                        <Rectangle Width="1" Height="26" Fill="#22FFFFFF" Margin="10,0,10,0" Visibility="{Binding ElementName=StackPanelInstall, Path=Visibility}"/>

                                        <!--  AGE RATING ICONS  -->
                                        <StackPanel x:Name="StackPanelAge" Orientation="Horizontal" Margin="10,0,10,0"
                                                    Tag="{Binding SelectedGame.AgeRatings, Converter={StaticResource ListToStringConverter}}">
                                            <StackPanel.Style>
                                                <Style TargetType="StackPanel">
                                                    <Setter Property="Visibility" Value="Visible"/>
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="">
                                                            <Setter Property="Visibility" Value="Collapsed"/>
                                                        </DataTrigger>
                                                        <DataTrigger Binding="{Binding ElementName=RatingIconImage, Path=Source}" Value="{x:Null}">
                                                            <Setter Property="Visibility" Value="Collapsed"/>
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </StackPanel.Style>
                                            <ItemsControlEx ItemsSource="{Binding SelectedGame.AgeRatings}"
                                                            IsTabStop="False" IsEnabled="False" Focusable="False"
                                                            VerticalAlignment="Center"
                                                            Margin="10,0,0,0">
                                                <ItemsControlEx.ItemsPanel>
                                                    <ItemsPanelTemplate>
                                                        <StackPanel Orientation="Horizontal"/>
                                                    </ItemsPanelTemplate>
                                                </ItemsControlEx.ItemsPanel>

                                                <ItemsControlEx.ItemTemplate>
                                                    <DataTemplate>
                                                        <Image x:Name="RatingIconImage"
                                                               Height="28"
                                                               Margin="0,0,8,0"
                                                               RenderOptions.BitmapScalingMode="Fant"
                                                               SnapsToDevicePixels="True"
                                                               Source="{ThemeFileBinding Name, PathFormat='Icons/AgeRating/Alt/{0}.png'}"/>

                                                        <DataTemplate.Triggers>
                                                            <DataTrigger Binding="{Binding ElementName=RatingIconImage, Path=Source}" Value="{x:Null}">
                                                                <Setter TargetName="RatingIconImage" Property="Visibility" Value="Collapsed"/>
                                                            </DataTrigger>
                                                        </DataTemplate.Triggers>
                                                    </DataTemplate>
                                                </ItemsControlEx.ItemTemplate>
                                            </ItemsControlEx>
                                        </StackPanel>

                                        <Rectangle Width="1" Height="26" Fill="#22FFFFFF" Margin="10,0,10,0" Visibility="{Binding ElementName=StackPanelAge, Path=Visibility}"/>

                                        <!--  FEATURES  -->
                                        <ItemsControl Margin="10,0,10,0"
                                                      ItemsSource="{Binding SelectedGame.Features}"
                                                      Focusable="False"
                                                      MaxWidth="300"
                                                      ClipToBounds="False"
                                                      FocusVisualStyle="{x:Null}"
                                                      HorizontalAlignment="Center"
                                                      VerticalAlignment="Center">
                                            <ItemsControl.Style>
                                                <Style TargetType="ItemsControl">
                                                    <Setter Property="Visibility" Value="Visible"/>
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=HasItems}" Value="False">
                                                            <Setter Property="Visibility" Value="Collapsed"/>
                                                        </DataTrigger>
                                                        <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[FeaturesSteamMain]}" Value="True">
                                                            <Setter Property="Visibility" Value="Collapsed"/>
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </ItemsControl.Style>

                                            <ItemsControl.ItemsPanel>
                                                <ItemsPanelTemplate>
                                                    <StackPanel Orientation="Horizontal"/>
                                                </ItemsPanelTemplate>
                                            </ItemsControl.ItemsPanel>

                                            <ItemsControl.ItemTemplate>
                                                <DataTemplate>
                                                    <Image Width="34" Height="34"
                                                           Margin="0,0,8,0"
                                                           Opacity="0.85"
                                                           Stretch="Uniform"
                                                           Source="{ThemeFileBinding Name, PathFormat='Icons/Features/{0}.png'}"
                                                           RenderOptions.BitmapScalingMode="Fant">
                                                        <Image.Style>
                                                            <Style TargetType="Image">
                                                                <Setter Property="Visibility" Value="Visible"/>
                                                                <Style.Triggers>
                                                                    <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Source}" Value="{x:Null}">
                                                                        <Setter Property="Visibility" Value="Collapsed"/>
                                                                    </DataTrigger>
                                                                </Style.Triggers>
                                                            </Style>
                                                        </Image.Style>
                                                    </Image>
                                                </DataTemplate>
                                            </ItemsControl.ItemTemplate>
                                        </ItemsControl>

                                    </StackPanel>

                                </Grid>
                            </Grid>

                            <!--AgeRatings-->
                            <Grid Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2" >
                                <Grid.RenderTransform>
                                    <TransformGroup>
                                        <TranslateTransform x:Name="AgeRatingsTransform" />
                                    </TransformGroup>
                                </Grid.RenderTransform>
                                <Grid.Style>
                                    <Style TargetType="Grid">
                                        <Setter Property="Opacity" Value="0"/>
                                        <Setter Property="VerticalAlignment" Value="Top"/>
                                        <Setter Property="HorizontalAlignment" Value="Right"/>
                                        <Setter Property="Visibility" Value="Collapsed"/>
                                        <Style.Triggers>
                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding ElementName=Id, Path=Opacity}" Value="1"/>
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[PerformanceMode]}" Value="False"/>
                                                </MultiDataTrigger.Conditions>
                                                <MultiDataTrigger.EnterActions>
                                                    <BeginStoryboard>
                                                        <Storyboard>
                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity" BeginTime="0:0:3" Duration="0:0:0.5" To="0.9"/>
                                                            <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[0].(TranslateTransform.X)" BeginTime="0:0:3" From="180" To="0" Duration="0:0:1.5" >
                                                                <DoubleAnimation.EasingFunction>
                                                                    <SineEase EasingMode="EaseOut" />
                                                                </DoubleAnimation.EasingFunction>
                                                            </DoubleAnimation>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </MultiDataTrigger.EnterActions>
                                                <MultiDataTrigger.ExitActions>
                                                    <BeginStoryboard>
                                                        <Storyboard>
                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity" Duration="0:0:0" To="0"/>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </MultiDataTrigger.ExitActions>
                                                <Setter Property="Visibility" Value="Visible"/>
                                            </MultiDataTrigger>
                                            <DataTrigger Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}" Value="False">
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                            </DataTrigger>

                                        </Style.Triggers>
                                    </Style>
                                </Grid.Style>
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center" Panel.ZIndex="-41" Margin="0,0,0,0" >

                                    <ItemsControlEx ItemsSource="{Binding SelectedGame.AgeRatings}"
                                                    IsTabStop="False" IsEnabled="False" Focusable="False">
                                        <ItemsControlEx.ItemTemplate>
                                            <DataTemplate>
                                                <Grid HorizontalAlignment="Right" VerticalAlignment="Top">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="auto" />
                                                    </Grid.ColumnDefinitions>
                                                    <Border x:Name="RatingIcon" Background="Transparent" CornerRadius="0" Height="80" Width="auto" Margin="0"
                                                            Visibility="Visible">
                                                        <Image x:Name="RatingIconImage"
                                                               RenderOptions.BitmapScalingMode="Fant"
                                                               SnapsToDevicePixels="True"
                                                               Source="{ThemeFileBinding Name, PathFormat='Icons/AgeRating/{0}.png.'}" />
                                                    </Border>
                                                </Grid>
                                                <DataTemplate.Triggers>
                                                    <DataTrigger Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}" Value="Visible">
                                                        <Setter Property="Visibility" Value="Collapsed"/>
                                                    </DataTrigger>
                                                    <MultiDataTrigger>
                                                        <MultiDataTrigger.Conditions>
                                                            <Condition Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}" Value="Visible"/>
                                                        </MultiDataTrigger.Conditions>
                                                        <MultiDataTrigger.Setters>
                                                            <Setter Property="Visibility" Value="Collapsed"/>
                                                            <Setter Property="Opacity" Value="0"/>
                                                        </MultiDataTrigger.Setters>
                                                        <MultiDataTrigger.EnterActions>
                                                            <BeginStoryboard>
                                                                <Storyboard>
                                                                    <DoubleAnimation Storyboard.TargetProperty="Opacity" Duration="0:0:0" To="0"/>
                                                                </Storyboard>
                                                            </BeginStoryboard>
                                                        </MultiDataTrigger.EnterActions>
                                                        <MultiDataTrigger.ExitActions>
                                                            <BeginStoryboard>
                                                                <Storyboard>
                                                                    <DoubleAnimation Storyboard.TargetProperty="Opacity" BeginTime="0:0:3" Duration="0:0:1.5" To="0.9"/>
                                                                    <ThicknessAnimation Storyboard.TargetProperty="Margin" BeginTime="0:0:3" Duration="0:0:2" From="0,0,-300,0"
                                                                                        To="0,0,0,0" AccelerationRatio="0.5" DecelerationRatio="0.5" />
                                                                </Storyboard>
                                                            </BeginStoryboard>
                                                        </MultiDataTrigger.ExitActions>
                                                    </MultiDataTrigger>

                                                    <DataTrigger Binding="{Binding ElementName=RatingIconImage, Path=Source}" Value="{x:Null}">
                                                        <Setter Property="Visibility" Value="Collapsed"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AgeRatingOnMainScreen]}" Value="False">
                                                        <Setter Property="Visibility" Value="Collapsed"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AltInfo]}" Value="True">
                                                        <Setter Property="Visibility" Value="Collapsed"/>
                                                    </DataTrigger>

                                                </DataTemplate.Triggers>
                                            </DataTemplate>
                                        </ItemsControlEx.ItemTemplate>
                                    </ItemsControlEx>
                                </StackPanel>
                            </Grid>

                            <!--Image Access BottomBar -->
                            <Grid>
                                <Grid.Style>
                                    <Style TargetType="Grid">
                                        <Setter Property="Grid.Row" Value="4"/>
                                        <Setter Property="Grid.RowSpan" Value="2"/>
                                        <Setter Property="Grid.ColumnSpan" Value="3"/>
                                        <Setter Property="VerticalAlignment" Value="Bottom"/>
                                        <Setter Property="Margin" Value="0,0,0,0"/>
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding ElementName=BottomBar, Path=IsKeyboardFocusWithin}" Value="False">
                                                <DataTrigger.EnterActions>
                                                    <BeginStoryboard>
                                                        <Storyboard>
                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity" BeginTime="0:0:0.6" Duration="0:0:0.6" From="0" To="0.5" />
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </DataTrigger.EnterActions>
                                                <DataTrigger.ExitActions>
                                                    <BeginStoryboard>
                                                        <Storyboard>
                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity" BeginTime="0:0:0" Duration="0:0:0.2" From="0.5" To="0" />
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </DataTrigger.ExitActions>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding ElementName=BottomButton, Path=Visibility}" Value="Visible">
                                                <Setter Property="Visibility" Value="Collapsed" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[PerformanceMode]}" Value="True">
                                                <Setter Property="Visibility" Value="Collapsed" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding Path=IsChecked, ElementName=ChangeViewButton}" Value="False">
                                                <Setter Property="Visibility" Value="Collapsed" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[BottomBarVisible]}" Value="False">
                                                <Setter Property="Visibility" Value="Collapsed" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}" Value="Visible">
                                                <Setter Property="Visibility" Value="Collapsed" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[ButtonControllerVisibleByDefault]}" Value="True">
                                                <Setter Property="Visibility" Value="Collapsed" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Grid.Style>
                                <Image Source="{ThemeFile 'Images/BottomBar.png'}" MaxHeight="35" MaxWidth="35" Stretch="UniformToFill"/>
                            </Grid>



                            <!-- Logo -->
                            <StackPanel x:Name="LogoContainer" RenderTransformOrigin="0.5,0.5" Orientation="Vertical" UseLayoutRounding="True" SnapsToDevicePixels="True">

                                <StackPanel.RenderTransform>
                                    <TransformGroup>
                                        <ScaleTransform x:Name="LogoScaleTransform" ScaleX="1" ScaleY="1" />
                                        <TranslateTransform x:Name="LogoTranslateTransform" />
                                    </TransformGroup>
                                </StackPanel.RenderTransform>
                                <StackPanel.Style>
                                    <Style TargetType="StackPanel">
                                        <Setter Property="Opacity" Value="1"/>
                                        <Setter Property="Visibility" Value="Visible"/>
                                        <Setter Property="Margin" Value="150,0,0,0"/>
                                        <Setter Property="HorizontalAlignment" Value="Left"/>
                                        <Setter Property="VerticalAlignment" Value="Top"/>
                                        <Setter Property="Grid.Row" Value="1"/>
                                        <Setter Property="Grid.RowSpan" Value="2"/>
                                        <Setter Property="Grid.ColumnSpan" Value="3"/>
                                        <Style.Triggers>
                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding ElementName=Id, Path=Opacity}" Value="1"/>
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[LogoAnimation]}" Value="True"/>
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[PerformanceMode]}" Value="False"/>
                                                    <Condition Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}" Value="True"/>
                                                    <Condition Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}" Value="Collapsed"/>
                                                </MultiDataTrigger.Conditions>
                                                <MultiDataTrigger.EnterActions>
                                                    <BeginStoryboard x:Name="LogoHorizontalSb" HandoffBehavior="SnapshotAndReplace">
                                                        <Storyboard FillBehavior="HoldEnd" Timeline.DesiredFrameRate="60">

                                                            <!-- état initial -->
                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity" To="0" Duration="0:0:0"/>
                                                            <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[1].(TranslateTransform.X)"
                                                                             To="-40" Duration="0:0:0"/>
                                                            <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[0].(ScaleTransform.ScaleX)"
                                                                             To="1.02" Duration="0:0:0"/>
                                                            <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[0].(ScaleTransform.ScaleY)"
                                                                             To="1.02" Duration="0:0:0"/>

                                                            <DoubleAnimation BeginTime="0:0:0.50"
                                                                             Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[1].(TranslateTransform.X)"
                                                                             To="0" Duration="0:0:0.26">
                                                                <DoubleAnimation.EasingFunction>
                                                                    <CubicEase EasingMode="EaseOut"/>
                                                                </DoubleAnimation.EasingFunction>
                                                            </DoubleAnimation>

                                                            <!-- Opacité -->
                                                            <DoubleAnimation BeginTime="0:0:0.50"
                                                                             Storyboard.TargetProperty="Opacity"
                                                                             From="0" To="1" Duration="0:0:0.32">
                                                                <DoubleAnimation.EasingFunction>
                                                                    <SineEase EasingMode="EaseOut"/>
                                                                </DoubleAnimation.EasingFunction>
                                                            </DoubleAnimation>

                                                            <!-- Mini-scale -->
                                                            <DoubleAnimation BeginTime="0:0:0.50"
                                                                             Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[0].(ScaleTransform.ScaleX)"
                                                                             From="1.05" To="1.00" Duration="0:0:0.32">
                                                                <DoubleAnimation.EasingFunction>
                                                                    <CubicEase EasingMode="EaseOut"/>
                                                                </DoubleAnimation.EasingFunction>
                                                            </DoubleAnimation>
                                                            <DoubleAnimation BeginTime="0:0:0.50"
                                                                             Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[0].(ScaleTransform.ScaleY)"
                                                                             From="1.05" To="1.00" Duration="0:0:0.32">
                                                                <DoubleAnimation.EasingFunction>
                                                                    <CubicEase EasingMode="EaseOut"/>
                                                                </DoubleAnimation.EasingFunction>
                                                            </DoubleAnimation>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </MultiDataTrigger.EnterActions>

                                                <MultiDataTrigger.ExitActions>
                                                    <BeginStoryboard HandoffBehavior="SnapshotAndReplace">
                                                        <Storyboard FillBehavior="Stop" Timeline.DesiredFrameRate="60">

                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                                             To="0" Duration="0:0:0">
                                                                <DoubleAnimation.EasingFunction>
                                                                    <SineEase EasingMode="EaseOut"/>
                                                                </DoubleAnimation.EasingFunction>
                                                            </DoubleAnimation>

                                                            <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[1].(TranslateTransform.X)"
                                                                             To="-10" Duration="0:0:0.12">
                                                                <DoubleAnimation.EasingFunction>
                                                                    <SineEase EasingMode="EaseOut"/>
                                                                </DoubleAnimation.EasingFunction>
                                                            </DoubleAnimation>

                                                            <DoubleAnimation BeginTime="0:0:0.12"
                                                                             Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[1].(TranslateTransform.X)"
                                                                             To="-40" Duration="0:0:0"/>
                                                            <DoubleAnimation BeginTime="0:0:0.12"
                                                                             Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[0].(ScaleTransform.ScaleX)"
                                                                             To="1.02" Duration="0:0:0"/>
                                                            <DoubleAnimation BeginTime="0:0:0.12"
                                                                             Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[0].(ScaleTransform.ScaleY)"
                                                                             To="1.02" Duration="0:0:0"/>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </MultiDataTrigger.ExitActions>
                                            </MultiDataTrigger>



                                            <DataTrigger Binding="{Binding Items.Count, ElementName=PART_ListGameItems}" Value="0">
                                                <Setter Property="Visibility" Value="Collapsed" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}" Value="Visible">
                                                <Setter Property="Visibility" Value="Collapsed" />
                                            </DataTrigger>

                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}" Value="False"/>
                                                </MultiDataTrigger.Conditions>
                                                <!-- état vertical -->
                                                <Setter Property="HorizontalAlignment" Value="Center"/>
                                                <Setter Property="VerticalAlignment" Value="Top"/>
                                                <Setter Property="Margin" Value="0,-50,0,0"/>
                                            </MultiDataTrigger>

                                        </Style.Triggers>
                                    </Style>
                                </StackPanel.Style>

                                <Grid>
                                    <Grid.Style>
                                        <Style TargetType="Grid">
                                            <Setter Property="Height" Value="500"/>
                                            <Style.Triggers>
                                                <MultiDataTrigger>
                                                    <MultiDataTrigger.Conditions>
                                                        <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[ButtonControllerVisibleByDefault]}" Value="False"/>
                                                        <Condition Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}" Value="True"/>
                                                        <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[SteamBanner]}" Value="False"/>
                                                    </MultiDataTrigger.Conditions>
                                                    <Setter Property="Height" Value="650"/>
                                                </MultiDataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Grid.Style>

                                    <Grid>
                                        <Grid.Style>
                                            <Style TargetType="Grid">
                                                <Setter Property="VerticalAlignment" Value="Center"/>
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}" Value="False">
                                                        <Setter Property="HorizontalAlignment" Value="Center"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[MainDesc]}" Value="False">
                                                        <Setter Property="VerticalAlignment" Value="Center"/>
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </Grid.Style>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <!-- zone logo fixe -->
                                            <RowDefinition Height="Auto"/>
                                            <!-- description -->
                                        </Grid.RowDefinitions>

                                        <Grid>
                                            <Grid.Style>
                                                <Style TargetType="Grid">
                                                    <Setter Property="Grid.Row" Value="0"/>
                                                    <Setter Property="Grid.RowSpan" Value="1"/>
                                                    <Setter Property="HorizontalAlignment" Value="Left"/>
                                                    <Setter Property="VerticalAlignment" Value="Center"/>
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}" Value="False">
                                                            <Setter Property="HorizontalAlignment" Value="Center"/>
                                                        </DataTrigger>

                                                    </Style.Triggers>
                                                </Style>
                                            </Grid.Style>

                                            <ContentControl x:Name="ExtraMetadataLoader_LogoLoaderControl"             CacheMode="BitmapCache">
                                                <ContentControl.Style>
                                                    <Style TargetType="ContentControl">
                                                        <Setter Property="MaxWidth" Value="600"/>
                                                        <Setter Property="MaxHeight" Value="280"/>
                                                        <Setter Property="HorizontalAlignment" Value="Center"/>
                                                        <Setter Property="VerticalAlignment" Value="Center"/>
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{Binding ElementName=LogoTrigger, Path=Opacity}" Value="1">
                                                                <Setter Property="Visibility" Value="Visible"/>
                                                            </DataTrigger>
                                                            <DataTrigger Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}" Value="False">
                                                                <Setter Property="HorizontalAlignment" Value="Center"/>
                                                                <Setter Property="MaxHeight" Value="180"/>
                                                                <Setter Property="MaxWidth" Value="1000"/>
                                                            </DataTrigger>
                                                            <DataTrigger Binding="{PluginSettings Plugin=ExtraMetadataLoader, Path=IsLogoAvailable}" Value="False">
                                                                <Setter Property="Visibility" Value="Collapsed" />
                                                            </DataTrigger>
                                                            <DataTrigger Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}" Value="Visible">
                                                                <Setter Property="Visibility" Value="Collapsed" />
                                                            </DataTrigger>
                                                            <MultiDataTrigger>
                                                                <MultiDataTrigger.Conditions>
                                                                    <Condition Binding="{Binding RelativeSource={RelativeSource Self}, Path=Opacity}" Value="1"/>
                                                                </MultiDataTrigger.Conditions>
                                                            </MultiDataTrigger>
                                                            <MultiDataTrigger>
                                                                <MultiDataTrigger.Conditions>
                                                                    <Condition Binding="{Binding ElementName=Id, Path=Opacity}" Value="1"/>
                                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[LogoAnimation]}" Value="False"/>
                                                                </MultiDataTrigger.Conditions>
                                                                <MultiDataTrigger.Setters>
                                                                    <Setter Property="Opacity" Value="1" />
                                                                </MultiDataTrigger.Setters>

                                                            </MultiDataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </ContentControl.Style>
                                            </ContentControl>

                                            <TextBlock x:Name="GameTitle" Text="{Binding SelectedGame.DisplayName, NotifyOnTargetUpdated=True}" FontFamily="Lato"
                                                       Foreground="White" FontSize="50" VerticalAlignment="Center" HorizontalAlignment="Center" TextWrapping="Wrap" MaxHeight="150" Margin="0,60,0,0"
                                                       TextTrimming="CharacterEllipsis" FontWeight="SemiBold">
                                                <TextBlock.Style>
                                                    <Style>
                                                        <Setter Property="ItemsControl.Visibility" Value="Collapsed" />
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{PluginSettings Plugin=ExtraMetadataLoader, Path=IsLogoAvailable, FallbackValue=False}" Value="false">
                                                                <Setter Property="ItemsControl.Visibility" Value="Visible" />
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </TextBlock.Style>
                                            </TextBlock>

                                        </Grid>

                                        <StackPanel Focusable="False" FocusVisualStyle="{x:Null}">
                                            <StackPanel.Style>
                                                <Style TargetType="StackPanel">
                                                    <Setter Property="Grid.Row" Value="1"/>
                                                    <Setter Property="Margin" Value="0,10,0,0"/>
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                    <Style.Triggers>
                                                        <MultiDataTrigger>
                                                            <MultiDataTrigger.Conditions>
                                                                <Condition Binding="{Binding ElementName=Id, Path=Opacity}" Value="1"/>
                                                                <Condition Binding="{Binding ElementName=LogoContainer, Path=Opacity}" Value="1"/>
                                                                <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[MainDesc]}" Value="True"/>
                                                            </MultiDataTrigger.Conditions>
                                                            <MultiDataTrigger.EnterActions>
                                                                <BeginStoryboard>
                                                                    <Storyboard>
                                                                        <DoubleAnimation Storyboard.TargetProperty="Opacity" BeginTime="0:0:0" Duration="0:0:0.5"
                                                                                         From="0" To="1"/>
                                                                    </Storyboard>
                                                                </BeginStoryboard>
                                                            </MultiDataTrigger.EnterActions>
                                                            <MultiDataTrigger.ExitActions>
                                                                <BeginStoryboard>
                                                                    <Storyboard>
                                                                        <DoubleAnimation Storyboard.TargetProperty="Opacity" Duration="0:0:0" From="1" To="0"/>
                                                                    </Storyboard>
                                                                </BeginStoryboard>
                                                            </MultiDataTrigger.ExitActions>
                                                        </MultiDataTrigger>

                                                        <DataTrigger Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}" Value="False">
                                                            <Setter Property="Visibility" Value="Collapsed" />
                                                        </DataTrigger>
                                                        <DataTrigger Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}" Value="Visible">
                                                            <Setter Property="Visibility" Value="Collapsed" />
                                                        </DataTrigger>

                                                        <MultiDataTrigger>
                                                            <MultiDataTrigger.Conditions>
                                                                <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[MainDesc]}" Value="True"/>
                                                                <Condition Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}" Value="True"/>
                                                                <Condition Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}" Value="Collapsed"/>
                                                            </MultiDataTrigger.Conditions>
                                                            <Setter Property="Visibility" Value="Visible"/>
                                                        </MultiDataTrigger>


                                                    </Style.Triggers>
                                                </Style>
                                            </StackPanel.Style>

                                            <Grid MaxHeight="200" Width="600"
                                                  HorizontalAlignment="Left"
                                                  KeyboardNavigation.IsTabStop="False"
                                                  KeyboardNavigation.TabNavigation="None"
                                                  KeyboardNavigation.ControlTabNavigation="None"
                                                  KeyboardNavigation.DirectionalNavigation="None"
                                                  Focusable="False" FocusVisualStyle="{x:Null}">
                                                <Grid.OpacityMask>
                                                    <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                                        <GradientStop Color="#FFFFFFFF" Offset="0"/>
                                                        <GradientStop Color="#FFFFFFFF" Offset="0.75"/>
                                                        <GradientStop Color="#00FFFFFF" Offset="1"/>
                                                    </LinearGradientBrush>
                                                </Grid.OpacityMask>
                                                <HtmlTextView HtmlText="{Binding SelectedGame.Description}" MaxHeight="200"
                                                              Focusable="False" IsTabStop="False" IsHitTestVisible="False"
                                                              HtmlFontSize="18" HtmlFontFamily="Bahnschrift SemiBold, Bahnschrift, Segoe UI Variable Display Semibold, Segoe UI Semibold, Segoe UI"
                                                              HtmlForeground="{DynamicResource TextColorDark}"
                                                              LinkForeground="{DynamicResource GlyphColor}"
                                                              FocusVisualStyle="{x:Null}"/>
                                            </Grid>
                                        </StackPanel>

                                    </Grid>
                                </Grid>
                            </StackPanel>

                            <!--NoGamesFound-->
                            <Grid Grid.RowSpan="5" Grid.ColumnSpan="4" Margin="0,0,0,80">
                                <Grid.Style>
                                    <Style TargetType="Grid">
                                        <Setter Property="Visibility" Value="Collapsed" />
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding Items.Count, ElementName=PART_ListGameItems}" Value="0">
                                                <Setter Property="Visibility" Value="Visible" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Grid.Style>
                                <Grid Background="{DynamicResource OverlayMenu}">
                                    <TextBlock FontSize="40"
                                               Text="{DynamicResource LOCNoGamesFound}"
                                               TextAlignment="Center" HorizontalAlignment="Center" VerticalAlignment="Center">
                                        <TextBlock.Style>
                                            <Style TargetType="TextBlock" BasedOn="{StaticResource TextBlockBaseStyle}">
                                                <Setter Property="Visibility" Value="Collapsed" />
                                                <Setter Property="Opacity" Value="0" />
                                                <Setter Property="Margin" Value="0,0,0,0" />
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding ElementName=PART_ViewHost, Path=Opacity}" Value="1">
                                                        <DataTrigger.EnterActions>
                                                            <BeginStoryboard>
                                                                <Storyboard>
                                                                    <DoubleAnimation Storyboard.TargetProperty="Opacity" BeginTime="0:0:0.5"
                                                                                     Duration="0:0:0.5" From="0" To="1"/>
                                                                </Storyboard>
                                                            </BeginStoryboard>
                                                        </DataTrigger.EnterActions>
                                                        <DataTrigger.ExitActions>
                                                            <BeginStoryboard>
                                                                <Storyboard>
                                                                    <DoubleAnimation Storyboard.TargetProperty="Opacity" Duration="0:0:0"
                                                                                     From="0" To="0"/>
                                                                </Storyboard>
                                                            </BeginStoryboard>
                                                        </DataTrigger.ExitActions>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{Binding Items.Count, ElementName=PART_ListGameItems}" Value="0">
                                                        <Setter Property="Visibility" Value="Visible" />
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </TextBlock.Style>
                                    </TextBlock>
                                </Grid>
                            </Grid>

                            <!-- Filtre Bottom Bar-->
                            <Grid x:Name="BottomBar" CacheMode="BitmapCache" Focusable="False">
                                <Grid.RenderTransform>
                                    <TranslateTransform x:Name="BottomBarTransform" Y="0"/>
                                </Grid.RenderTransform>
                                <Grid.Style>
                                    <Style TargetType="Grid" >
                                        <Setter Property="Visibility" Value="Visible"/>
                                        <Setter Property="Opacity" Value="0.9"/>
                                        <Setter Property="HorizontalAlignment" Value="Stretch"/>
                                        <Setter Property="Grid.Row" Value="4"/>
                                        <Setter Property="Grid.ColumnSpan" Value="3"/>
                                        <Setter Property="Background" Value="Transparent"/>
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}" Value="Visible">
                                                <Setter Property="Focusable" Value="False"/>
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                            </DataTrigger>

                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding RelativeSource={RelativeSource Self}, Path=IsKeyboardFocusWithin}" Value="False"/>
                                                    <Condition Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}" Value="True"/>
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[BottomBarVisible]}" Value="True"/>
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[PerformanceMode]}" Value="False"/>
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[SteamBanner]}" Value="False"/>
                                                </MultiDataTrigger.Conditions>
                                                <MultiDataTrigger.EnterActions>
                                                    <BeginStoryboard>
                                                        <Storyboard>
                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity" BeginTime="0:0:0.40" Duration="0:0:0.10" From="0.9" To="0" />
                                                            <DoubleAnimation Storyboard.TargetProperty="(RenderTransform).(TranslateTransform.Y)" From="0" To="90" Duration="0:0:0.8">
                                                                <DoubleAnimation.EasingFunction>
                                                                    <QuinticEase EasingMode="EaseInOut"/>
                                                                </DoubleAnimation.EasingFunction>
                                                            </DoubleAnimation>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </MultiDataTrigger.EnterActions>
                                                <MultiDataTrigger.ExitActions>
                                                    <BeginStoryboard>
                                                        <Storyboard>
                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity" Duration="0:0:0" From="0" To="0.9" />
                                                            <DoubleAnimation Storyboard.TargetProperty="(RenderTransform).(TranslateTransform.Y)" From="90" To="0" Duration="0:0:0.7">
                                                                <DoubleAnimation.EasingFunction>
                                                                    <QuinticEase EasingMode="EaseInOut"/>
                                                                </DoubleAnimation.EasingFunction>
                                                            </DoubleAnimation>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </MultiDataTrigger.ExitActions>
                                            </MultiDataTrigger>

                                        </Style.Triggers>
                                    </Style>
                                </Grid.Style>
                                <Grid x:Name="BottomGlass" HorizontalAlignment="Stretch" VerticalAlignment="Bottom" Height="80">

                                    <!-- Fond verre -->
                                    <Border CornerRadius="0"
                                            Background="{DynamicResource OverlayMenu}"
                                            Opacity="0.9"
                                            HorizontalAlignment="Stretch" VerticalAlignment="Stretch"/>

                                    <!-- Reflet vertical discret -->
                                    <Border CornerRadius="0" IsHitTestVisible="False" Background="{DynamicResource GlassMainBrush}" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" />

                                    <!-- Liseré interne -->
                                    <Border CornerRadius="0"
                                            Margin="1"
                                            BorderThickness="0,1,0,0"
                                            BorderBrush="{DynamicResource GlassInnerLineBrush}"
                                            IsHitTestVisible="False"
                                            HorizontalAlignment="Stretch" VerticalAlignment="Stretch"/>

                                    <!-- Hairline supérieure -->
                                    <Border HorizontalAlignment="Stretch" VerticalAlignment="Top" Height="1.5"
                                            Background="{DynamicResource MenuBorderBrush}" Opacity="0.8"
                                            CornerRadius="0"/>

                                    <Grid HorizontalAlignment="Center" VerticalAlignment="Center">
                                        <FilterPresetSelector x:Name="ItemsFilterPresets" Margin="0,0,0,0" HorizontalAlignment="Center" FocusVisualStyle="{x:Null}" />
                                    </Grid>
                                </Grid>
                            </Grid>

                            <!-- Power ControlCenter -->
                            <Grid x:Name="Power" Panel.ZIndex="2" Focusable="True" KeyboardNavigation.TabNavigation="Cycle" KeyboardNavigation.ControlTabNavigation="Cycle" KeyboardNavigation.DirectionalNavigation="Cycle">
                                <Grid.InputBindings>
                                    <pin:GameControllerInputBinding Button="B" Command="{Binding Content.ChangeProperty, ElementName=ThemeOptions_Command}"	CommandParameter="[Setter ElementName=ButtonPower, Property=IsChecked, Value=True]" />
                                    <KeyBinding Key="Esc" Command="{Binding Content.ChangeProperty, ElementName=ThemeOptions_Command}"	CommandParameter="[Setter ElementName=ButtonPower, Property=IsChecked, Value=True]" />
                                </Grid.InputBindings>
                                <Grid.Style>
                                    <Style TargetType="Grid">
                                        <Setter Property="Opacity" Value="1"/>
                                        <Setter Property="VerticalAlignment" Value="Center"/>
                                        <Setter Property="HorizontalAlignment" Value="Center"/>
                                        <Setter Property="Grid.Row" Value="0"/>
                                        <Setter Property="Grid.RowSpan" Value="5"/>
                                        <Setter Property="Width" Value="550"/>
                                        <Setter Property="Visibility" Value="Collapsed"/>
                                        <Setter Property="Grid.ColumnSpan" Value="3"/>
                                        <Setter Property="Margin" Value="0,0,0,0"/>
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding ElementName=ButtonPower, Path=IsChecked}" Value="False">
                                                <Setter Property="Visibility" Value="Visible"/>
                                            </DataTrigger>

                                        </Style.Triggers>
                                    </Style>
                                </Grid.Style>
                                <Grid>
                                    <!-- Fond verre fumé -->
                                    <Border Background="{DynamicResource OverlayMenu}"
                                            CornerRadius="14"
                                            Opacity="0.9"/>

                                    <!-- Reflet vertical discret -->
                                    <Border CornerRadius="14" Background="{DynamicResource GlassMainBrush}" IsHitTestVisible="False" />

                                    <!-- Liseré interne fin -->
                                    <Border CornerRadius="14"
                                            BorderBrush="{DynamicResource GlassInnerLineBrush}"
                                            Margin="1"
                                            BorderThickness="1"
                                            IsHitTestVisible="False"/>
                                    <Grid>

                                        <TextBlock Style="{DynamicResource TextBlockBoldBaseStyle}" Foreground="{DynamicResource TextHighlightBrush}" Margin="0,20,0,20" HorizontalAlignment="Center" VerticalAlignment="Top" FontSize="30" Opacity="0.9" Text="{DynamicResource LOCPowerControlCenter}"/>

                                        <StackPanel Margin="20,90,20,50" Orientation="Vertical">

                                            <ButtonEx x:Name="ExitCommand" HorizontalAlignment="Center" Width="500" Height="50" HorizontalContentAlignment="Left"
                                                      pbeh:FocusBahaviors.OnVisibilityFocus="True"
                                                      Margin="5,20,5,20"
                                                      Command="{Binding Content.MainMenu.ExitCommand, ElementName=ThemeOptions_Command}"
                                                      Content="{DynamicResource LOCExitPlaynite}"
                                                      Style="{DynamicResource ButtonExit}" />

                                            <ButtonEx x:Name="MinimizeCommand" HorizontalAlignment="Center" Width="500" Height="50" HorizontalContentAlignment="Left"
                                                      Margin="5,20,5,20"
                                                      Command="{Binding Content.MainMenu.MinimizeCommand, ElementName=ThemeOptions_Command}"
                                                      Content="{DynamicResource LOCMinimize}">
                                                <ButtonEx.Style>
                                                    <Style TargetType="ButtonEx" BasedOn="{StaticResource ButtonMinimize}">
                                                        <Setter Property="Visibility" Value="Visible"/>
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[ShowMinimizeButton]}" Value="False">
                                                                <Setter Property="Visibility" Value="Collapsed"/>
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </ButtonEx.Style>
                                            </ButtonEx>

                                            <ButtonEx x:Name="DesktopCommand" HorizontalAlignment="Center" Width="500" Height="50" HorizontalContentAlignment="Left"
                                                      Margin="5,20,5,20"
                                                      Command="{Binding SwitchToDesktopCommand}"
                                                      Content="{DynamicResource LOCBackToDesktopMode}">
                                                <ButtonEx.Style>
                                                    <Style TargetType="ButtonEx" BasedOn="{StaticResource ButtonDesktop}">
                                                        <Setter Property="Visibility" Value="Visible"/>
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[ShowDesktopButton]}" Value="False">
                                                                <Setter Property="Visibility" Value="Collapsed"/>
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </ButtonEx.Style>
                                            </ButtonEx>

                                            <ButtonEx x:Name="RestartCommand" HorizontalAlignment="Center" Width="500" Height="50" HorizontalContentAlignment="Left"
                                                      Margin="5,20,5,20"
                                                      Command="{Binding Content.MainMenu.RestartSystemCommand, ElementName=ThemeOptions_Command}"
                                                      Content="{DynamicResource LOCMenuRestartSystem}">
                                                <ButtonEx.Style>
                                                    <Style TargetType="ButtonEx" BasedOn="{StaticResource ButtonRestart}">
                                                        <Setter Property="Visibility" Value="Visible"/>
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[ShowRestartButton]}" Value="False">
                                                                <Setter Property="Visibility" Value="Collapsed"/>
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </ButtonEx.Style>
                                            </ButtonEx>

                                            <ButtonEx x:Name="ShutdownCommand" HorizontalAlignment="Center" Width="500" Height="50" HorizontalContentAlignment="Left"
                                                      Margin="5,20,5,20"
                                                      Command="{Binding Content.MainMenu.ShutdownSystemCommand, ElementName=ThemeOptions_Command}"
                                                      Content="{DynamicResource LOCMenuShutdownSystem}">
                                                <ButtonEx.Style>
                                                    <Style TargetType="ButtonEx" BasedOn="{StaticResource ButtonShutdow}">
                                                        <Setter Property="Visibility" Value="Visible"/>
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[ShowShutdownButton]}" Value="False">
                                                                <Setter Property="Visibility" Value="Collapsed"/>
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </ButtonEx.Style>
                                            </ButtonEx>

                                            <ButtonEx x:Name="SleepCommand" HorizontalAlignment="Center" Height="50" Width="500" HorizontalContentAlignment="Left"
                                                      Margin="5,20,5,20"
                                                      Command="{Binding Content.MainMenu.SleepSystemCommand, ElementName=ThemeOptions_Command}"
                                                      Content="{DynamicResource LOCMenuSuspendSystem}">
                                                <ButtonEx.Style>
                                                    <Style TargetType="ButtonEx" BasedOn="{StaticResource ButtonSleep}">
                                                        <Setter Property="Visibility" Value="Visible"/>
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[ShowSleepButton]}" Value="False">
                                                                <Setter Property="Visibility" Value="Collapsed"/>
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </ButtonEx.Style>
                                            </ButtonEx>

                                            <ButtonEx x:Name="HibernateCommand" HorizontalAlignment="Left" Height="50" Width="500" HorizontalContentAlignment="Left"
                                                      Margin="5,20,5,20"
                                                      Command="{Binding Content.MainMenu.HibernateSystemCommand, ElementName=ThemeOptions_Command}"
                                                      Content="{DynamicResource LOCMenuHibernateSystem}">
                                                <ButtonEx.Style>
                                                    <Style TargetType="ButtonEx" BasedOn="{StaticResource ButtonHibernate}">
                                                        <Setter Property="Visibility" Value="Visible"/>
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[ShowHibernateButton]}" Value="False">
                                                                <Setter Property="Visibility" Value="Collapsed"/>
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </ButtonEx.Style>
                                            </ButtonEx>
                                        </StackPanel>
                                        <ButtonEx x:Name="BackButton" Margin="0,-10,10,10" VerticalAlignment="Bottom" HorizontalAlignment="Right" Style="{StaticResource IconBButton}" Content="{DynamicResource LOCBackLabel}" />
                                    </Grid>


                                </Grid>

                            </Grid>


                            <!--  ProgressIndicator -->
                            <Border Background="{DynamicResource OverlayMenu}" CornerRadius="{DynamicResource Corner}"
                                    Height="70" VerticalAlignment="Top" HorizontalAlignment="Right" Panel.ZIndex="1" >
                                <Border.Style>
                                    <Style TargetType="Border">
                                        <Setter Property="CornerRadius" Value="{DynamicResource Corner}" />
                                        <Setter Property="Margin" Value="0,0,20,0"/>
                                        <Setter Property="Grid.Row" Value="1"/>
                                        <Setter Property="Grid.ColumnSpan" Value="3"/>
                                        <Style.Triggers>
                                        </Style.Triggers>
                                    </Style>
                                </Border.Style>
                            </Border>

                            <!-- SESSION SUMMARY -->
                            <Border x:Name="SessionSummaryPanel"
                                    Background="{DynamicResource OverlayMenu}"
                                    CornerRadius="{DynamicResource Corner}"
                                    BorderBrush="{DynamicResource MenuBorderBrush}"
                                    BorderThickness="2"
                                    MinHeight="70"
                                    VerticalAlignment="Top"
                                    HorizontalAlignment="Right"
                                    Panel.ZIndex="1"
                                    RenderTransformOrigin="1,0.5">
                                <Border.Effect>
                                    <DropShadowEffect ShadowDepth="2" Color="Black" Opacity="0.5"/>
                                </Border.Effect>

                                <Border.Style>
                                    <Style TargetType="Border">
                                        <Setter Property="Grid.Row" Value="1"/>
                                        <Setter Property="Grid.RowSpan" Value="1"/>
                                        <Setter Property="Grid.ColumnSpan" Value="3"/>
                                        <Setter Property="Panel.ZIndex" Value="1"/>
                                        <Setter Property="Margin" Value="0,30,20,0"/>
                                        <Setter Property="Opacity" Value="0"/>
                                        <Setter Property="Padding" Value="10"/>
                                        <Setter Property="Visibility" Value="Collapsed"/>
                                        <Setter Property="RenderTransform">
                                            <Setter.Value>
                                                <TranslateTransform X="600" Y="0"/>
                                            </Setter.Value>
                                        </Setter>

                                        <Style.Triggers>
                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{PluginSettings Plugin=AnikiHelper, Path=SessionNotificationArmed}" Value="True"/>
                                                    <Condition Binding="{PluginSettings Plugin=AnikiHelper, Path=SessionNotificationFlip}"  Value="True"/>
                                                    <Condition Binding="{Binding ElementName=GlobalToastPanel, Path=Opacity}" Value="0"/>
                                                </MultiDataTrigger.Conditions>

                                                <MultiDataTrigger.EnterActions>
                                                    <BeginStoryboard x:Name="BeginSessionSummaryTrue">
                                                        <Storyboard>
                                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Visibility">
                                                                <DiscreteObjectKeyFrame KeyTime="0:0:0" Value="{x:Static Visibility.Visible}"/>
                                                            </ObjectAnimationUsingKeyFrames>

                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity" From="0" To="1" Duration="0:0:0.15"/>
                                                            <DoubleAnimation Storyboard.TargetProperty="(RenderTransform).(TranslateTransform.X)"
                                                                             From="600" To="0" Duration="0:0:0.30"
                                                                             AccelerationRatio="0.3" DecelerationRatio="0.7"/>

                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                                             BeginTime="0:0:8.2" To="0" Duration="0:0:0.20"/>
                                                            <DoubleAnimation Storyboard.TargetProperty="(RenderTransform).(TranslateTransform.X)"
                                                                             BeginTime="0:0:8.0" To="600" Duration="0:0:0.30"
                                                                             AccelerationRatio="0.3" DecelerationRatio="0.7"/>

                                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Visibility" BeginTime="0:0:8.5">
                                                                <DiscreteObjectKeyFrame Value="{x:Static Visibility.Collapsed}"/>
                                                            </ObjectAnimationUsingKeyFrames>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </MultiDataTrigger.EnterActions>

                                                <MultiDataTrigger.ExitActions>
                                                    <StopStoryboard BeginStoryboardName="BeginSessionSummaryTrue"/>
                                                </MultiDataTrigger.ExitActions>
                                            </MultiDataTrigger>

                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{PluginSettings Plugin=AnikiHelper, Path=SessionNotificationArmed}" Value="True"/>
                                                    <Condition Binding="{PluginSettings Plugin=AnikiHelper, Path=SessionNotificationFlip}"  Value="False"/>
                                                    <Condition Binding="{Binding ElementName=GlobalToastPanel, Path=Opacity}" Value="0"/>
                                                </MultiDataTrigger.Conditions>

                                                <MultiDataTrigger.EnterActions>
                                                    <BeginStoryboard x:Name="BeginSessionSummaryFalse">
                                                        <Storyboard>
                                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Visibility">
                                                                <DiscreteObjectKeyFrame KeyTime="0:0:0" Value="{x:Static Visibility.Visible}"/>
                                                            </ObjectAnimationUsingKeyFrames>

                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity" From="0" To="1" Duration="0:0:0.15"/>
                                                            <DoubleAnimation Storyboard.TargetProperty="(RenderTransform).(TranslateTransform.X)"
                                                                             From="600" To="0" Duration="0:0:0.30"
                                                                             AccelerationRatio="0.3" DecelerationRatio="0.7"/>

                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                                             BeginTime="0:0:8.2" To="0" Duration="0:0:0.20"/>
                                                            <DoubleAnimation Storyboard.TargetProperty="(RenderTransform).(TranslateTransform.X)"
                                                                             BeginTime="0:0:8.0" To="600" Duration="0:0:0.30"
                                                                             AccelerationRatio="0.3" DecelerationRatio="0.7"/>

                                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Visibility" BeginTime="0:0:8.5">
                                                                <DiscreteObjectKeyFrame Value="{x:Static Visibility.Collapsed}"/>
                                                            </ObjectAnimationUsingKeyFrames>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </MultiDataTrigger.EnterActions>

                                                <MultiDataTrigger.ExitActions>
                                                    <StopStoryboard BeginStoryboardName="BeginSessionSummaryFalse"/>
                                                </MultiDataTrigger.ExitActions>
                                            </MultiDataTrigger>

                                            <DataTrigger Binding="{Binding ElementName=GlobalToastPanel, Path=Opacity}" Value="1">
                                                <Setter Property="Opacity" Value="0"/>
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                            </DataTrigger>


                                        </Style.Triggers>
                                    </Style>
                                </Border.Style>



                                <!-- Contenu -->
                                <StackPanel Margin="14,10">
                                    <TextBlock FontSize="18" Style="{DynamicResource TextBlockBaseStyle}" Text="{DynamicResource LOCSessionEnded}"/>
                                    <TextBlock FontSize="20" FontWeight="Bold" Style="{DynamicResource TextBlockBaseStyle}" Opacity="0.90"
                                               Text="{PluginSettings Plugin=AnikiHelper, Path=SessionGameName}" Margin="0,2,0,6"/>

                                    <!-- Durée -->
                                    <StackPanel Orientation="Horizontal" Margin="0,0,0,2">
                                        <TextBlock Text="🎮" FontSize="18" FontFamily="Segoe UI Symbol" Foreground="{DynamicResource TextBrush}" Margin="0,0,6,0" VerticalAlignment="Center"/>
                                        <TextBlock FontSize="18" Style="{DynamicResource TextBlockBaseStyle}" Margin="0,0,6,0"
                                                   Text="{PluginSettings Plugin=AnikiHelper, Path=SessionDurationString}"/>
                                        <TextBlock FontSize="18" Style="{DynamicResource TextBlockBaseStyle}" Text="{DynamicResource LOCPlayed}"/>
                                    </StackPanel>


                                    <!-- Total -->
                                    <StackPanel Orientation="Horizontal">
                                        <TextBlock Text="⏱" FontFamily="Segoe UI Symbol" FontSize="18" Foreground="White" Margin="0,0,6,0" VerticalAlignment="Center"/>
                                        <TextBlock FontSize="18" Style="{DynamicResource TextBlockBaseStyle}" Margin="0,0,6,0" Text="{DynamicResource LOCStatsTotalPlayTime}"/>
                                        <TextBlock FontSize="18" Style="{DynamicResource TextBlockBaseStyle}"
                                                   Text="{PluginSettings Plugin=AnikiHelper, Path=SessionTotalPlaytimeString}"/>
                                    </StackPanel>
                                </StackPanel>

                            </Border>

                            <!--  Notification Game Closing -->
                            <Border x:Name="GameClosingPanel"
                                    Background="{DynamicResource OverlayMenu}"
                                    CornerRadius="{DynamicResource Corner}"
                                    Height="70"
                                    BorderBrush="{DynamicResource MenuBorderBrush}"
                                    BorderThickness="2"
                                    VerticalAlignment="Top"
                                    HorizontalAlignment="Right"
                                    Panel.ZIndex="1"
                                    RenderTransformOrigin="1,0.5">
                                <Border.Effect>
                                    <DropShadowEffect  ShadowDepth="2" Color="Black" Opacity="0.5"/>
                                </Border.Effect>
                                <Border.RenderTransform>
                                    <TranslateTransform x:Name="SlideTransform" X="500"/>
                                </Border.RenderTransform>

                                <Border.Style>
                                    <Style TargetType="Border">
                                        <Setter Property="Visibility" Value="Collapsed"/>
                                        <Setter Property="Margin" Value="0,30,20,0"/>
                                        <Setter Property="Grid.Row" Value="1"/>
                                        <Setter Property="Grid.ColumnSpan" Value="3"/>
                                        <Style.Triggers>

                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{PluginSettings Plugin=NowPlaying, Path=GameClosing}" Value="True"/>
                                                    <Condition Binding="{Binding ElementName=GlobalToastPanel, Path=Opacity}" Value="0"/>
                                                </MultiDataTrigger.Conditions>
                                                <MultiDataTrigger.Setters>
                                                    <Setter Property="Visibility" Value="Visible"/>
                                                    <Setter Property="Opacity" Value="1"/>
                                                </MultiDataTrigger.Setters>
                                                <MultiDataTrigger.EnterActions>
                                                    <BeginStoryboard>
                                                        <Storyboard>
                                                            <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)"
                                                                             From="500" To="0" Duration="0:0:0.3"
                                                                             AccelerationRatio="0.3" DecelerationRatio="0.7"/>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </MultiDataTrigger.EnterActions>
                                            </MultiDataTrigger>


                                            <DataTrigger Binding="{Binding ElementName=GlobalToastPanel, Path=Opacity}" Value="1">
                                                <Setter Property="Opacity" Value="0"/>
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                            </DataTrigger>


                                        </Style.Triggers>
                                    </Style>
                                </Border.Style>

                                <StackPanel Orientation="Horizontal"
                                            Margin="12,0,12,0"
                                            VerticalAlignment="Center">
                                    <TextBlock Margin="0,0,10,0" VerticalAlignment="Center" FontSize="20" Style="{DynamicResource TextBlockBaseStyle}" Text="Closing " />
                                    <TextBlock FontSize="20"
                                               Style="{DynamicResource TextBlockBaseStyle}"
                                               MaxWidth="250"
                                               TextTrimming="None"
                                               TextWrapping="NoWrap"
                                               ClipToBounds="True"
                                               Text="{PluginSettings Plugin=NowPlaying, Path=RunningGame.GameName}" />
                                    <TextBlock FontSize="20" Margin="5,0,0,0" Width="30" TextAlignment="Left" Style="{DynamicResource TextBlockBaseStyle}">
                                        <TextBlock.Triggers>
                                            <EventTrigger RoutedEvent="Loaded">
                                                <BeginStoryboard>
                                                    <Storyboard RepeatBehavior="Forever">
                                                        <StringAnimationUsingKeyFrames Storyboard.TargetProperty="Text" Duration="0:0:1.2" RepeatBehavior="Forever">
                                                            <DiscreteStringKeyFrame KeyTime="0:0:0.0" Value="." />
                                                            <DiscreteStringKeyFrame KeyTime="0:0:0.4" Value=".." />
                                                            <DiscreteStringKeyFrame KeyTime="0:0:0.8" Value="..." />
                                                        </StringAnimationUsingKeyFrames>
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </EventTrigger>
                                        </TextBlock.Triggers>
                                    </TextBlock>
                                </StackPanel>
                            </Border>

                            <!-- SSFHelper MESSAGE -->
                            <Border x:Name="SSFHelperMessagePanel"
                                    Background="{DynamicResource OverlayMenu}"
                                    CornerRadius="{DynamicResource Corner}"
                                    Height="80"
                                    BorderBrush="{DynamicResource MenuBorderBrush}"
                                    BorderThickness="2"
                                    VerticalAlignment="Top"
                                    HorizontalAlignment="Right"
                                    Panel.ZIndex="1"
                                    RenderTransformOrigin="1,0.5"
                                    Tag="{PluginSettings Plugin=SuccessStory, Path=HasData, FallbackValue=False}">
                                <Border.Effect>
                                    <DropShadowEffect  ShadowDepth="2" Color="Black" Opacity="0.5"/>
                                </Border.Effect>
                                <Border.RenderTransform>
                                    <TranslateTransform X="500"/>
                                </Border.RenderTransform>

                                <Border.Style>
                                    <Style TargetType="Border">
                                        <Setter Property="Margin" Value="0,30,20,0"/>
                                        <Setter Property="Grid.Row" Value="1"/>
                                        <Setter Property="Grid.ColumnSpan" Value="3"/>
                                        <Setter Property="Visibility" Value="Collapsed"/>
                                        <Setter Property="Opacity" Value="0"/>
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding ElementName=SSFHelperMessagePanel, Path=Opacity}" Value="0">
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding ElementName=SSFHelperMessagePanel, Path=Opacity}" Value="1">
                                                <Setter Property="Visibility" Value="Visible"/>
                                            </DataTrigger>

                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{PluginSettings Plugin=SuccessStory, Path=HasData}" Value="True"/>
                                                    <Condition Binding="{PluginStatus Plugin=SuccessStoryFullscreenHelper, Status=Installed}" Value="False"/>
                                                    <Condition Binding="{Binding ElementName=GlobalToastPanel, Path=Opacity}" Value="0"/>
                                                </MultiDataTrigger.Conditions>
                                                <MultiDataTrigger.EnterActions>
                                                    <BeginStoryboard x:Name="BeginSSFHMsg">
                                                        <Storyboard>
                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity" From="0" To="1" BeginTime="0:0:20" Duration="0:0:0"/>
                                                            <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)"
                                                                             From="500" To="0" BeginTime="0:0:20" Duration="0:0:0.30"
                                                                             AccelerationRatio="0.3" DecelerationRatio="0.7"/>
                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                                             BeginTime="0:0:30" From="1" To="0" Duration="0:0:0.20"/>
                                                            <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)"
                                                                             BeginTime="0:0:29" From="0" To="500" Duration="0:0:0.30"
                                                                             AccelerationRatio="0.3" DecelerationRatio="0.7"/>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </MultiDataTrigger.EnterActions>
                                            </MultiDataTrigger>

                                            <DataTrigger Binding="{Binding ElementName=GlobalToastPanel, Path=Opacity}" Value="1">
                                                <Setter Property="Opacity" Value="0"/>
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                            </DataTrigger>


                                        </Style.Triggers>
                                    </Style>
                                </Border.Style>

                                <StackPanel Orientation="Vertical" Margin="10,0,10,0" VerticalAlignment="Center">
                                    <StackPanel Orientation="Horizontal">
                                        <TextBlock Text="&#xf025;" FontFamily="{StaticResource FontIcoFont}" FontSize="22" Margin="0,0,10,0" VerticalAlignment="Center" HorizontalAlignment="Left"
                                                   Foreground="{DynamicResource TextBrush}" FontWeight="Bold"/>
                                        <TextBlock FontSize="18" Style="{DynamicResource TextBlockBaseStyle}" HorizontalAlignment="Left" VerticalAlignment="Center" Text="{DynamicResource LOCNotifTrophy1}"/>
                                    </StackPanel>
                                    <TextBlock FontSize="15" Margin="0,5,0,0" Style="{DynamicResource TextBlockBaseStyle}" HorizontalAlignment="Left" VerticalAlignment="Center" Text="{DynamicResource LOCNotifTrophy2}"/>
                                </StackPanel>
                            </Border>

                            <!-- GLOBAL TOAST (AnikiHelper) -->
                            <Border x:Name="GlobalToastPanel"
                                    Background="{DynamicResource OverlayMenu}"
                                    CornerRadius="{DynamicResource Corner}"
                                    Height="70"
                                    BorderBrush="{DynamicResource MenuBorderBrush}"
                                    BorderThickness="2"
                                    VerticalAlignment="Top"
                                    HorizontalAlignment="Right"
                                    Panel.ZIndex="95"
                                    RenderTransformOrigin="1,0.5">
                                <Border.Effect>
                                    <DropShadowEffect
                                        ShadowDepth="2"
                                        Color="Black"
                                        Opacity="0.5"/>
                                </Border.Effect>

                                <!-- slide depuis le haut / fade -->
                                <Border.RenderTransform>
                                    <TranslateTransform X="500" Y="0"/>
                                </Border.RenderTransform>

                                <Border.Style>
                                    <Style TargetType="Border">
                                        <Setter Property="Margin" Value="0,30,20,0"/>
                                        <Setter Property="Grid.Row" Value="1"/>
                                        <Setter Property="Grid.ColumnSpan" Value="3"/>
                                        <Setter Property="Visibility" Value="Collapsed"/>
                                        <Setter Property="Opacity" Value="0"/>
                                        <Style.Triggers>
                                            <!-- Comme tes autres panels : visibilité pilotée par l'opacité -->
                                            <DataTrigger Binding="{Binding ElementName=GlobalToastPanel, Path=Opacity}" Value="0">
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding ElementName=GlobalToastPanel, Path=Opacity}" Value="1">
                                                <Setter Property="Visibility" Value="Visible"/>
                                            </DataTrigger>

                                            <!-- Flip = True -> on lance l’anim -->
                                            <DataTrigger Binding="{PluginSettings Plugin=AnikiHelper, Path=GlobalToastFlip}" Value="True">
                                                <DataTrigger.EnterActions>
                                                    <BeginStoryboard x:Name="ShowToastTrue">
                                                        <Storyboard>
                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity" From="0" To="1" BeginTime="0:0:0" Duration="0:0:0"/>
                                                            <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)"
                                                                             From="700" To="0" BeginTime="0:0:0.2" Duration="0:0:0.30"
                                                                             AccelerationRatio="0.3" DecelerationRatio="0.7"/>
                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                                             BeginTime="0:0:09" From="1" To="0" Duration="0:0:0.20"/>
                                                            <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)"
                                                                             BeginTime="0:0:08" From="0" To="700" Duration="0:0:0.30"
                                                                             AccelerationRatio="0.3" DecelerationRatio="0.7"/>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </DataTrigger.EnterActions>
                                            </DataTrigger>


                                        </Style.Triggers>
                                    </Style>
                                </Border.Style>

                                <!-- CONTENU TOAST -->
                                <StackPanel Orientation="Horizontal"
                                            Margin="12,0,12,0"
                                            VerticalAlignment="Center">
                                    <!-- Icône selon le type -->
                                    <TextBlock Margin="0,0,10,0"
                                               VerticalAlignment="Center"
                                               FontFamily="{StaticResource FontIcoFont}"
                                               FontSize="22"
                                               Foreground="{DynamicResource TextBrush}">
                                        <TextBlock.Style>
                                            <Style TargetType="TextBlock">
                                                <!-- icône par défaut -->
                                                <Setter Property="Text" Value="&#xee22;"/>
                                                <Style.Triggers>
                                                    <!-- Type = steamUpdate -->
                                                    <DataTrigger Binding="{PluginSettings Plugin=AnikiHelper, Path=GlobalToastType}" Value="steamUpdate">
                                                        <!-- icône “update” ou “news” -->
                                                        <Setter Property="Text" Value="&#xef3e;"/>
                                                    </DataTrigger>

                                                    <!-- Type = successStory (exemple futur) -->
                                                    <DataTrigger Binding="{PluginSettings Plugin=AnikiHelper, Path=GlobalToastType}" Value="Test">
                                                        <!-- icône trophée -->
                                                        <Setter Property="Text" Value="&#xef02;"/>
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </TextBlock.Style>
                                    </TextBlock>

                                    <!-- Texte -->
                                    <TextBlock FontSize="17"
                                               TextWrapping="Wrap"
                                               Style="{DynamicResource TextBlockBaseStyle}"
                                               VerticalAlignment="Center"
                                               Text="{PluginSettings Plugin=AnikiHelper, Path=GlobalToastMessage}" />
                                </StackPanel>
                            </Border>

                            <!-- STEAM FRIENDS -->
                            <Border x:Name="SteamFriendsToastPanel"
                                    Background="{DynamicResource OverlayMenu}"
                                    CornerRadius="{DynamicResource Corner}"
                                    Height="70"
                                    BorderBrush="{DynamicResource MenuBorderBrush}"
                                    BorderThickness="2"
                                    VerticalAlignment="Top"
                                    HorizontalAlignment="Right"
                                    Panel.ZIndex="95"
                                    RenderTransformOrigin="1,0.5">
                                <Border.Effect>
                                    <DropShadowEffect
                                        ShadowDepth="2"
                                        Color="Black"
                                        Opacity="0.5"/>
                                </Border.Effect>

                                <!-- slide depuis la droite / fade -->
                                <Border.RenderTransform>
                                    <TranslateTransform X="500" Y="0"/>
                                </Border.RenderTransform>

                                <Border.Style>
                                    <Style TargetType="Border">
                                        <!-- Décalé sous le GlobalToast -->
                                        <Setter Property="Margin" Value="0,110,20,0"/>
                                        <Setter Property="Grid.Row" Value="1"/>
                                        <Setter Property="Grid.ColumnSpan" Value="3"/>
                                        <Setter Property="Visibility" Value="Collapsed"/>
                                        <Setter Property="Opacity" Value="0"/>

                                        <Style.Triggers>
                                            <!-- Visibilité pilotée par l'opacité (même pattern que ton GlobalToast) -->
                                            <DataTrigger Binding="{Binding ElementName=SteamFriendsToastPanel, Path=Opacity}" Value="0">
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding ElementName=SteamFriendsToastPanel, Path=Opacity}" Value="1">
                                                <Setter Property="Visibility" Value="Visible"/>
                                            </DataTrigger>

                                            <!-- Flip Steam Friends -> on lance l’anim -->
                                            <DataTrigger Binding="{PluginSettings Plugin=SteamFriendsFullscreen, Path=ToastFlip}" Value="True">
                                                <DataTrigger.EnterActions>
                                                    <BeginStoryboard x:Name="SteamFriendsToast_Show">
                                                        <Storyboard>
                                                            <!-- Fade in instant -->
                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                                             From="0" To="1"
                                                                             BeginTime="0:0:0" Duration="0:0:0"/>

                                                            <!-- Slide in -->
                                                            <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)"
                                                                             From="700" To="0"
                                                                             BeginTime="0:0:0.2" Duration="0:0:0.30"
                                                                             AccelerationRatio="0.3"
                                                                             DecelerationRatio="0.7"/>

                                                            <!-- Fade out -->
                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                                             BeginTime="0:0:05.8"
                                                                             From="1" To="0"
                                                                             Duration="0:0:0.20"/>

                                                            <!-- Slide out -->
                                                            <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)"
                                                                             BeginTime="0:0:05.6"
                                                                             From="0" To="700"
                                                                             Duration="0:0:0.30"
                                                                             AccelerationRatio="0.3"
                                                                             DecelerationRatio="0.7"/>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </DataTrigger.EnterActions>
                                            </DataTrigger>

                                        </Style.Triggers>
                                    </Style>
                                </Border.Style>

                                <!-- CONTENU TOAST -->
                                <StackPanel Orientation="Horizontal"
                                            Margin="12,0,12,0"
                                            VerticalAlignment="Center">

                                    <!-- Avatar Steam -->
                                    <Border Width="46"
                                            Height="46"
                                            Margin="0,0,12,0"
                                            CornerRadius="23"
                                            ClipToBounds="True"
                                            Background="#33000000">
                                        <Image Stretch="UniformToFill"
                                               Source="{PluginSettings Plugin=SteamFriendsFullscreen, Path=ToastAvatar}"/>
                                    </Border>

                                    <!-- Texte -->
                                    <TextBlock FontSize="17"
                                               TextWrapping="Wrap"
                                               Style="{DynamicResource TextBlockBaseStyle}"
                                               VerticalAlignment="Center"
                                               Text="{PluginSettings Plugin=SteamFriendsFullscreen, Path=ToastMessage}" />
                                </StackPanel>
                            </Border>

                            <!-- AnikiHelper MESSAGE 1 -->
                            <Border x:Name="AnikiHelperMessagePanel"
                                    Background="{DynamicResource OverlayMenu}"
                                    CornerRadius="{DynamicResource Corner}"
                                    Height="80"
                                    BorderBrush="#20FFFFFF"
                                    BorderThickness="1"
                                    VerticalAlignment="Top"
                                    HorizontalAlignment="Right"
                                    Panel.ZIndex="1"
                                    RenderTransformOrigin="1,0.5"
                                    Tag="{PluginSettings Plugin=SuccessStory, Path=HasData, FallbackValue=False}">
                                <Border.Effect>
                                    <DropShadowEffect  ShadowDepth="2" Color="Black" Opacity="0.5"/>
                                </Border.Effect>
                                <Border.RenderTransform>
                                    <TranslateTransform X="500"/>
                                </Border.RenderTransform>

                                <Border.Style>
                                    <Style TargetType="Border">
                                        <Setter Property="Margin" Value="0,30,20,0"/>
                                        <Setter Property="Grid.Row" Value="1"/>
                                        <Setter Property="Grid.ColumnSpan" Value="3"/>
                                        <Setter Property="Visibility" Value="Collapsed"/>
                                        <Setter Property="Opacity" Value="0"/>
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding ElementName=AnikiHelperMessagePanel, Path=Opacity}" Value="0">
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding ElementName=AnikiHelperMessagePanel, Path=Opacity}" Value="1">
                                                <Setter Property="Visibility" Value="Visible"/>
                                            </DataTrigger>

                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding ElementName=StatsButtonFalse, Path=IsChecked}" Value="True"/>
                                                    <Condition Binding="{PluginStatus Plugin=AnikiHelper_96a983a3-3f13-4dce-a474-4052b718bb52, Status=Installed}" Value="False"/>
                                                    <Condition Binding="{Binding ElementName=GlobalToastPanel, Path=Opacity}" Value="0"/>
                                                </MultiDataTrigger.Conditions>
                                                <MultiDataTrigger.EnterActions>
                                                    <BeginStoryboard x:Name="BeginAHMsg">
                                                        <Storyboard>
                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity" From="0" To="1" BeginTime="0:0:0" Duration="0:0:0"/>
                                                            <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)"
                                                                             From="500" To="0" BeginTime="0:0:0.1" Duration="0:0:0.30"
                                                                             AccelerationRatio="0.3" DecelerationRatio="0.7"/>
                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                                             BeginTime="0:0:09" From="1" To="0" Duration="0:0:0.20"/>
                                                            <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)"
                                                                             BeginTime="0:0:08" From="0" To="500" Duration="0:0:0.30"
                                                                             AccelerationRatio="0.3" DecelerationRatio="0.7"/>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </MultiDataTrigger.EnterActions>
                                            </MultiDataTrigger>

                                            <DataTrigger Binding="{Binding ElementName=GlobalToastPanel, Path=Opacity}" Value="1">
                                                <Setter Property="Opacity" Value="0"/>
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                            </DataTrigger>


                                        </Style.Triggers>
                                    </Style>
                                </Border.Style>

                                <StackPanel Orientation="Vertical" Margin="10,0,10,0" VerticalAlignment="Center">
                                    <StackPanel Orientation="Horizontal">
                                        <TextBlock Text="&#xf025;" FontFamily="{StaticResource FontIcoFont}" FontSize="22" Margin="0,0,10,0" VerticalAlignment="Center" HorizontalAlignment="Left"
                                                   Foreground="{DynamicResource TextBrush}" FontWeight="Bold"/>
                                        <TextBlock FontSize="18" Style="{DynamicResource TextBlockBaseStyle}" HorizontalAlignment="Left" VerticalAlignment="Center" Text="{DynamicResource LOCNotifAnikiHelper1}"/>
                                    </StackPanel>
                                    <TextBlock FontSize="15" Margin="0,5,0,0" Style="{DynamicResource TextBlockBaseStyle}" HorizontalAlignment="Left" VerticalAlignment="Center" Text="{DynamicResource LOCNotifAnikiHelper2}"/>

                                </StackPanel>
                            </Border>

                            <!-- AnikiHelper MESSAGE 2 -->
                            <Border x:Name="AnikiHelperMessagePanel2"
                                    Background="{DynamicResource OverlayMenu}"
                                    CornerRadius="{DynamicResource Corner}"
                                    Height="80"
                                    BorderBrush="#20FFFFFF"
                                    BorderThickness="1"
                                    VerticalAlignment="Top"
                                    HorizontalAlignment="Right"
                                    Panel.ZIndex="1"
                                    RenderTransformOrigin="1,0.5">
                                <Border.Effect>
                                    <DropShadowEffect  ShadowDepth="2" Color="Black" Opacity="0.5"/>
                                </Border.Effect>
                                <Border.RenderTransform>
                                    <TranslateTransform X="500"/>
                                </Border.RenderTransform>

                                <Border.Style>
                                    <Style TargetType="Border">
                                        <Setter Property="Margin" Value="0,30,20,0"/>
                                        <Setter Property="Grid.Row" Value="1"/>
                                        <Setter Property="Grid.ColumnSpan" Value="3"/>
                                        <Setter Property="Visibility" Value="Collapsed"/>
                                        <Setter Property="Opacity" Value="0"/>
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding ElementName=AnikiHelperMessagePanel2, Path=Opacity}" Value="0">
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding ElementName=AnikiHelperMessagePanel2, Path=Opacity}" Value="1">
                                                <Setter Property="Visibility" Value="Visible"/>
                                            </DataTrigger>

                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding ElementName=LastUpdatesButtonFalse, Path=IsChecked}" Value="True"/>
                                                    <Condition Binding="{PluginStatus Plugin=AnikiHelper_96a983a3-3f13-4dce-a474-4052b718bb52, Status=Installed}" Value="False"/>
                                                    <Condition Binding="{Binding ElementName=GlobalToastPanel, Path=Opacity}" Value="0"/>
                                                </MultiDataTrigger.Conditions>
                                                <MultiDataTrigger.EnterActions>
                                                    <BeginStoryboard x:Name="BeginAHMsg">
                                                        <Storyboard>
                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity" From="0" To="1" BeginTime="0:0:0" Duration="0:0:0"/>
                                                            <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)"
                                                                             From="500" To="0" BeginTime="0:0:0.1" Duration="0:0:0.30"
                                                                             AccelerationRatio="0.3" DecelerationRatio="0.7"/>
                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                                             BeginTime="0:0:09" From="1" To="0" Duration="0:0:0.20"/>
                                                            <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)"
                                                                             BeginTime="0:0:08" From="0" To="500" Duration="0:0:0.30"
                                                                             AccelerationRatio="0.3" DecelerationRatio="0.7"/>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </MultiDataTrigger.EnterActions>
                                            </MultiDataTrigger>

                                            <DataTrigger Binding="{Binding ElementName=GlobalToastPanel, Path=Opacity}" Value="1">
                                                <Setter Property="Opacity" Value="0"/>
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                            </DataTrigger>


                                        </Style.Triggers>
                                    </Style>
                                </Border.Style>

                                <StackPanel Orientation="Vertical" Margin="10,0,10,0" VerticalAlignment="Center">
                                    <StackPanel Orientation="Horizontal">
                                        <TextBlock Text="&#xf025;" FontFamily="{StaticResource FontIcoFont}" FontSize="22" Margin="0,0,10,0" VerticalAlignment="Center" HorizontalAlignment="Left"
                                                   Foreground="{DynamicResource TextBrush}" FontWeight="Bold"/>
                                        <TextBlock FontSize="18" Style="{DynamicResource TextBlockBaseStyle}" HorizontalAlignment="Left" VerticalAlignment="Center" Text="{DynamicResource LOCNotifAnikiHelper1}"/>
                                    </StackPanel>
                                    <TextBlock FontSize="15" Margin="0,5,0,0" Style="{DynamicResource TextBlockBaseStyle}" HorizontalAlignment="Left" VerticalAlignment="Center" Text="{DynamicResource LOCNotifAnikiHelper2}"/>

                                </StackPanel>
                            </Border>

                            <!--NombredeJeuxfiltrer-->
                            <!--		<Border Background="{DynamicResource OverlayMenu}" CornerRadius="25"
                            Height="60" VerticalAlignment="Bottom" HorizontalAlignment="Right" Panel.ZIndex="1"  >
                            <Border.Style>
                            <Style TargetType="Border">
                            <Setter Property="Margin" Value="0,40,20,-30"/>
                            <Setter Property="Opacity" Value="0"/>
                            <Setter Property="Grid.Row" Value="2"/>
                            <Setter Property="Grid.ColumnSpan" Value="4"/>
                            <Setter Property="Visibility" Value="Collapsed"/>
                            <Setter Property="Effect">
                            <Setter.Value>
                            <DropShadowEffect ShadowDepth="3" RenderingBias="Performance"/>
                            </Setter.Value>
                            </Setter>
                            <Style.Triggers>
                            <DataTrigger Binding="{Binding ElementName=PART_MainHost, Path=Visibility}" Value="Visible">
                            <DataTrigger.EnterActions>
                            <BeginStoryboard>
                            <Storyboard>
                            <DoubleAnimation Storyboard.TargetProperty="Opacity" BeginTime="0:0:1" Duration="0:0:0.5" To="1" />
                            </Storyboard>
                            </BeginStoryboard>
                            </DataTrigger.EnterActions>
                            </DataTrigger>
                            <DataTrigger Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}" Value="False">
                            <Setter Property="Visibility" Value="Visible" />
                            </DataTrigger>
                            </Style.Triggers>
                            </Style>
                            </Border.Style>
                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" VerticalAlignment="Center" Margin="15,0,0,0" >
                            <TextBlock Text="{DynamicResource LOCMetaGameSourceFiltered}" Style="{DynamicResource TextBlockBaseStyle}" FontSize="20" Foreground="GhostWhite"/>
                            <TextBlock Text=": " Style="{DynamicResource TextBlockBaseStyle}" FontSize="20" Foreground="GhostWhite"/>
                            <TextBlock Text="{Binding Items.Count, ElementName=PART_ListGameItems}" Style="{DynamicResource TextBlockBaseStyle}"
                            Margin="0,0,15,0" FontSize="20"/>
                            </StackPanel>
                            </Border> -->

                            <!--Search-->
                            <Grid x:Name="SearchGrid" Background="Transparent" >
                                <Grid.Style>
                                    <Style TargetType="Grid">
                                        <Setter Property="Visibility" Value="Collapsed"/>
                                        <Setter Property="Opacity" Value="1"/>
                                        <Setter Property="Grid.Row" Value="3"/>
                                        <Setter Property="Grid.ColumnSpan" Value="3"/>
                                        <Style.Triggers>

                                        </Style.Triggers>
                                    </Style>
                                </Grid.Style>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="80" />
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="20" />
                                </Grid.ColumnDefinitions>


                                <StackPanel Grid.ColumnSpan="2" x:Name="PART_ElemSearchActive"
                                            VerticalAlignment="Center" HorizontalAlignment="Stretch"
                                            Margin="70,20,0,0" Orientation="Horizontal" Panel.ZIndex="1" >
                                    <TextBlock FontSize="18" TextAlignment="Center"
                                               Style="{DynamicResource TextBlockBaseStyle}"
                                               Text="{DynamicResource LOCGameListSearchResultsS}"/>
                                    <TextBlock  Foreground="White"
                                               TextAlignment="Center" FontSize="18" Margin="5,0,0,0"
                                               Style="{DynamicResource TextBlockBaseStyle}"
                                               Text="{Binding AppSettings.Fullscreen.FilterSettings.Name}"/>
                                </StackPanel>
                                <TextBlock Grid.ColumnSpan="2" x:Name="PART_ElemExtraFilterActive"
                                           FontSize="18" Margin="70,50,0,0"
                                           VerticalAlignment="Top" HorizontalAlignment="Stretch"
                                           TextAlignment="Center"
                                           Style="{DynamicResource TextBlockBaseStyle}"
                                           Text="{DynamicResource LOCGameListExtraFilteredD}" Panel.ZIndex="1">
                                </TextBlock>
                            </Grid>
                        </Grid>

                        <!--Notification-->
                        <StackPanel Grid.Row="0" HorizontalAlignment="Left" VerticalAlignment="Top" Height="10" Width="10" Focusable="False" >
                            <TextBlock x:Name="Id" Text="{Binding SelectedGame.Id, NotifyOnTargetUpdated=True}" Foreground="Transparent">
                                <TextBlock.Triggers>
                                    <EventTrigger RoutedEvent="Binding.TargetUpdated">
                                        <BeginStoryboard>
                                            <Storyboard>
                                                <DoubleAnimation Storyboard.TargetProperty="Opacity" Duration="0:0:0" To="0" />
                                                <DoubleAnimation Storyboard.TargetProperty="Opacity" Duration="0:0:0.01" From="0" To="1" BeginTime="0:0:0" />
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </EventTrigger>
                                </TextBlock.Triggers>
                            </TextBlock>
                            <TextBlock x:Name="Trigger" Text="{Binding SelectedGame.Id, NotifyOnTargetUpdated=True}" Foreground="Transparent">
                                <TextBlock.Triggers>
                                    <EventTrigger RoutedEvent="Binding.TargetUpdated">
                                        <BeginStoryboard>
                                            <Storyboard>
                                                <DoubleAnimation Storyboard.TargetProperty="Opacity" Duration="0:0:0" To="0" />
                                                <DoubleAnimation Storyboard.TargetProperty="Opacity" Duration="0:0:1" From="0" To="1" BeginTime="0:0:1" />
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </EventTrigger>
                                </TextBlock.Triggers>
                            </TextBlock>
                            <TextBlock x:Name="TrailerTrigger" Text="{Binding SelectedGame.Id, NotifyOnTargetUpdated=True}" Foreground="Transparent">
                                <TextBlock.Style>
                                    <Style TargetType="TextBlock" >
                                        <Setter Property="Visibility" Value="Hidden" />
                                        <Setter Property="Opacity" Value="0" />
                                        <Style.Triggers>
                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[TrailerOnMainView]}" Value="True"/>
                                                    <Condition Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}" Value="Collapsed"/>
                                                    <Condition Binding="{Binding ElementName=AcceuilSettings, Path=Visibility}" Value="Collapsed"/>
                                                    <Condition Binding="{Binding ElementName=Trigger, Path=Opacity}" Value="1"/>
                                                </MultiDataTrigger.Conditions>
                                                <MultiDataTrigger.EnterActions>
                                                    <BeginStoryboard>
                                                        <Storyboard>
                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity" BeginTime="0:0:1" Duration="0:0:1" From="0" To="1"/>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </MultiDataTrigger.EnterActions>
                                                <MultiDataTrigger.ExitActions>
                                                    <BeginStoryboard>
                                                        <Storyboard>
                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity" BeginTime="0:0:0" Duration="0:0:0.3" To="0"/>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </MultiDataTrigger.ExitActions>
                                            </MultiDataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </TextBlock.Style>
                            </TextBlock>
                        </StackPanel>

                        <!--Grille des Filtres-->
                        <Grid x:Name="FilterGrid"  HorizontalAlignment="Left" Margin="30,10,0,10" Background="Transparent" >
                            <Border Background="{DynamicResource OverlayMenu}" CacheMode="BitmapCache"  Height="1030" CornerRadius="{DynamicResource Corner}">


                                <Grid Background="Transparent">
                                    <Grid.Style>
                                        <Style TargetType="Grid">
                                            <Setter Property="Focusable" Value="False"/>
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding ElementName=PART_ElemFilters, Path=Visibility}" Value="Visible">
                                                    <Setter Property="Focusable" Value="True"/>
                                                    <Setter Property="Width" Value="410"/>
                                                    <Setter Property="Height" Value="930"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Grid.Style>
                                    <Filters x:Name="PART_ElemFilters"
                                             Margin="0,0,0,0" KeyboardNavigation.DirectionalNavigation="Cycle" KeyboardNavigation.TabNavigation="Cycle"
                                             Focusable="False" Background="{DynamicResource OverlayMenu}"/>
                                    <FiltersAdditional x:Name="PART_ElemFiltersAdditional"
                                                       Margin="0,0,0,0" KeyboardNavigation.DirectionalNavigation="Cycle" KeyboardNavigation.TabNavigation="Cycle"
                                                       Focusable="False" Background="{DynamicResource OverlayMenu}" />
                                    <ContentControl x:Name="PART_ContentFilterItems"
                                                    Margin="0,0,0,0" KeyboardNavigation.DirectionalNavigation="Cycle" KeyboardNavigation.TabNavigation="Cycle"
                                                    Focusable="False" Background="{DynamicResource OverlayMenu}" />
                                </Grid>
                            </Border>
                        </Grid>

                        <GameDetails x:Name="PART_ElemGameDetails" Grid.RowSpan="5"
                                     HorizontalAlignment="Stretch" VerticalAlignment="Stretch" />
                        <GameStatus x:Name="PART_ElemGameStatus" Grid.RowSpan="5"
                                    HorizontalAlignment="Stretch" VerticalAlignment="Stretch"/>
                        <CheckBoxEx x:Name="MainBackgroundImageButton" Margin="0,0,0,0" Height="50" Width="50"
                                    IsChecked="{Settings Fullscreen.EnableMainBackgroundImage, Mode=TwoWay}"
                                    Style="{DynamicResource MainBackgroundImageButton}" Visibility="Hidden" Focusable="False"/>

                        <ContentControl x:Name="ThemeOptions_Command" />

                        <!-- ThemeOptions Message -->

                        <ContentControl x:Name="TOMissing">
                            <ContentControl.Style>
                                <Style TargetType="ContentControl" BasedOn="{StaticResource TOMissingStyle}">
                                    <Setter Property="Visibility" Value="Visible"/>
                                    <Style.Triggers>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=IsInstalled}" Value="True" />
                                                <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=MinimalVersion[0.30]}" Value="True" />
                                            </MultiDataTrigger.Conditions>
                                            <MultiDataTrigger.Setters>
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                            </MultiDataTrigger.Setters>
                                        </MultiDataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </ContentControl.Style>
                        </ContentControl>

                        <!-- Warning Message -->

                        <ContentControl x:Name="WrongColumns">
                            <ContentControl.Style>
                                <Style TargetType="ContentControl" BasedOn="{StaticResource WrongSettingStyle}">
                                    <Setter Property="Visibility" Value="Visible"/>
                                    <Style.Triggers>

                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Settings CoverAspectRatio}" Value="1:1" />
                                                <Condition Binding="{Settings Fullscreen.Columns}" Value="8" />
                                                <Condition Binding="{Settings Fullscreen.Rows}" Value="2" />
                                            </MultiDataTrigger.Conditions>
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </MultiDataTrigger>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Settings CoverAspectRatio}" Value="1:1" />
                                                <Condition Binding="{Settings Fullscreen.Columns}" Value="7" />
                                                <Condition Binding="{Settings Fullscreen.Rows}" Value="2" />
                                            </MultiDataTrigger.Conditions>
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </MultiDataTrigger>

                                        <!-- 2:3 -->
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Settings CoverAspectRatio}" Value="2:3" />
                                                <Condition Binding="{Settings Fullscreen.Columns}" Value="8" />
                                                <Condition Binding="{Settings Fullscreen.Rows}" Value="2" />
                                            </MultiDataTrigger.Conditions>
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </MultiDataTrigger>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Settings CoverAspectRatio}" Value="2:3" />
                                                <Condition Binding="{Settings Fullscreen.Columns}" Value="8" />
                                                <Condition Binding="{Settings Fullscreen.Rows}" Value="1" />
                                            </MultiDataTrigger.Conditions>
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </MultiDataTrigger>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Settings CoverAspectRatio}" Value="2:3" />
                                                <Condition Binding="{Settings Fullscreen.Columns}" Value="9" />
                                                <Condition Binding="{Settings Fullscreen.Rows}" Value="2" />
                                            </MultiDataTrigger.Conditions>
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </MultiDataTrigger>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Settings CoverAspectRatio}" Value="2:3" />
                                                <Condition Binding="{Settings Fullscreen.Columns}" Value="9" />
                                                <Condition Binding="{Settings Fullscreen.Rows}" Value="1" />
                                            </MultiDataTrigger.Conditions>
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </MultiDataTrigger>

                                        <!-- 3:4 -->
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Settings CoverAspectRatio}" Value="27:38" />
                                                <Condition Binding="{Settings Fullscreen.Columns}" Value="8" />
                                                <Condition Binding="{Settings Fullscreen.Rows}" Value="2" />
                                            </MultiDataTrigger.Conditions>
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </MultiDataTrigger>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Settings CoverAspectRatio}" Value="27:38" />
                                                <Condition Binding="{Settings Fullscreen.Columns}" Value="8" />
                                                <Condition Binding="{Settings Fullscreen.Rows}" Value="1" />
                                            </MultiDataTrigger.Conditions>
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </MultiDataTrigger>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Settings CoverAspectRatio}" Value="27:38" />
                                                <Condition Binding="{Settings Fullscreen.Columns}" Value="9" />
                                                <Condition Binding="{Settings Fullscreen.Rows}" Value="2" />
                                            </MultiDataTrigger.Conditions>
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </MultiDataTrigger>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Settings CoverAspectRatio}" Value="27:38" />
                                                <Condition Binding="{Settings Fullscreen.Columns}" Value="9" />
                                                <Condition Binding="{Settings Fullscreen.Rows}" Value="1" />
                                            </MultiDataTrigger.Conditions>
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </MultiDataTrigger>

                                        <!-- 3:4 -->
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Settings CoverAspectRatio}" Value="3:4" />
                                                <Condition Binding="{Settings Fullscreen.Columns}" Value="8" />
                                                <Condition Binding="{Settings Fullscreen.Rows}" Value="2" />
                                            </MultiDataTrigger.Conditions>
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </MultiDataTrigger>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Settings CoverAspectRatio}" Value="3:4" />
                                                <Condition Binding="{Settings Fullscreen.Columns}" Value="8" />
                                                <Condition Binding="{Settings Fullscreen.Rows}" Value="1" />
                                            </MultiDataTrigger.Conditions>
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </MultiDataTrigger>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Settings CoverAspectRatio}" Value="3:4" />
                                                <Condition Binding="{Settings Fullscreen.Columns}" Value="9" />
                                                <Condition Binding="{Settings Fullscreen.Rows}" Value="2" />
                                            </MultiDataTrigger.Conditions>
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </MultiDataTrigger>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Settings CoverAspectRatio}" Value="3:4" />
                                                <Condition Binding="{Settings Fullscreen.Columns}" Value="9" />
                                                <Condition Binding="{Settings Fullscreen.Rows}" Value="1" />
                                            </MultiDataTrigger.Conditions>
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </MultiDataTrigger>

                                        <!-- 22:31 -->
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Settings CoverAspectRatio}" Value="22:31" />
                                                <Condition Binding="{Settings Fullscreen.Columns}" Value="8" />
                                                <Condition Binding="{Settings Fullscreen.Rows}" Value="2" />
                                            </MultiDataTrigger.Conditions>
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </MultiDataTrigger>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Settings CoverAspectRatio}" Value="22:31" />
                                                <Condition Binding="{Settings Fullscreen.Columns}" Value="8" />
                                                <Condition Binding="{Settings Fullscreen.Rows}" Value="1" />
                                            </MultiDataTrigger.Conditions>
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </MultiDataTrigger>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Settings CoverAspectRatio}" Value="22:31" />
                                                <Condition Binding="{Settings Fullscreen.Columns}" Value="9" />
                                                <Condition Binding="{Settings Fullscreen.Rows}" Value="1" />
                                            </MultiDataTrigger.Conditions>
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </MultiDataTrigger>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Settings CoverAspectRatio}" Value="22:31" />
                                                <Condition Binding="{Settings Fullscreen.Columns}" Value="9" />
                                                <Condition Binding="{Settings Fullscreen.Rows}" Value="2" />
                                            </MultiDataTrigger.Conditions>
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </MultiDataTrigger>

                                        <!-- 92:43 -->

                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Settings CoverAspectRatio}" Value="92:43" />
                                                <Condition Binding="{Settings Fullscreen.Columns}" Value="3" />
                                                <Condition Binding="{Settings Fullscreen.Rows}" Value="3" />
                                            </MultiDataTrigger.Conditions>
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </MultiDataTrigger>


                                        <DataTrigger Binding="{Binding ElementName=AcceuilSettings, Path=Visibility}" Value="Visible">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding ElementName=IntroVideoBackground, Path=Opacity}" Value="1">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </DataTrigger>

                                    </Style.Triggers>
                                </Style>
                            </ContentControl.Style>
                        </ContentControl>

                        <ContentControl x:Name="WelcomeControl">
                            <ContentControl.Style>
                                <Style TargetType="ContentControl" BasedOn="{StaticResource WelcomehubStyle}">
                                    <!-- Tag = False => écran ouvert -->
                                    <Setter Property="Tag" Value="False" />
                                    <Setter Property="Visibility" Value="Visible"/>

                                    <Style.Triggers>
                                        <!-- Quand Tag = True => on ferme -->
                                        <DataTrigger Binding="{Binding Tag, RelativeSource={RelativeSource Self}}" Value="True">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </DataTrigger>

                                        <DataTrigger Binding="{Binding ElementName=WrongColumns, Path=Visibility}" Value="Visible">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </DataTrigger>

                                        <DataTrigger Binding="{Binding ElementName=TOMissing, Path=Visibility}" Value="Visible">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </DataTrigger>

                                        <!-- Si l'écran des settings est visible, on masque aussi -->
                                        <DataTrigger Binding="{Binding ElementName=AcceuilSettings, Path=Visibility}" Value="Visible">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </DataTrigger>

                                        <!-- Si la vidéo d'intro est pleine opacité, on masque -->
                                        <DataTrigger Binding="{Binding ElementName=IntroVideoBackground, Path=Opacity}" Value="1">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </DataTrigger>

                                        <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[WelcomeOrNot]}" Value="False">
                                            <Setter Property="Tag" Value="True"/>
                                        </DataTrigger>

                                        <DataTrigger Binding="{PluginStatus Plugin=AnikiHelper_96a983a3-3f13-4dce-a474-4052b718bb52, Status=Installed}"	Value="False">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </DataTrigger>

                                    </Style.Triggers>
                                </Style>
                            </ContentControl.Style>
                        </ContentControl>

                        <!-- Acceuil -->

                        <Grid Name="AcceuilSettings" Margin="0,0,0,0" Background="{DynamicResource OverlayMenu}" FocusManager.FocusedElement="{Binding ElementName=Acceuil}" RenderTransformOrigin="0.5,0.5">
                            <Grid.RenderTransform>
                                <ScaleTransform ScaleX="1" ScaleY="1"/>
                            </Grid.RenderTransform>

                            <Grid.InputBindings>
                                <pin:GameControllerInputBinding
                                    Button="Start"
                                    Command="{Binding Content.ChangeProperty, ElementName=ThemeOptions_Command}"
                                    CommandParameter="[Setter ElementName=Acceuil, Property=IsChecked, Value=True]"/>
                            </Grid.InputBindings>

                            <ContentControl Style="{DynamicResource ConnexionVideo}" Tag="{Binding ElementName=AcceuilSettings, Path=IsVisible}"/>

                            <ContentControl x:Name="AnimVideoControl" Focusable="False" FocusVisualStyle="{x:Null}">
                                <ContentControl.Style>
                                    <Style TargetType="ContentControl">
                                        <Setter Property="Template" Value="{StaticResource AnimVideoTemplate}"/>

                                        <Style.Triggers>
                                            <Trigger Property="Visibility" Value="Collapsed">
                                                <Setter Property="Template" Value="{x:Null}"/>
                                            </Trigger>
                                            <DataTrigger Binding="{Binding ElementName=AcceuilSettings, Path=Visibility}" Value="Collapsed">
                                                <Setter Property="Template" Value="{x:Null}"/>
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=Window}, Path=IsActive}" Value="False">
                                                <Setter Property="Template" Value="{x:Null}"/>
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                            </DataTrigger>
                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding RelativeSource={RelativeSource AncestorType=Window}, Path=IsActive}" Value="True"/>
                                                    <Condition Binding="{Binding RelativeSource={RelativeSource Self}, Path=Visibility}" Value="Visible"/>
                                                </MultiDataTrigger.Conditions>
                                                <Setter Property="Template" Value="{StaticResource AnimVideoTemplate}"/>
                                            </MultiDataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </ContentControl.Style>
                            </ContentControl>

                            <Grid>
                                <Grid Margin="0,-145,0,0" VerticalAlignment="Center" HorizontalAlignment="Center"  >
                                    <Border RenderOptions.BitmapScalingMode="Fant" CornerRadius="0" Height="201" Width="201" VerticalAlignment="Center" HorizontalAlignment="Center" ClipToBounds="True" >
                                        <Border.Style>
                                            <Style TargetType="Border">
                                                <Setter Property="Background" Value="{DynamicResource Avatar0}"/>
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding ElementName=UserAvatarLogin, Path=Source}" Value="{x:Null}">
                                                        <Setter Property="Visibility" Value="Visible" />
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="1">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar0}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="2">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar2}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="3">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar3}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="4">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar4}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="5">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar5}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="6">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar6}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="7">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar7}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="8">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar8}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="9">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar9}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="10">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar10}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="11">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar11}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="12">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar12}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="13">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar13}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="14">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar14}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="15">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar15}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="16">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar16}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="17">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar17}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="18">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar18}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="19">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar19}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="20">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar20}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="21">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar21}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="22">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar22}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="23">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar23}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="24">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar24}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="25">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar25}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="26">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar26}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="27">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar27}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="28">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar28}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="29">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar29}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="30">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar30}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="31">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar31}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="32">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar32}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="33">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar33}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="34">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar34}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="35">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar35}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="36">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar36}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="37">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar37}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="38">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar38}"/>
                                                    </DataTrigger>

                                                </Style.Triggers>
                                            </Style>
                                        </Border.Style>
                                    </Border>

                                    <TextBlock x:Name="ProfilePicturePathLogin"
                                               Tag="{Api Paths.ConfigurationPath}"
                                               Visibility="Collapsed">
                                        <TextBlock.Style>
                                            <Style TargetType="TextBlock">
                                                <Setter Property="Text">
                                                    <Setter.Value>
                                                        <MultiBinding StringFormat="{}{0}\ExtraMetadata\Themes\Common\ProfilePicture.png">
                                                            <Binding Path="Tag" RelativeSource="{RelativeSource Self}"/>
                                                        </MultiBinding>
                                                    </Setter.Value>
                                                </Setter>
                                            </Style>
                                        </TextBlock.Style>
                                    </TextBlock>

                                    <Image x:Name="UserAvatarLogin"
                                           Source="{Binding ElementName=ProfilePicturePathLogin, Path=Text}"
                                           Stretch="UniformToFill"
                                           RenderOptions.BitmapScalingMode="Fant"
                                           Width="201" Height="201"/>

                                    <Border BorderBrush="#eaeaea" BorderThickness="2" Margin="-1" Width="201" Height="201"/>

                                </Grid>
                                <Border>
                                    <TextBlock Margin="0,0,0,-120" Text="{DynamicResource UserName}" HorizontalAlignment="Center" Style="{DynamicResource TextBlockBoldBaseStyle}" Foreground="White"
                                               FontSize="30" VerticalAlignment="Center"/>

                                </Border>

                                <Border>
                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Bottom" Margin="0,0,0,200" MaxWidth="400">

                                        <StackPanel.Resources>
                                            <Storyboard x:Key="ButtonSwitchAnimation" RepeatBehavior="3x">
                                                <!-- Animation pour le premier bouton -->
                                                <DoubleAnimation Storyboard.TargetName="Button1"
                                                                 Storyboard.TargetProperty="Opacity"
                                                                 From="1" To="0"
                                                                 Duration="0:0:0.5"
                                                                 BeginTime="0:0:5" />

                                                <!-- Animation pour le deuxième bouton -->
                                                <DoubleAnimation Storyboard.TargetName="Button2"
                                                                 Storyboard.TargetProperty="Opacity"
                                                                 From="0" To="1"
                                                                 Duration="0:0:0.5"
                                                                 BeginTime="0:0:5.2" />

                                                <!-- Remettre le premier bouton visible après le cycle -->
                                                <DoubleAnimation Storyboard.TargetName="Button1"
                                                                 Storyboard.TargetProperty="Opacity"
                                                                 From="0" To="1"
                                                                 Duration="0:0:0.5"
                                                                 BeginTime="0:0:10" />

                                                <!-- Masquer le deuxième bouton pour recommencer -->
                                                <DoubleAnimation Storyboard.TargetName="Button2"
                                                                 Storyboard.TargetProperty="Opacity"
                                                                 From="1" To="0"
                                                                 Duration="0:0:0.5"
                                                                 BeginTime="0:0:10.2" />
                                            </Storyboard>
                                        </StackPanel.Resources>

                                        <StackPanel.Triggers>
                                            <EventTrigger RoutedEvent="Loaded">
                                                <BeginStoryboard x:Name="BtnAnim" Storyboard="{StaticResource ButtonSwitchAnimation}" />
                                            </EventTrigger>
                                            <EventTrigger RoutedEvent="Unloaded">
                                                <StopStoryboard BeginStoryboardName="BtnAnim"/>
                                            </EventTrigger>
                                        </StackPanel.Triggers>

                                        <StackPanel.Style>
                                            <Style TargetType="StackPanel">
                                                <Setter Property="Visibility" Value="Visible"/>
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding ElementName=AcceuilSettings, Path=IsVisible}" Value="False">
                                                        <Setter Property="Visibility" Value="Collapsed"/>
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </StackPanel.Style>




                                        <TextBlock Margin="50,0,-10,0" Text="{DynamicResource LOCPress}" HorizontalAlignment="Center" Foreground="White" Style="{DynamicResource TextBlockBaseStyle}" FontSize="30" VerticalAlignment="Center"/>

                                        <Grid HorizontalAlignment="Center" VerticalAlignment="Bottom">
                                            <!-- Premier bouton -->
                                            <ButtonEx x:Name="Button1" Style="{StaticResource IconAButton}"  Opacity="1" />

                                            <!-- Deuxième bouton (superposé au premier) -->
                                            <ButtonEx x:Name="Button2" Style="{StaticResource IconStartButton}"  Opacity="0" />
                                        </Grid>
                                    </StackPanel>
                                    <Border.Effect>
                                        <DropShadowEffect ShadowDepth="2" Color="Black"
                                                          RenderingBias="Performance"  Opacity="1"/>
                                    </Border.Effect>
                                </Border>

                                <Border>
                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,0,0"  MaxWidth="400" >
                                        <TextBlock Margin="0,0,10,0" Text="v2.5" HorizontalAlignment="Center" Style="{DynamicResource TextBlockBaseStyle}" FontSize="20" VerticalAlignment="Center"/>
                                    </StackPanel>
                                </Border>
                            </Grid>
                            <StackPanel Margin="0,0,0,-190" VerticalAlignment="Center" Opacity="0">
                                <ToggleButtonEx x:Name="Acceuil" Focusable="True" VerticalAlignment="Center" Margin="20,0,20,0"
                                                Width="150" Style="{DynamicResource AcceuilChangeToggle}">
                                    <ToggleButtonEx.Content>
                                        <Grid>
                                            <Border RenderOptions.BitmapScalingMode="Fant" CornerRadius="{DynamicResource Corner}" VerticalAlignment="Center" HorizontalAlignment="Center" ClipToBounds="True">
                                                <Border.Style>
                                                    <Style TargetType="Border">
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=IsInstalled}" Value="True">
                                                                <Setter Property="Visibility" Value="Visible"/>
                                                                <Setter Property="Height" Value="60"/>
                                                                <Setter Property="Width" Value="60"/>
                                                                <Setter Property="VerticalAlignment" Value="Bottom"/>
                                                                <Setter Property="HorizontalAlignment" Value="Center"/>
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </Border.Style>
                                            </Border>
                                        </Grid>
                                    </ToggleButtonEx.Content>
                                </ToggleButtonEx>
                            </StackPanel>

                            <Grid.Style>
                                <Style TargetType="Grid">
                                    <Setter Property="Visibility" Value="Visible"/>
                                    <Setter Property="Opacity" Value="1"/>
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding ElementName=TOMissing, Path=Visibility}" Value="Visible">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </DataTrigger>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=IsInstalled}" Value="True" />
                                            </MultiDataTrigger.Conditions>
                                            <MultiDataTrigger.Setters>
                                                <Setter Property="Visibility" Value="Visible"/>
                                            </MultiDataTrigger.Setters>
                                        </MultiDataTrigger>
                                        <DataTrigger Binding="{Binding Source={StaticResource AcceuilOrNot}}" Value="False">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding ElementName=Acceuil, Path=IsChecked}" Value="True">
                                            <DataTrigger.EnterActions>
                                                <BeginStoryboard>
                                                    <Storyboard>
                                                        <!-- Zoom out -->
                                                        <DoubleAnimation
                                                            Storyboard.TargetProperty="(RenderTransform).(ScaleTransform.ScaleX)"
                                                            To="1.2"
                                                            Duration="0:0:0.6"
                                                            FillBehavior="HoldEnd" />

                                                        <DoubleAnimation
                                                            Storyboard.TargetProperty="(RenderTransform).(ScaleTransform.ScaleY)"
                                                            To="1.2"
                                                            Duration="0:0:0.6"
                                                            FillBehavior="HoldEnd" />

                                                        <!-- Fade out -->
                                                        <DoubleAnimation
                                                            Storyboard.TargetProperty="Opacity"
                                                            To="0" BeginTime="0:0:0"
                                                            Duration="0:0:0.3"
                                                            FillBehavior="HoldEnd" />

                                                        <!-- Collapse après animation -->
                                                        <ObjectAnimationUsingKeyFrames
                                                            Storyboard.TargetProperty="Visibility"
                                                            BeginTime="0:0:0.3">
                                                            <DiscreteObjectKeyFrame KeyTime="0:0:0" Value="{x:Static Visibility.Collapsed}" />
                                                        </ObjectAnimationUsingKeyFrames>
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </DataTrigger.EnterActions>
                                        </DataTrigger>


                                    </Style.Triggers>
                                </Style>
                            </Grid.Style>
                        </Grid>



                        <Grid>
                            <ContentControl x:Name="UPS_MusicControl" >
                                <ContentControl.Style>
                                    <Style TargetType="ContentControl">
                                        <Setter Property="Tag" Value="False"/>
                                        <Setter Property="Focusable" Value="False"/>
                                        <Style.Triggers>
                                            <!-- Mute dès qu’on attend une intro (Idle) -->
                                            <DataTrigger Binding="{Binding ElementName=IntroHost, Path=Tag}" Value="Idle">
                                                <Setter Property="Tag" Value="True"/>
                                            </DataTrigger>
                                            <!-- Mute pendant la lecture -->
                                            <DataTrigger Binding="{Binding ElementName=IntroHost, Path=Tag}" Value="Playing">
                                                <Setter Property="Tag" Value="True"/>
                                            </DataTrigger>
                                            <!-- Rallume à la fin -->
                                            <DataTrigger Binding="{Binding ElementName=IntroHost, Path=Tag}" Value="Ended">
                                                <Setter Property="Tag" Value="False"/>
                                            </DataTrigger>
                                            <!-- Pas d’intro → ne mute pas -->
                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[IntroVideo_None]}" Value="True">
                                                <Setter Property="Tag" Value="False"/>
                                            </DataTrigger>
                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding ElementName=TrailerContainer, Path=Opacity}" Value="1"/>
                                                    <Condition Binding="{Binding ElementName=ExtraMetadataLoader_VideoLoaderControl_NoControls_Sound, Path=Content.IsPlayerMuted}" Value="False" />
                                                </MultiDataTrigger.Conditions>
                                                <Setter Property="Tag" Value="True" />
                                            </MultiDataTrigger>

                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding ElementName=TrailerContainer, Path=Opacity}" Value="1"/>
                                                    <Condition Binding="{Binding ElementName=ExtraMetadataLoader_VideoLoaderControl_NoControls_Sound, Path=Content.IsPlayerMuted}" Value="True" />
                                                </MultiDataTrigger.Conditions>
                                                <Setter Property="Tag" Value="False"/>
                                            </MultiDataTrigger>

                                            <DataTrigger Binding="{Binding ElementName=AcceuilSettings, Path=Visibility}"  Value="Visible">
                                                <Setter Property="Tag" Value="True" />
                                            </DataTrigger>

                                            <DataTrigger Binding="{Binding ElementName=WelcomeControl, Path=Tag}"  Value="False">
                                                <Setter Property="Tag" Value="True" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </ContentControl.Style>
                            </ContentControl>

                            <ContentControl x:Name="Sounds_MusicControl" >
                                <ContentControl.Style>
                                    <Style TargetType="ContentControl">
                                        <Setter Property="Tag" Value="False"/>
                                        <Setter Property="Focusable" Value="False"/>
                                        <Style.Triggers>
                                            <!-- Mute dès qu’on attend une intro (Idle) -->
                                            <DataTrigger Binding="{Binding ElementName=IntroHost, Path=Tag}" Value="Idle">
                                                <Setter Property="Tag" Value="True"/>
                                            </DataTrigger>
                                            <!-- Mute pendant la lecture -->
                                            <DataTrigger Binding="{Binding ElementName=IntroHost, Path=Tag}" Value="Playing">
                                                <Setter Property="Tag" Value="True"/>
                                            </DataTrigger>
                                            <!-- Rallume à la fin -->
                                            <DataTrigger Binding="{Binding ElementName=IntroHost, Path=Tag}" Value="Ended">
                                                <Setter Property="Tag" Value="False"/>
                                            </DataTrigger>
                                            <!-- Pas d’intro → ne mute pas -->
                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[IntroVideo_None]}" Value="True">
                                                <Setter Property="Tag" Value="False"/>
                                            </DataTrigger>
                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding ElementName=TrailerContainer, Path=Opacity}" Value="1"/>
                                                    <Condition Binding="{Binding ElementName=ExtraMetadataLoader_VideoLoaderControl_NoControls_Sound, Path=Content.IsPlayerMuted}" Value="False" />
                                                </MultiDataTrigger.Conditions>
                                                <Setter Property="Tag" Value="True"/>
                                            </MultiDataTrigger>

                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding ElementName=TrailerContainer, Path=Opacity}" Value="1"/>
                                                    <Condition Binding="{Binding ElementName=ExtraMetadataLoader_VideoLoaderControl_NoControls_Sound, Path=Content.IsPlayerMuted}" Value="True" />
                                                </MultiDataTrigger.Conditions>
                                                <Setter Property="Tag" Value="False"/>
                                            </MultiDataTrigger>

                                            <DataTrigger Binding="{Binding ElementName=AcceuilSettings, Path=Visibility}"  Value="Visible">
                                                <Setter Property="Tag" Value="True" />
                                            </DataTrigger>

                                            <DataTrigger Binding="{Binding ElementName=WelcomeControl, Path=Tag}"  Value="False">
                                                <Setter Property="Tag" Value="True"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </ContentControl.Style>
                            </ContentControl>
                        </Grid>

                        <!-- Sound -->

                        <MediaElement x:Name="AcceuilOpen" Source="{ThemeFile 'audio/AcceuilOST.mp3'}" MediaElementBehaviors.Repeat="False" Volume="{Settings Fullscreen.InterfaceVolume}" >
                            <MediaElement.Style>
                                <Style TargetType="MediaElement">
                                    <Setter Property="LoadedBehavior" Value="Manual"/>
                                    <Setter Property="UnloadedBehavior" Value="Close"/>
                                    <Style.Triggers>

                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Binding ElementName=IntroVideoBackground, Path=Opacity}" Value="0"/>
                                                <Condition Binding="{Binding ElementName=AcceuilSettings, Path=Visibility}" Value="Visible"/>
                                                <Condition Binding="{Binding Source={StaticResource AcceuilOrNot}}" Value="True"/>
                                            </MultiDataTrigger.Conditions>
                                            <MultiDataTrigger.Setters>
                                                <Setter Property="LoadedBehavior" Value="Play"/>
                                            </MultiDataTrigger.Setters>
                                        </MultiDataTrigger>
                                        <DataTrigger Binding="{Binding ElementName=AcceuilSettings, Path=Visibility}" Value="Collapsed">
                                            <Setter Property="LoadedBehavior" Value="Close"/>
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding Source={StaticResource AcceuilOrNot}}" Value="False">
                                            <Setter Property="LoadedBehavior" Value="Close"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </MediaElement.Style>
                        </MediaElement>

                        <MediaElement x:Name="WrongColumnsSound" Source="{ThemeFile 'audio/Warning.wav'}" Volume="{Settings Fullscreen.InterfaceVolume}" MediaElementBehaviors.Repeat="False" >
                            <MediaElement.Style>
                                <Style TargetType="MediaElement">
                                    <Setter Property="LoadedBehavior" Value="Manual"/>
                                    <Setter Property="UnloadedBehavior" Value="Close"/>
                                    <Style.Triggers>

                                        <DataTrigger Binding="{Binding ElementName=WrongColumns, Path=Visibility}" Value="Visible">
                                            <Setter Property="LoadedBehavior" Value="Play"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </MediaElement.Style>
                        </MediaElement>

                        <MediaElement x:Name="GlobalMessagePanelSound" Source="{ThemeFile 'audio/Noti.wav'}" Volume="{Settings Fullscreen.InterfaceVolume}" MediaElementBehaviors.Repeat="False" >
                            <MediaElement.Style>
                                <Style TargetType="MediaElement">
                                    <Setter Property="LoadedBehavior" Value="Manual"/>
                                    <Setter Property="UnloadedBehavior" Value="Close"/>
                                    <Style.Triggers>

                                        <DataTrigger Binding="{Binding ElementName=GlobalToastPanel, Path=Opacity}" Value="1">
                                            <Setter Property="LoadedBehavior" Value="Play"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </MediaElement.Style>
                        </MediaElement>

                        <MediaElement x:Name="SteamFriendsToastPanelSound" Source="{ThemeFile 'audio/Noti.wav'}" Volume="{Settings Fullscreen.InterfaceVolume}" MediaElementBehaviors.Repeat="False" >
                            <MediaElement.Style>
                                <Style TargetType="MediaElement">
                                    <Setter Property="LoadedBehavior" Value="Manual"/>
                                    <Setter Property="UnloadedBehavior" Value="Close"/>
                                    <Style.Triggers>

                                        <DataTrigger Binding="{Binding ElementName=SteamFriendsToastPanel, Path=Opacity}" Value="1">
                                            <Setter Property="LoadedBehavior" Value="Play"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </MediaElement.Style>
                        </MediaElement>

                        <MediaElement x:Name="AnikiHelperMessageSound" Source="{ThemeFile 'audio/Noti.wav'}" Volume="{Settings Fullscreen.InterfaceVolume}" MediaElementBehaviors.Repeat="False" >
                            <MediaElement.Style>
                                <Style TargetType="MediaElement">
                                    <Setter Property="LoadedBehavior" Value="Manual"/>
                                    <Setter Property="UnloadedBehavior" Value="Close"/>
                                    <Style.Triggers>

                                        <DataTrigger Binding="{Binding ElementName=AnikiHelperMessagePanel, Path=Opacity}" Value="1">
                                            <Setter Property="LoadedBehavior" Value="Play"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </MediaElement.Style>
                        </MediaElement>

                        <MediaElement x:Name="SessionSummaryPanelSound" Source="{ThemeFile 'audio/SessionSummary.wav'}" Volume="{Settings Fullscreen.InterfaceVolume}" MediaElementBehaviors.Repeat="False" >
                            <MediaElement.Style>
                                <Style TargetType="MediaElement">
                                    <Setter Property="LoadedBehavior" Value="Manual"/>
                                    <Setter Property="UnloadedBehavior" Value="Close"/>
                                    <Style.Triggers>

                                        <DataTrigger Binding="{Binding ElementName=SessionSummaryPanel, Path=Opacity}" Value="1">
                                            <Setter Property="LoadedBehavior" Value="Play"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </MediaElement.Style>
                        </MediaElement>

                        <MediaElement x:Name="SSFHelperMessageSound" Source="{ThemeFile 'audio/Noti.wav'}" Volume="{Settings Fullscreen.InterfaceVolume}" MediaElementBehaviors.Repeat="False" >
                            <MediaElement.Style>
                                <Style TargetType="MediaElement">
                                    <Setter Property="LoadedBehavior" Value="Manual"/>
                                    <Setter Property="UnloadedBehavior" Value="Close"/>
                                    <Style.Triggers>

                                        <DataTrigger Binding="{Binding ElementName=SSFHelperMessagePanel, Path=Opacity}" Value="1">
                                            <Setter Property="LoadedBehavior" Value="Play"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </MediaElement.Style>
                        </MediaElement>

                        <MediaElement x:Name="SystemMessageSound" Source="{ThemeFile 'audio/Noti.wav'}" Volume="{Settings Fullscreen.InterfaceVolume}" MediaElementBehaviors.Repeat="False" >
                            <MediaElement.Style>
                                <Style TargetType="MediaElement">
                                    <Setter Property="LoadedBehavior" Value="Manual"/>
                                    <Setter Property="UnloadedBehavior" Value="Close"/>
                                    <Style.Triggers>

                                        <DataTrigger Binding="{Binding ElementName=SystemMessagePanel, Path=Opacity}" Value="1">
                                            <Setter Property="LoadedBehavior" Value="Play"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </MediaElement.Style>
                        </MediaElement>

                        <MediaElement x:Name="OpenViewSound"
                                      Source="{ThemeFile 'audio/OpenAdditionalView.wav'}"
                                      LoadedBehavior="Manual"
                                      UnloadedBehavior="Close"
                                      Visibility="Collapsed"
                                      Volume="{Settings Fullscreen.InterfaceVolume}"
                                      IsMuted="False"/>

                        <MediaElement x:Name="CloseGameSound" Source="{ThemeFile 'audio/Noti.wav'}" Volume="{Settings Fullscreen.InterfaceVolume}" MediaElementBehaviors.Repeat="False" >
                            <MediaElement.Style>
                                <Style TargetType="MediaElement">
                                    <Setter Property="LoadedBehavior" Value="Manual"/>
                                    <Setter Property="UnloadedBehavior" Value="Close"/>
                                    <Style.Triggers>

                                        <DataTrigger Binding="{Binding ElementName=GameClosingPanel, Path=Visibility}" Value="Visible">
                                            <Setter Property="LoadedBehavior" Value="Play"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </MediaElement.Style>
                        </MediaElement>

                        <MediaElement x:Name="ConnexionClick" Source="{ThemeFile 'audio/Connexion.mp3'}" Volume="{Settings Fullscreen.InterfaceVolume}" MediaElementBehaviors.Repeat="False" >
                            <MediaElement.Style>
                                <Style TargetType="MediaElement">
                                    <Setter Property="LoadedBehavior" Value="Manual"/>
                                    <Setter Property="UnloadedBehavior" Value="Close"/>
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding ElementName=Acceuil, Path=IsChecked}" Value="True">
                                            <Setter Property="LoadedBehavior" Value="Play"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </MediaElement.Style>
                        </MediaElement>

                        <MediaElement x:Name="DummySilentChime" ScrubbingEnabled="True" Source="{ThemeFile 'audio/DummySilentChime.mp3'}" MediaElementBehaviors.Repeat="True" >
                            <MediaElement.Style>
                                <Style TargetType="MediaElement">
                                    <Setter Property="Visibility" Value="Visible"/>
                                    <Style.Triggers>
                                        <DataTrigger Binding="{SettingsBinding Fullscreen.IsMusicMuted}" Value="True">
                                            <Setter Property="Visibility" Value="Collapsed" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </MediaElement.Style>
                        </MediaElement>

                        <MediaElement x:Name="WelcomeOpen" Source="{ThemeFile 'audio/WelcomeOST.mp3'}" MediaElementBehaviors.Repeat="False" Volume="{Settings Fullscreen.InterfaceVolume}" >
                            <MediaElement.Style>
                                <Style TargetType="MediaElement">
                                    <Setter Property="LoadedBehavior" Value="Manual"/>
                                    <Setter Property="UnloadedBehavior" Value="Close"/>
                                    <Style.Triggers>

                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Binding ElementName=WelcomeControl, Path=Tag}" Value="False"/>
                                                <Condition Binding="{Binding ElementName=WelcomeControl, Path=Visibility}" Value="Visible"/>
                                            </MultiDataTrigger.Conditions>
                                            <MultiDataTrigger.Setters>
                                                <Setter Property="LoadedBehavior" Value="Play"/>
                                            </MultiDataTrigger.Setters>
                                        </MultiDataTrigger>
                                        <DataTrigger Binding="{Binding ElementName=WelcomeControl, Path=Tag}" Value="True">
                                            <Setter Property="LoadedBehavior" Value="Close"/>
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding ElementName=WelcomeControl, Path=Visibility}" Value="Collapsed">
                                            <Setter Property="LoadedBehavior" Value="Close"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </MediaElement.Style>
                        </MediaElement>

                    </Grid>

                    <ControlTemplate.Triggers>


                    </ControlTemplate.Triggers>

                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Vue Trophée -->
    <Style x:Key="AchievementsWindowStyle" TargetType="ContentControl">
        <Setter Property="Margin" Value="0,0,0,0"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ContentControl">
                    <Grid KeyboardNavigation.DirectionalNavigation="Cycle"
                          KeyboardNavigation.TabNavigation="Cycle"
                          KeyboardNavigation.ControlTabNavigation="Cycle"
                          FocusManager.FocusedElement="{Binding ElementName=SortButton}"
                          HorizontalAlignment="Stretch"
                          VerticalAlignment="Stretch"
                          CacheMode="BitmapCache"
                          Background="{DynamicResource DynamicGlowBackgroundSuccess}">
                        <Grid.RenderTransform>
                            <TranslateTransform Y="0"/>
                        </Grid.RenderTransform>

                        <Grid.Triggers>
                            <EventTrigger RoutedEvent="FrameworkElement.Loaded">
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetProperty="Opacity" From="0" To="1" Duration="0:0:0.2"/>
                                        <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.Y)" From="-20" To="0" Duration="0:0:0.2"/>
                                    </Storyboard>
                                </BeginStoryboard>
                            </EventTrigger>
                        </Grid.Triggers>



                        <Grid>
                            <Border>
                                <Border.OpacityMask>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                        <!-- 0% → totalement opaque -->
                                        <GradientStop Color="#00FFFFFF" Offset="0"/>
                                        <GradientStop Color="#00FFFFFF" Offset="0.15"/>
                                        <GradientStop Color="#FFFFFFFF" Offset="0.25"/>
                                        <GradientStop Color="#FFFFFFFF" Offset="1.0"/>
                                    </LinearGradientBrush>
                                </Border.OpacityMask>
                                <Border.Style>
                                    <Style TargetType="Border">
                                        <Setter Property="Opacity" Value="0.1"/>
                                        <Setter Property="Tag" Value="{DynamicResource BackgroundImageIndex}" />
                                        <Setter Property="Background" Value="{DynamicResource TrophyBackgroundDefault}"/>
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="20">
                                                <Setter Property="Background" Value="{DynamicResource SuccessMainImage20}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="21">
                                                <Setter Property="Background" Value="{DynamicResource SuccessMainImage21}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="22">
                                                <Setter Property="Background" Value="{DynamicResource SuccessMainImage22}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="23">
                                                <Setter Property="Background" Value="{DynamicResource SuccessMainImage23}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="24">
                                                <Setter Property="Background" Value="{DynamicResource SuccessMainImage24}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="25">
                                                <Setter Property="Background" Value="{DynamicResource SuccessMainImage25}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="26">
                                                <Setter Property="Background" Value="{DynamicResource SuccessMainImage26}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="27">
                                                <Setter Property="Background" Value="{DynamicResource SuccessMainImage27}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="28">
                                                <Setter Property="Background" Value="{DynamicResource SuccessMainImage28}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="29">
                                                <Setter Property="Background" Value="{DynamicResource SuccessMainImage29}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="30">
                                                <Setter Property="Background" Value="{DynamicResource SuccessMainImage30}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="31">
                                                <Setter Property="Background" Value="{DynamicResource SuccessMainImage31}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="32">
                                                <Setter Property="Background" Value="{DynamicResource SuccessMainImage32}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="33">
                                                <Setter Property="Background" Value="{DynamicResource SuccessMainImage33}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="34">
                                                <Setter Property="Background" Value="{DynamicResource SuccessMainImage34}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="35">
                                                <Setter Property="Background" Value="{DynamicResource SuccessMainImage35}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="36">
                                                <Setter Property="Background" Value="{DynamicResource SuccessMainImage36}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="37">
                                                <Setter Property="Background" Value="{DynamicResource SuccessMainImage37}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="38">
                                                <Setter Property="Background" Value="{DynamicResource SuccessMainImage38}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="39">
                                                <Setter Property="Background" Value="{DynamicResource SuccessMainImage39}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="40">
                                                <Setter Property="Background" Value="{DynamicResource SuccessMainImage40}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="41">
                                                <Setter Property="Background" Value="{DynamicResource SuccessMainImage41}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="42">
                                                <Setter Property="Background" Value="{DynamicResource SuccessMainImage42}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="44">
                                                <Setter Property="Background" Value="{DynamicResource SuccessMainImage44}"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Border.Style>
                            </Border>
                        </Grid>

                        <!-- Separator -->
                        <Grid FocusVisualStyle="{x:Null}" HorizontalAlignment="Stretch" VerticalAlignment="Top" Height="180">

                            <!-- Fond verre -->
                            <Border CornerRadius="0"
                                    Background="{DynamicResource BackgroundAHDarkBrush}"
                                    Opacity="0.8"
                                    HorizontalAlignment="Stretch" VerticalAlignment="Stretch"/>

                            <!-- Reflet vertical discret -->
                            <Border CornerRadius="{DynamicResource Corner}" IsHitTestVisible="False" Background="{DynamicResource GlassMainBrush}" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" />

                            <!-- Liseré interne -->
                            <Border CornerRadius="0"
                                    Margin="1"
                                    BorderThickness="0,0,0,1"
                                    BorderBrush="{DynamicResource GlassInnerLineBrush}"
                                    IsHitTestVisible="False"
                                    HorizontalAlignment="Stretch" VerticalAlignment="Stretch"/>

                            <!-- Hairline -->
                            <Border HorizontalAlignment="Stretch" VerticalAlignment="Bottom" Height="1.5"
                                    Background="{DynamicResource MenuBorderBrush}" Opacity="0.8"
                                    CornerRadius="0"/>
                        </Grid>

                        <!-- Header -->
                        <Grid x:Name="HeaderRoot"
                              Height="180"
                              HorizontalAlignment="Stretch"
                              VerticalAlignment="Top">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                            <!-- AVATAR -->
                            <Grid Grid.Column="0"
                                  Width="120" Height="120"
                                  Margin="50,30,28,0"
                                  HorizontalAlignment="Left" VerticalAlignment="Top">
                                <Border>
                                    <Border.Style>
                                        <Style TargetType="Border">
                                            <Setter Property="Visibility" Value="Collapsed" />
                                            <Setter Property="Background" Value="{DynamicResource Avatar1}" />
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding ElementName=UserAvatar, Path=Source}" Value="{x:Null}">
                                                    <Setter Property="Visibility" Value="Visible" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Source={StaticResource AvatarImageIndex}}" Value="1">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar0}" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Source={StaticResource AvatarImageIndex}}" Value="2">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar2}" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Source={StaticResource AvatarImageIndex}}" Value="3">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar3}" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Source={StaticResource AvatarImageIndex}}" Value="4">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar4}" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Source={StaticResource AvatarImageIndex}}" Value="5">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar5}" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Source={StaticResource AvatarImageIndex}}" Value="6">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar6}" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Source={StaticResource AvatarImageIndex}}" Value="7">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar7}" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Source={StaticResource AvatarImageIndex}}" Value="8">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar8}" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Source={StaticResource AvatarImageIndex}}" Value="9">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar9}" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Source={StaticResource AvatarImageIndex}}" Value="10">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar10}" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Source={StaticResource AvatarImageIndex}}" Value="11">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar11}" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Source={StaticResource AvatarImageIndex}}" Value="12">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar12}" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Source={StaticResource AvatarImageIndex}}" Value="13">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar13}" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Source={StaticResource AvatarImageIndex}}" Value="14">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar14}" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Source={StaticResource AvatarImageIndex}}" Value="15">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar15}" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Source={StaticResource AvatarImageIndex}}" Value="16">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar16}" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Source={StaticResource AvatarImageIndex}}" Value="17">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar17}" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Source={StaticResource AvatarImageIndex}}" Value="18">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar18}" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Source={StaticResource AvatarImageIndex}}" Value="19">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar19}" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Source={StaticResource AvatarImageIndex}}" Value="20">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar20}" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Source={StaticResource AvatarImageIndex}}" Value="21">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar21}" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Source={StaticResource AvatarImageIndex}}" Value="22">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar22}" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Source={StaticResource AvatarImageIndex}}" Value="23">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar23}" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Source={StaticResource AvatarImageIndex}}" Value="24">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar24}" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Source={StaticResource AvatarImageIndex}}" Value="25">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar25}" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Source={StaticResource AvatarImageIndex}}" Value="26">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar26}" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Source={StaticResource AvatarImageIndex}}" Value="27">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar27}" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Source={StaticResource AvatarImageIndex}}" Value="28">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar28}" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Source={StaticResource AvatarImageIndex}}" Value="29">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar29}" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Source={StaticResource AvatarImageIndex}}" Value="30">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar30}" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Source={StaticResource AvatarImageIndex}}" Value="31">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar31}" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Source={StaticResource AvatarImageIndex}}" Value="32">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar32}" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Source={StaticResource AvatarImageIndex}}" Value="33">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar33}" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Source={StaticResource AvatarImageIndex}}" Value="34">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar34}" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Source={StaticResource AvatarImageIndex}}" Value="35">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar35}" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Source={StaticResource AvatarImageIndex}}" Value="36">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar36}" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Source={StaticResource AvatarImageIndex}}" Value="37">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar37}" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Source={StaticResource AvatarImageIndex}}" Value="38">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar38}" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Source={StaticResource AvatarImageIndex}}" Value="39">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar39}" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Source={StaticResource AvatarImageIndex}}" Value="40">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar40}" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Source={StaticResource AvatarImageIndex}}" Value="41">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar41}" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Border.Style>
                                </Border>

                                <TextBlock x:Name="ProfilePicturePath"
                                           Tag="{Api Paths.ConfigurationPath}"
                                           Visibility="Collapsed">
                                    <TextBlock.Style>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="Text">
                                                <Setter.Value>
                                                    <MultiBinding StringFormat="{}{0}\ExtraMetadata\Themes\Common\ProfilePicture.png">
                                                        <Binding Path="Tag" RelativeSource="{RelativeSource Self}"/>
                                                    </MultiBinding>
                                                </Setter.Value>
                                            </Setter>
                                        </Style>
                                    </TextBlock.Style>
                                </TextBlock>

                                <Image x:Name="UserAvatar"
                                       Source="{Binding ElementName=ProfilePicturePath, Path=Text}"
                                       Stretch="UniformToFill"
                                       RenderOptions.BitmapScalingMode="Fant"
                                       Width="120" Height="120"/>

                                <Border BorderBrush="{DynamicResource TextColorDarkBrush}" BorderThickness="2" Margin="-1" Width="120" Height="120"/>
                            </Grid>

                            <!-- LEVEL + NEXT LEVEL -->
                            <Grid Grid.Column="1"
                                  Margin="0,28,24,0"
                                  VerticalAlignment="Top"
                                  HorizontalAlignment="Left">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <!-- Ligne 1 -->
                                <Grid Grid.Row="0" VerticalAlignment="Center">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="10"/>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="8"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>

                                    <Border Grid.Column="0" Width="60" Height="60" ClipToBounds="True">
                                        <StackPanel>
                                            <Image Height="60" RenderOptions.BitmapScalingMode="Fant" VerticalAlignment="Center" Source="{ThemeFile 'Images/UserLevel/Bronze1.png'}" HorizontalAlignment="Center">
                                                <Image.Style>
                                                    <Style TargetType="Image">
                                                        <Setter Property="Visibility" Value="Collapsed" />
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{PluginSettings Plugin=SSHelper, Path=GSRank}" Value="Bronze1">
                                                                <Setter Property="Visibility" Value="Visible" />
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </Image.Style>
                                            </Image>
                                            <Image Height="60" RenderOptions.BitmapScalingMode="Fant" VerticalAlignment="Center" Source="{ThemeFile 'Images/UserLevel/Bronze2.png'}" HorizontalAlignment="Center">
                                                <Image.Style>
                                                    <Style TargetType="Image">
                                                        <Setter Property="Visibility" Value="Collapsed" />
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{PluginSettings Plugin=SSHelper, Path=GSRank}" Value="Bronze2">
                                                                <Setter Property="Visibility" Value="Visible" />
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </Image.Style>
                                            </Image>

                                            <Image Height="60" RenderOptions.BitmapScalingMode="Fant" VerticalAlignment="Center" Source="{ThemeFile 'Images/UserLevel/Bronze3.png'}" HorizontalAlignment="Center">
                                                <Image.Style>
                                                    <Style TargetType="Image">
                                                        <Setter Property="Visibility" Value="Collapsed" />
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{PluginSettings Plugin=SSHelper, Path=GSRank}" Value="Bronze3">
                                                                <Setter Property="Visibility" Value="Visible" />
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </Image.Style>
                                            </Image>
                                            <Image Height="60" RenderOptions.BitmapScalingMode="Fant" VerticalAlignment="Center" Source="{ThemeFile 'Images/UserLevel/Silver1.png'}" HorizontalAlignment="Center">
                                                <Image.Style>
                                                    <Style TargetType="Image">
                                                        <Setter Property="Visibility" Value="Collapsed" />
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{PluginSettings Plugin=SSHelper, Path=GSRank}" Value="Silver1">
                                                                <Setter Property="Visibility" Value="Visible" />
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </Image.Style>
                                            </Image>
                                            <Image Height="60" RenderOptions.BitmapScalingMode="Fant" VerticalAlignment="Center" Source="{ThemeFile 'Images/UserLevel/Silver2.png'}" HorizontalAlignment="Center">
                                                <Image.Style>
                                                    <Style TargetType="Image">
                                                        <Setter Property="Visibility" Value="Collapsed" />
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{PluginSettings Plugin=SSHelper, Path=GSRank}" Value="Silver2">
                                                                <Setter Property="Visibility" Value="Visible" />
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </Image.Style>
                                            </Image>
                                            <Image Height="60" RenderOptions.BitmapScalingMode="Fant" VerticalAlignment="Center" Source="{ThemeFile 'Images/UserLevel/Silver3.png'}" HorizontalAlignment="Center">
                                                <Image.Style>
                                                    <Style TargetType="Image">
                                                        <Setter Property="Visibility" Value="Collapsed" />
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{PluginSettings Plugin=SSHelper, Path=GSRank}" Value="Silver3">
                                                                <Setter Property="Visibility" Value="Visible" />
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </Image.Style>
                                            </Image>

                                            <Image Height="60" RenderOptions.BitmapScalingMode="Fant" VerticalAlignment="Center" Source="{ThemeFile 'Images/UserLevel/Gold1.png'}" HorizontalAlignment="Center">
                                                <Image.Style>
                                                    <Style TargetType="Image">
                                                        <Setter Property="Visibility" Value="Collapsed" />
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{PluginSettings Plugin=SSHelper, Path=GSRank}" Value="Gold1">
                                                                <Setter Property="Visibility" Value="Visible" />
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </Image.Style>
                                            </Image>

                                            <Image Height="60" RenderOptions.BitmapScalingMode="Fant" VerticalAlignment="Center" Source="{ThemeFile 'Images/UserLevel/Gold2.png'}" HorizontalAlignment="Center">
                                                <Image.Style>
                                                    <Style TargetType="Image">
                                                        <Setter Property="Visibility" Value="Collapsed" />
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{PluginSettings Plugin=SSHelper, Path=GSRank}" Value="Gold2">
                                                                <Setter Property="Visibility" Value="Visible" />
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </Image.Style>
                                            </Image>
                                            <Image Height="60" RenderOptions.BitmapScalingMode="Fant" VerticalAlignment="Center" Source="{ThemeFile 'Images/UserLevel/Gold3.png'}" HorizontalAlignment="Center">
                                                <Image.Style>
                                                    <Style TargetType="Image">
                                                        <Setter Property="Visibility" Value="Collapsed" />
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{PluginSettings Plugin=SSHelper, Path=GSRank}" Value="Gold3">
                                                                <Setter Property="Visibility" Value="Visible" />
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </Image.Style>
                                            </Image>
                                            <Image Height="60" RenderOptions.BitmapScalingMode="Fant" VerticalAlignment="Center" Source="{ThemeFile 'Images/UserLevel/Plat1.png'}" HorizontalAlignment="Center">
                                                <Image.Style>
                                                    <Style TargetType="Image">
                                                        <Setter Property="Visibility" Value="Collapsed" />
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{PluginSettings Plugin=SSHelper, Path=GSRank}" Value="Plat1">
                                                                <Setter Property="Visibility" Value="Visible" />
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </Image.Style>
                                            </Image>
                                            <Image Height="60" RenderOptions.BitmapScalingMode="Fant" VerticalAlignment="Center" Source="{ThemeFile 'Images/UserLevel/Plat2.png'}" HorizontalAlignment="Center">
                                                <Image.Style>
                                                    <Style TargetType="Image">
                                                        <Setter Property="Visibility" Value="Collapsed" />
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{PluginSettings Plugin=SSHelper, Path=GSRank}" Value="Plat2">
                                                                <Setter Property="Visibility" Value="Visible" />
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </Image.Style>
                                            </Image>
                                            <Image Height="60" RenderOptions.BitmapScalingMode="Fant" VerticalAlignment="Center" Source="{ThemeFile 'Images/UserLevel/Plat3.png'}" HorizontalAlignment="Center">
                                                <Image.Style>
                                                    <Style TargetType="Image">
                                                        <Setter Property="Visibility" Value="Collapsed" />
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{PluginSettings Plugin=SSHelper, Path=GSRank}" Value="Plat3">
                                                                <Setter Property="Visibility" Value="Visible" />
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </Image.Style>
                                            </Image>
                                            <Image Height="60" RenderOptions.BitmapScalingMode="Fant" VerticalAlignment="Center" Source="{ThemeFile 'Images/UserLevel/Plat.png'}" HorizontalAlignment="Center">
                                                <Image.Style>
                                                    <Style TargetType="Image">
                                                        <Setter Property="Visibility" Value="Collapsed" />
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{PluginSettings Plugin=SSHelper, Path=GSRank}" Value="Plat">
                                                                <Setter Property="Visibility" Value="Visible" />
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </Image.Style>
                                            </Image>
                                        </StackPanel>
                                        <Border.Effect>
                                            <DropShadowEffect Color="Black" ShadowDepth="0" Opacity="0.4" />
                                        </Border.Effect>
                                    </Border>

                                    <TextBlock Grid.Column="2"
                                               Text="{DynamicResource LOCLevel}"
                                               FontSize="36"
                                               FontWeight="Bold"
                                               Style="{DynamicResource TextBlockBaseStyle}"
                                               VerticalAlignment="Center"/>

                                    <TextBlock Grid.Column="4"
                                               Text="{PluginSettings Plugin=SSHelper, Path=GSLevel}"
                                               FontSize="36"
                                               FontWeight="Bold"
                                               Style="{DynamicResource TextBlockBaseStyle}"
                                               VerticalAlignment="Center"/>
                                </Grid>

                                <!-- Ligne 2 -->
                                <TextBlock Grid.Row="1"
                                           Text="{DynamicResource LOCNextLevel}"
                                           FontSize="18"
                                           Style="{DynamicResource TextBlockBaseStyle}"
                                           Margin="0,6,0,0"
                                           VerticalAlignment="Center"/>

                                <!-- Ligne 3 -->
                                <Grid Grid.Row="2" Margin="0,4,0,0" VerticalAlignment="Center">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="220"/>
                                        <ColumnDefinition Width="8"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>

                                    <ProgressBar Grid.Column="0"
                                                 Value="{PluginSettings Plugin=SSHelper, Path=GSLevelProgress}"
                                                 Minimum="0" Maximum="100"
                                                 Height="8"
                                                 BorderThickness="0"
                                                 Foreground="#FFCD31"
                                                 VerticalAlignment="Center"/>

                                    <TextBlock Grid.Column="2"
                                               Text="{PluginSettings Plugin=SSHelper, Path=GSLevelProgress, StringFormat={}{0}%}"
                                               FontSize="18"
                                               Style="{DynamicResource TextBlockBaseStyle}"
                                               VerticalAlignment="Center"/>
                                </Grid>
                            </Grid>

                            <!-- TITRE -->
                            <TextBlock Grid.Column="2"
                                       HorizontalAlignment="Center"
                                       VerticalAlignment="Center"
                                       Margin="0,0,0,4"
                                       FontSize="34"
                                       Typography.Capitals="AllSmallCaps"
                                       FontWeight="Bold">
                                <TextBlock.Style>
                                    <Style TargetType="TextBlock" BasedOn="{StaticResource TextBlockBaseStyle}">
                                        <Setter Property="Text" Value="{DynamicResource LOCListAchievement}" />
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding ElementName=FriendsAchievementsScroll, Path=Visibility}"	Value="Visible">
                                                <Setter Property="Text"	Value="{DynamicResource LOCFriendsListAchievement}" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding ElementName=PlatineList, Path=Visibility}" Value="Visible">
                                                <Setter Property="Text"	Value="{DynamicResource LOCPlatineListAchievement}" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </TextBlock.Style>
                            </TextBlock>


                            <!-- STATS TROPHEES -->

                            <Grid Grid.Column="3"
                                  Margin="0,120,150,0"
                                  VerticalAlignment="Top"
                                  HorizontalAlignment="Right">

                                <StackPanel Orientation="Horizontal" Margin="0,6,0,0">

                                    <!-- Platine -->
                                    <StackPanel Orientation="Horizontal"
                                                Margin="0,0,24,0"
                                                VerticalAlignment="Center">
                                        <Image Source="{ThemeFile 'Images/platinum.png'}"
                                               Width="30" Height="30"
                                               Margin="0,0,6,0"
                                               RenderOptions.BitmapScalingMode="Fant"/>
                                        <TextBlock Text="{PluginSettings Plugin=SSHelper, Path=GSPlat}"
                                                   FontSize="22"
                                                   Style="{DynamicResource TextBlockBaseStyle}"
                                                   VerticalAlignment="Center"/>
                                    </StackPanel>

                                    <!-- Or -->
                                    <StackPanel Orientation="Horizontal"
                                                Margin="0,0,24,0"
                                                VerticalAlignment="Center">
                                        <Image Source="{ThemeFile 'Images/Or.png'}"
                                               Width="30" Height="30"
                                               Margin="0,0,6,0"
                                               RenderOptions.BitmapScalingMode="Fant"/>
                                        <TextBlock Text="{PluginSettings Plugin=SSHelper, Path=GS90}"
                                                   FontSize="22"
                                                   Style="{DynamicResource TextBlockBaseStyle}"
                                                   VerticalAlignment="Center"/>
                                    </StackPanel>

                                    <!-- Argent -->
                                    <StackPanel Orientation="Horizontal"
                                                Margin="0,0,24,0"
                                                VerticalAlignment="Center">
                                        <Image Source="{ThemeFile 'Images/Argent.png'}"
                                               Width="30" Height="30"
                                               Margin="0,0,6,0"
                                               RenderOptions.BitmapScalingMode="Fant"/>
                                        <TextBlock Text="{PluginSettings Plugin=SSHelper, Path=GS30}"
                                                   FontSize="22"
                                                   Style="{DynamicResource TextBlockBaseStyle}"
                                                   VerticalAlignment="Center"/>
                                    </StackPanel>

                                    <!-- Bronze -->
                                    <StackPanel Orientation="Horizontal"
                                                VerticalAlignment="Center">
                                        <Image Source="{ThemeFile 'Images/Bronze.png'}"
                                               Width="30" Height="30"
                                               Margin="0,0,6,0"
                                               RenderOptions.BitmapScalingMode="Fant"/>
                                        <TextBlock Text="{PluginSettings Plugin=SSHelper, Path=GS15}"
                                                   FontSize="22"
                                                   Style="{DynamicResource TextBlockBaseStyle}"
                                                   VerticalAlignment="Center"/>
                                    </StackPanel>

                                </StackPanel>
                            </Grid>

                        </Grid>

                        <StackPanel Orientation="Vertical">
                            <!--Trophée Change button -->
                            <CheckBoxEx x:Name="SortButton"
                                        Margin="20,200,0,0"
                                        Width="60"
                                        Height="60"
                                        HorizontalAlignment="Left"
                                        VerticalAlignment="Top"
                                        Focusable="True"
                                        Style="{StaticResource TrophViewButton}" />

                            <!-- Friends achievements button -->
                            <CheckBoxEx x:Name="FriendsButton"
                                        Margin="20,20,0,0"
                                        Width="60"
                                        Height="60"
                                        HorizontalAlignment="Left"
                                        VerticalAlignment="Top"
                                        Focusable="True"
                                        Content="F">
                                <CheckBoxEx.Style>
                                    <Style TargetType="CheckBoxEx"
                                           BasedOn="{StaticResource FriendTrophViewButton}">
                                        <Style.Triggers>

                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{PluginStatus Plugin=FriendsAchievementFeed, Status=Installed}" Value="True"/>
                                                    <Condition Binding="{PluginStatus Plugin=FriendsAchievementFeedFullscreenCompanion_9fc60469-d8db-4dec-b5c8-65b4b5a88123, Status=Installed}" Value="True"/>
                                                </MultiDataTrigger.Conditions>
                                                <Setter Property="Visibility" Value="Visible"/>
                                            </MultiDataTrigger>

                                        </Style.Triggers>
                                    </Style>
                                </CheckBoxEx.Style>

                            </CheckBoxEx>
                        </StackPanel>

                        <!-- Liste des Trophées -->
                        <ListView x:Name="AchievementsList"
                                  ItemsSource="{PluginSettings Plugin=SSHelper, Path=AllGamesWithAchievements}"
                                  VerticalAlignment="Center"
                                  HorizontalAlignment="Center"
                                  Background="Transparent"
                                  BorderThickness="0"
                                  Height="780"
                                  Margin="0,150,0,0"
                                  BorderBrush="Transparent"
                                  FocusVisualStyle="{x:Null}"
                                  ScrollViewer.CanContentScroll="True"
                                  VirtualizingPanel.ScrollUnit="Item"
                                  SnapsToDevicePixels="True"
                                  UseLayoutRounding="True"
                                  KeyboardNavigation.DirectionalNavigation="Once"
                                  KeyboardNavigation.TabNavigation="Once"
                                  KeyboardNavigation.ControlTabNavigation="Once"
                                  VirtualizingPanel.IsVirtualizing="True"
                                  VirtualizingPanel.VirtualizationMode="Recycling"
                                  VirtualizingPanel.CacheLength="2"
                                  VirtualizingPanel.CacheLengthUnit="Item"
                                  TextOptions.TextRenderingMode="Auto"
                                  ScrollViewer.HorizontalScrollBarVisibility="Disabled">
                            <ListView.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <VirtualizingStackPanel/>
                                </ItemsPanelTemplate>
                            </ListView.ItemsPanel>


                            <ListView.ItemContainerStyle>
                                <Style TargetType="ListViewItem">
                                    <Setter Property="FocusVisualStyle" Value="{x:Null}" />
                                    <Setter Property="Focusable" Value="False" />
                                    <Setter Property="Template">
                                        <Setter.Value>
                                            <ControlTemplate TargetType="ListViewItem">
                                                <ButtonEx Command="{Binding OpenAchievementWindow}" Style="{DynamicResource ButtonTrophyviewitem}" Focusable="True" Margin="0,0,0,5">
                                                    <Grid Margin="0,0,0,0" Height="150" Width="1600">
                                                        <Border x:Name="MainBorder"
                                                                CornerRadius="5"
                                                                Background="{DynamicResource SuccessMainBackground}"
                                                                BorderThickness="3"
                                                                BorderBrush="Transparent">
                                                            <Grid>
                                                                <Grid.ColumnDefinitions>
                                                                    <ColumnDefinition Width="*"/>
                                                                    <ColumnDefinition Width="Auto"/>
                                                                </Grid.ColumnDefinitions>
                                                                <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center" Margin="10,0,0,0">
                                                                    <!-- Cover -->
                                                                    <Grid Margin="6">
                                                                        <!-- Cover arrondie -->
                                                                        <Border CornerRadius="8" ClipToBounds="True">
                                                                            <Image Source="{Binding CoverImagePath}"
                                                                                   Stretch="UniformToFill"
                                                                                   RenderOptions.BitmapScalingMode="Fant"/>
                                                                        </Border>







                                                                    </Grid>

                                                                    <!-- Infos jeu -->
                                                                    <StackPanel  Orientation="Vertical" VerticalAlignment="Center" Margin="10,0,0,0">
                                                                        <!-- Nom -->
                                                                        <TextBlock Text="{Binding Name}"
                                                                                   HorizontalAlignment="Left"
                                                                                   TextTrimming="CharacterEllipsis"
                                                                                   TextWrapping="Wrap"
                                                                                   MaxWidth="1000">
                                                                            <TextBlock.Style>
                                                                                <Style TargetType="TextBlock" BasedOn="{StaticResource TextBlockBaseStyle}">
                                                                                    <Setter Property="Foreground" Value="{DynamicResource TextColorDarkBrush}"/>
                                                                                    <Setter Property="Opacity" Value="0.8"/>
                                                                                    <Setter Property="FontSize" Value="30"/>
                                                                                    <Setter Property="FontWeight" Value="Regular"/>
                                                                                    <!-- jeux non focus -->
                                                                                    <Style.Triggers>
                                                                                        <DataTrigger Binding="{Binding IsKeyboardFocusWithin, RelativeSource={RelativeSource AncestorType=ListViewItem}}" Value="True">
                                                                                            <Setter Property="Foreground" Value="{DynamicResource TextColorDarkBrush}"/>
                                                                                            <Setter Property="Opacity" Value="1"/>
                                                                                            <Setter Property="FontSize" Value="32"/>
                                                                                            <Setter Property="FontWeight" Value="SemiBold"/>
                                                                                        </DataTrigger>
                                                                                    </Style.Triggers>
                                                                                </Style>
                                                                            </TextBlock.Style>
                                                                        </TextBlock>
                                                                        <!-- Badge -->
                                                                        <Border Background="{DynamicResource BadgeTrophéeBrush}"
                                                                                Margin="0,6,0,0"
                                                                                Padding="12,3"
                                                                                CornerRadius="12"
                                                                                HorizontalAlignment="Left">
                                                                            <TextBlock Text="{Binding Platform}"
                                                                                       Style="{DynamicResource TextBlockBaseStyle}"
                                                                                       FontSize="20"
                                                                                       FontWeight="SemiBold"
                                                                                       HorizontalAlignment="Center"
                                                                                       VerticalAlignment="Center"/>
                                                                        </Border>
                                                                    </StackPanel>
                                                                </StackPanel>

                                                                <!-- Trophées + progression -->
                                                                <Grid Grid.Column="1" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,0,20,0">
                                                                    <Grid.ColumnDefinitions>
                                                                        <!-- Pourcentage + barre -->
                                                                        <ColumnDefinition Width="Auto"/>
                                                                        <ColumnDefinition Width="20"/>
                                                                        <!-- espace -->
                                                                        <!-- Or -->
                                                                        <ColumnDefinition Width="Auto"/>
                                                                        <ColumnDefinition Width="Auto"/>
                                                                        <!-- Argent -->
                                                                        <ColumnDefinition Width="Auto"/>
                                                                        <ColumnDefinition Width="Auto"/>
                                                                        <!-- Bronze -->
                                                                        <ColumnDefinition Width="Auto"/>
                                                                        <ColumnDefinition Width="Auto"/>
                                                                    </Grid.ColumnDefinitions>

                                                                    <StackPanel Grid.Column="0" Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center">

                                                                        <!-- Platine -->
                                                                        <Image Source="{ThemeFile 'Images/platinum.png'}" RenderOptions.BitmapScalingMode="Fant" Margin="0,0,10,0" Width="48" Height="48" VerticalAlignment="Center">
                                                                            <Image.Style>
                                                                                <Style TargetType="Image">
                                                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                                                    <Style.Triggers>
                                                                                        <DataTrigger Binding="{Binding ElementName=Progression, Path=Text}" Value="100%">
                                                                                            <Setter Property="Visibility" Value="Visible"/>
                                                                                        </DataTrigger>
                                                                                    </Style.Triggers>
                                                                                </Style>
                                                                            </Image.Style>
                                                                        </Image>

                                                                        <!-- % + Barre -->
                                                                        <StackPanel Grid.Column="0" Orientation="Vertical" HorizontalAlignment="Right" VerticalAlignment="Center">
                                                                            <TextBlock x:Name="Progression"
                                                                                       Text="{Binding Progress, StringFormat={}{0}%}"
                                                                                       Style="{DynamicResource TextBlockBaseStyle}"
                                                                                       Foreground="{DynamicResource TextColorDarkBrush}"
                                                                                       FontSize="28"
                                                                                       HorizontalAlignment="Right"/>
                                                                            <ProgressBar Value="{Binding Progress}"
                                                                                         Height="10"
                                                                                         Minimum="0"
                                                                                         Maximum="100"
                                                                                         Foreground="#FFCD31"
                                                                                         Background="#333"
                                                                                         BorderBrush="Transparent"
                                                                                         Margin="0,4,0,0"
                                                                                         Width="90"
                                                                                         HorizontalAlignment="Right"/>
                                                                        </StackPanel>
                                                                    </StackPanel>

                                                                    <!-- Or -->
                                                                    <Image Grid.Column="2" Source="{ThemeFile 'Images/Or.png'}" RenderOptions.BitmapScalingMode="Fant" Width="40" Height="40" Margin="20,0,0,0" VerticalAlignment="Center"/>
                                                                    <TextBlock Grid.Column="3" Text="{Binding GS90Count}" Style="{DynamicResource TextBlockBaseStyle}" Foreground="{DynamicResource TextColorDarkBrush}" FontSize="26" Margin="8,0,0,0" MinWidth="28" VerticalAlignment="Center"/>

                                                                    <!-- Argent -->
                                                                    <Image Grid.Column="4" Source="{ThemeFile 'Images/Argent.png'}" RenderOptions.BitmapScalingMode="Fant" Width="40" Height="40" Margin="20,0,0,0" VerticalAlignment="Center"/>
                                                                    <TextBlock Grid.Column="5" Text="{Binding GS30Count}" Style="{DynamicResource TextBlockBaseStyle}" Foreground="{DynamicResource TextColorDarkBrush}"  FontSize="26" Margin="8,0,0,0" MinWidth="28" VerticalAlignment="Center"/>

                                                                    <!-- Bronze -->
                                                                    <Image Grid.Column="6" Source="{ThemeFile 'Images/Bronze.png'}" RenderOptions.BitmapScalingMode="Fant" Width="40" Height="40" Margin="20,0,0,0" VerticalAlignment="Center"/>
                                                                    <TextBlock Grid.Column="7" Text="{Binding GS15Count}" Style="{DynamicResource TextBlockBaseStyle}" Foreground="{DynamicResource TextColorDarkBrush}"  FontSize="26" Margin="8,0,0,0" MinWidth="28" VerticalAlignment="Center"/>
                                                                </Grid>


                                                            </Grid>

                                                        </Border>
                                                        <!-- Separator -->
                                                        <Border x:Name="Separator" Height="1" Margin="80,0,80,-1"  Background="#22FFFFFF" HorizontalAlignment="Stretch" VerticalAlignment="Bottom"/>
                                                    </Grid>
                                                </ButtonEx>
                                                <ControlTemplate.Triggers>
                                                    <Trigger Property="IsFocused" Value="True">
                                                        <Setter TargetName="Separator" Property="Visibility" Value="Collapsed"/>
                                                    </Trigger>
                                                </ControlTemplate.Triggers>
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>
                                </Style>
                            </ListView.ItemContainerStyle>

                            <ListView.Style>
                                <Style TargetType="ListView">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding ElementName=SortButton, Path=IsChecked}" Value="True">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding ElementName=FriendsButton, Path=IsChecked}" Value="True">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </DataTrigger>

                                    </Style.Triggers>
                                </Style>
                            </ListView.Style>


                        </ListView>
                        <!-- Liste des Platines -->
                        <ListView x:Name="PlatineList"
                                  ItemsSource="{PluginSettings Plugin=SSHelper, Path=PlatinumGames}"
                                  VerticalAlignment="Center"
                                  HorizontalAlignment="Center"
                                  Background="Transparent"
                                  BorderThickness="0"
                                  Height="780"
                                  Margin="0,150,0,0"
                                  BorderBrush="Transparent"
                                  FocusVisualStyle="{x:Null}"
                                  ScrollViewer.CanContentScroll="True"
                                  VirtualizingPanel.ScrollUnit="Item"
                                  SnapsToDevicePixels="True"
                                  UseLayoutRounding="True"
                                  KeyboardNavigation.DirectionalNavigation="Continue"
                                  KeyboardNavigation.TabNavigation="Continue"
                                  KeyboardNavigation.ControlTabNavigation="Continue"
                                  VirtualizingPanel.IsVirtualizing="True"
                                  VirtualizingPanel.VirtualizationMode="Recycling"
                                  VirtualizingPanel.CacheLength="2"
                                  VirtualizingPanel.CacheLengthUnit="Item"
                                  TextOptions.TextRenderingMode="Auto"
                                  ScrollViewer.HorizontalScrollBarVisibility="Disabled">
                            <ListView.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <VirtualizingStackPanel/>
                                </ItemsPanelTemplate>
                            </ListView.ItemsPanel>

                            <ListView.ItemContainerStyle>
                                <Style TargetType="ListViewItem">
                                    <Setter Property="FocusVisualStyle" Value="{x:Null}" />
                                    <Setter Property="Focusable" Value="False" />
                                    <Setter Property="Template">
                                        <Setter.Value>
                                            <ControlTemplate TargetType="ListViewItem">
                                                <ButtonEx Command="{Binding OpenAchievementWindow}" Style="{DynamicResource ButtonTrophyviewitem}" Focusable="True" Margin="0,0,0,5">
                                                    <Grid Margin="0,0,0,0" Height="150" Width="1600">
                                                        <Border x:Name="MainBorder"
                                                                CornerRadius="5"
                                                                Background="{DynamicResource SuccessMainBackground}"
                                                                BorderThickness="3"
                                                                BorderBrush="Transparent">
                                                            <Grid>
                                                                <Grid.ColumnDefinitions>
                                                                    <ColumnDefinition Width="*"/>
                                                                    <ColumnDefinition Width="Auto"/>
                                                                </Grid.ColumnDefinitions>



                                                                <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center" Margin="10,0,0,0">

                                                                    <!-- Jaquette -->
                                                                    <Border CornerRadius="8" Padding="2" ClipToBounds="True">
                                                                        <Image Source="{Binding CoverImagePath}"
                                                                               Stretch="UniformToFill"
                                                                               RenderOptions.BitmapScalingMode="Fant"/>
                                                                    </Border>

                                                                    <!-- Infos jeu -->
                                                                    <StackPanel  Orientation="Vertical" VerticalAlignment="Center" Margin="10,0,0,0">
                                                                        <!-- Nom -->
                                                                        <TextBlock Text="{Binding Name}"
                                                                                   HorizontalAlignment="Left"
                                                                                   TextTrimming="CharacterEllipsis"
                                                                                   TextWrapping="Wrap"
                                                                                   MaxWidth="1000">
                                                                            <TextBlock.Style>
                                                                                <Style TargetType="TextBlock" BasedOn="{StaticResource TextBlockBaseStyle}">
                                                                                    <Setter Property="Foreground" Value="{DynamicResource TextColorDarkBrush}"/>
                                                                                    <Setter Property="Opacity" Value="0.8"/>
                                                                                    <Setter Property="FontSize" Value="30"/>
                                                                                    <Setter Property="FontWeight" Value="Regular"/>
                                                                                    <!-- jeux non focus -->
                                                                                    <Style.Triggers>
                                                                                        <DataTrigger Binding="{Binding IsKeyboardFocusWithin, RelativeSource={RelativeSource AncestorType=ListViewItem}}" Value="True">
                                                                                            <Setter Property="Foreground" Value="{DynamicResource TextColorDarkBrush}"/>
                                                                                            <Setter Property="Opacity" Value="1"/>
                                                                                            <Setter Property="FontSize" Value="32"/>
                                                                                            <Setter Property="FontWeight" Value="SemiBold"/>
                                                                                        </DataTrigger>
                                                                                    </Style.Triggers>
                                                                                </Style>
                                                                            </TextBlock.Style>
                                                                        </TextBlock>
                                                                        <!-- Badge -->
                                                                        <Border Background="{DynamicResource BadgeTrophéeBrush}"
                                                                                Margin="0,6,0,0"
                                                                                Padding="12,3"
                                                                                CornerRadius="12"
                                                                                HorizontalAlignment="Left">
                                                                            <TextBlock Text="{Binding Platform}"
                                                                                       Foreground="White"
                                                                                       FontSize="20"
                                                                                       FontWeight="SemiBold"
                                                                                       HorizontalAlignment="Center"
                                                                                       VerticalAlignment="Center"/>
                                                                        </Border>
                                                                    </StackPanel>
                                                                </StackPanel>

                                                                <Grid Grid.Column="1" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,0,60,0">

                                                                    <StackPanel Orientation="Horizontal">

                                                                        <StackPanel Orientation="Vertical">
                                                                            <TextBlock HorizontalAlignment="Right" Text="{Binding LatestUnlocked, StringFormat='{}{0:d MMMM yyyy}'}" Style="{DynamicResource TextBlockBaseStyle}" FontSize="26" Foreground="{DynamicResource TextColorDarkBrush}"/>
                                                                            <TextBlock HorizontalAlignment="Right" Text="{Binding LatestUnlocked, StringFormat='{}{0:HH:mm}'}" Style="{DynamicResource TextBlockBaseStyle}" FontSize="26" Foreground="{DynamicResource TextColorDarkBrush}"/>
                                                                        </StackPanel>
                                                                        <Image Grid.Column="2" Margin="10,0,0,0" RenderOptions.BitmapScalingMode="Fant" Source="{ThemeFile 'Images/platinum.png'}" Width="48" Height="48" VerticalAlignment="Center"/>

                                                                    </StackPanel>
                                                                </Grid>

                                                            </Grid>

                                                        </Border>
                                                        <!-- Separator -->
                                                        <Border x:Name="Separator" Height="1" Margin="80,0,80,-1"  Background="#22FFFFFF" HorizontalAlignment="Stretch" VerticalAlignment="Bottom"/>
                                                    </Grid>
                                                </ButtonEx>

                                                <!-- Triggers -->
                                                <ControlTemplate.Triggers>
                                                    <Trigger Property="IsFocused" Value="True">
                                                        <Setter TargetName="Separator" Property="Visibility" Value="Collapsed"/>
                                                    </Trigger>
                                                </ControlTemplate.Triggers>
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>
                                </Style>
                            </ListView.ItemContainerStyle>

                            <ListView.Style>
                                <Style TargetType="ListView">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding ElementName=SortButton, Path=IsChecked}" Value="False">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding ElementName=FriendsButton, Path=IsChecked}" Value="True">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </DataTrigger>

                                    </Style.Triggers>
                                </Style>
                            </ListView.Style>


                        </ListView>
                        <!-- Liste des trophées des amis -->
                        <ScrollViewer x:Name="FriendsAchievementsScroll"
                                      VerticalAlignment="Center"
                                      HorizontalAlignment="Center"
                                      Height="780"
                                      Margin="0,150,0,0"
                                      Background="Transparent"
                                      HorizontalScrollBarVisibility="Disabled"
                                      VerticalScrollBarVisibility="Hidden"
                                      CanContentScroll="True"
                                      FocusVisualStyle="{x:Null}"
                                      Focusable="False"
                                      IsTabStop="False"
                                      KeyboardNavigation.IsTabStop="False"
                                      KeyboardNavigation.TabNavigation="Continue"
                                      KeyboardNavigation.ControlTabNavigation="Continue"
                                      KeyboardNavigation.DirectionalNavigation="Continue">

                            <ScrollViewer.Style>
                                <Style TargetType="ScrollViewer">
                                    <Setter Property="Visibility" Value="Collapsed"/>
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding ElementName=FriendsButton, Path=IsChecked}" Value="True">
                                            <Setter Property="Visibility" Value="Visible"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </ScrollViewer.Style>

                            <ItemsControl x:Name="FriendsAchievementsList"
                                          ItemsSource="{PluginSettings Plugin=FriendsAchievementFeedFullscreenCompanion, Path=FriendGroups}"
                                          Background="Transparent"
                                          FocusVisualStyle="{x:Null}"
                                          Focusable="False"
                                          IsTabStop="False"
                                          KeyboardNavigation.IsTabStop="False"
                                          KeyboardNavigation.TabNavigation="Continue"
                                          KeyboardNavigation.ControlTabNavigation="Continue"
                                          KeyboardNavigation.DirectionalNavigation="Continue">

                                <ItemsControl.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <VirtualizingStackPanel/>
                                    </ItemsPanelTemplate>
                                </ItemsControl.ItemsPanel>

                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <Grid Width="1600" Margin="0,0,0,8">

                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="2"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>

                                            <!-- ESCAPE invisible button : permet de sortir de la liste et revenir sur FriendsButton -->
                                            <ButtonEx Opacity="1"
                                                      Width="1"
                                                      Height="1"
                                                      Margin="0,0,0,0"
                                                      Padding="0"
                                                      Grid.Column="0"
                                                      VerticalAlignment="Center"
                                                      HorizontalAlignment="Left"
                                                      Background="Red"
                                                      BorderThickness="0"
                                                      Focusable="True"
                                                      IsTabStop="True"
                                                      KeyboardNavigation.DirectionalNavigation="Once"
                                                      KeyboardNavigation.TabNavigation="Once"
                                                      KeyboardNavigation.ControlTabNavigation="Once"
                                                      FocusManager.FocusedElement="{Binding ElementName=FriendsButton}" />

                                            <!-- Ton contenu normal (header + items) -->
                                            <StackPanel Grid.Column="1">
                                                <CheckBoxEx x:Name="HeaderToggle"
                                                            Style="{DynamicResource ButtonFriendTrophy}"
                                                            IsChecked="{Binding IsExpanded}"
                                                            Focusable="True"
                                                            IsTabStop="True"
                                                            Background="Transparent"
                                                            BorderThickness="0"
                                                            Padding="0"
                                                            Width="1580"
                                                            HorizontalContentAlignment="Stretch"
                                                            VerticalContentAlignment="Stretch"
                                                            KeyboardNavigation.DirectionalNavigation="Continue"
                                                            KeyboardNavigation.TabNavigation="Continue"
                                                            KeyboardNavigation.ControlTabNavigation="Continue">

                                                    <Grid Height="150" Width="1580">
                                                        <Border x:Name="HeaderMainBorder"
                                                                CornerRadius="10"
                                                                Background="{DynamicResource SuccessMainBackground}"
                                                                BorderThickness="3"
                                                                BorderBrush="Transparent"
                                                                SnapsToDevicePixels="True">

                                                            <Grid>
                                                                <Grid.ColumnDefinitions>
                                                                    <ColumnDefinition Width="120"/>
                                                                    <ColumnDefinition Width="*"/>
                                                                    <ColumnDefinition Width="Auto"/>
                                                                </Grid.ColumnDefinitions>

                                                                <!-- subtle gradient overlay -->
                                                                <Border CornerRadius="10" Opacity="0.55" IsHitTestVisible="False">
                                                                    <Border.Background>
                                                                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                                                            <GradientStop Color="#20FFFFFF" Offset="0"/>
                                                                            <GradientStop Color="#00FFFFFF" Offset="0.45"/>
                                                                            <GradientStop Color="#12000000" Offset="1"/>
                                                                        </LinearGradientBrush>
                                                                    </Border.Background>
                                                                </Border>

                                                                <!-- AVATAR -->
                                                                <Grid Grid.Column="0" Margin="16,0,0,0" VerticalAlignment="Center">

                                                                    <Border Width="92"
                                                                            Height="92"
                                                                            CornerRadius="15"
                                                                            Background="#22000000"
                                                                            BorderBrush="#22FFFFFF"
                                                                            BorderThickness="1"
                                                                            SnapsToDevicePixels="True">

                                                                        <Border.Clip>
                                                                            <RectangleGeometry Rect="0,0,92,92" RadiusX="15" RadiusY="15"/>
                                                                        </Border.Clip>

                                                                        <Image Source="{Binding FriendAvatarPath}"
                                                                               Stretch="UniformToFill"
                                                                               RenderOptions.BitmapScalingMode="Fant"/>
                                                                    </Border>

                                                                    <!-- Game icon badge (bottom-left) -->
                                                                    <Border Width="28"
                                                                            Height="28"
                                                                            HorizontalAlignment="Right"
                                                                            VerticalAlignment="Bottom"
                                                                            Margin="0,0,-2,-2"
                                                                            Background="#CC000000"
                                                                            BorderBrush="#80000000"
                                                                            BorderThickness="2"
                                                                            ClipToBounds="True">
                                                                        <Image Source="{Binding GameIcon}"
                                                                               Stretch="UniformToFill"
                                                                               RenderOptions.BitmapScalingMode="Fant"/>
                                                                    </Border>

                                                                </Grid>


                                                                <!-- TEXT -->
                                                                <Grid Grid.Column="1" VerticalAlignment="Center" Margin="18,0,0,0">
                                                                    <Grid.RowDefinitions>
                                                                        <RowDefinition Height="Auto"/>
                                                                        <RowDefinition Height="Auto"/>
                                                                    </Grid.RowDefinitions>

                                                                    <TextBlock Grid.Row="0"
                                                                               HorizontalAlignment="Left"
                                                                               Text="{Binding FriendPersonaName}"
                                                                               Style="{DynamicResource TextBlockBaseStyle}"
                                                                               FontSize="34"
                                                                               FontWeight="SemiBold"
                                                                               TextTrimming="CharacterEllipsis"
                                                                               MaxWidth="900"/>



                                                                    <StackPanel Grid.Row="1"
                                                                                Orientation="Horizontal"
                                                                                Margin="0,10,0,0"
                                                                                Opacity="0.88"
                                                                                VerticalAlignment="Center">


                                                                        <TextBlock Text="{Binding GameName}"
                                                                                   Style="{DynamicResource TextBlockBaseStyle}"
                                                                                   FontSize="22"
                                                                                   FontWeight="SemiBold"
                                                                                   TextTrimming="CharacterEllipsis"
                                                                                   MaxWidth="520"/>

                                                                        <TextBlock Text="  •  "
                                                                                   Style="{DynamicResource TextBlockBaseStyle}"
                                                                                   FontSize="22"
                                                                                   Opacity="0.7"/>

                                                                        <TextBlock Text="{Binding HeaderSubtitle}"
                                                                                   Style="{DynamicResource TextBlockBaseStyle}"
                                                                                   FontSize="22"
                                                                                   Opacity="0.75"
                                                                                   TextTrimming="CharacterEllipsis"
                                                                                   MaxWidth="340"/>
                                                                    </StackPanel>
                                                                </Grid>

                                                                <!-- RIGHT AREA (better chevron) -->
                                                                <Grid Grid.Column="2" VerticalAlignment="Center" Margin="0,0,18,0">
                                                                    <Border CornerRadius="14"
                                                                            Background="#1EFFFFFF"
                                                                            BorderBrush="#22FFFFFF"
                                                                            BorderThickness="1"
                                                                            Padding="12,10"
                                                                            HorizontalAlignment="Right">

                                                                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                                                            <TextBlock
                                                                                FontSize="18"
                                                                                Opacity="0.75"
                                                                                Margin="0,0,10,0">
                                                                                <TextBlock.Style>
                                                                                    <Style TargetType="TextBlock" BasedOn="{StaticResource TextBlockBaseStyle}">
                                                                                        <Setter Property="Text" Value="{StaticResource LOCOpen}"/>
                                                                                        <Style.Triggers>
                                                                                            <DataTrigger Binding="{Binding IsExpanded}" Value="True">
                                                                                                <Setter Property="Text" Value="{StaticResource LOCClose}"/>
                                                                                            </DataTrigger>
                                                                                        </Style.Triggers>
                                                                                    </Style>
                                                                                </TextBlock.Style>
                                                                            </TextBlock>

                                                                            <Border Background="#26000000"
                                                                                    CornerRadius="8"
                                                                                    Padding="6,2"
                                                                                    Margin="0,0,10,0">
                                                                                <TextBlock Text="{Binding Items.Count}"
                                                                                           FontSize="14"
                                                                                           FontWeight="SemiBold"
                                                                                           Foreground="#FFFFFFFF"
                                                                                           Style="{DynamicResource TextBlockBaseStyle}"/>
                                                                            </Border>

                                                                            <TextBlock x:Name="Chevron"
                                                                                       FontSize="20"
                                                                                       Opacity="0.9">
                                                                                <TextBlock.Style>
                                                                                    <Style TargetType="TextBlock" BasedOn="{StaticResource TextBlockBaseStyle}">
                                                                                        <Setter Property="Text" Value="▼"/>
                                                                                        <Style.Triggers>
                                                                                            <DataTrigger Binding="{Binding IsExpanded}" Value="True">
                                                                                                <Setter Property="Text" Value="▲"/>
                                                                                            </DataTrigger>
                                                                                        </Style.Triggers>
                                                                                    </Style>
                                                                                </TextBlock.Style>
                                                                            </TextBlock>
                                                                        </StackPanel>
                                                                    </Border>
                                                                </Grid>

                                                            </Grid>
                                                        </Border>


                                                        <Border x:Name="HeaderSeparator"
                                                                Height="1"
                                                                Margin="80,0,80,-1"
                                                                Background="#22FFFFFF"
                                                                HorizontalAlignment="Stretch"
                                                                VerticalAlignment="Bottom"/>
                                                    </Grid>


                                                </CheckBoxEx>


                                                <!-- ITEMS (DÉROULANT) -->
                                                <ListBox x:Name="ItemsPanel"
                                                         ItemsSource="{Binding Items}"
                                                         Margin="0,15,0,0"
                                                         Visibility="Collapsed"
                                                         Background="#20000000"
                                                         BorderThickness="0"
                                                         HorizontalAlignment="Center"
                                                         MaxHeight="230"
                                                         AlternationCount="2"
                                                         ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                                                         ScrollViewer.VerticalScrollBarVisibility="Auto"
                                                         ScrollViewer.CanContentScroll="False"
                                                         VirtualizingPanel.IsVirtualizing="True"
                                                         VirtualizingPanel.VirtualizationMode="Recycling"
                                                         KeyboardNavigation.DirectionalNavigation="Continue"
                                                         KeyboardNavigation.TabNavigation="Continue"
                                                         KeyboardNavigation.ControlTabNavigation="Continue"
                                                         SelectionMode="Single">

                                                    <ListBox.ItemContainerStyle>
                                                        <Style TargetType="ListBoxItem">
                                                            <Setter Property="Focusable" Value="False"/>
                                                            <Setter Property="IsTabStop" Value="False"/>
                                                            <Setter Property="Padding" Value="0"/>
                                                            <Setter Property="Margin" Value="0"/>
                                                            <Setter Property="BorderThickness" Value="0"/>
                                                            <Setter Property="Background" Value="Transparent"/>
                                                        </Style>
                                                    </ListBox.ItemContainerStyle>

                                                    <ListBox.ItemTemplate>
                                                        <DataTemplate>

                                                            <ButtonEx Style="{DynamicResource ButtonTrophyviewitem}"
                                                                      HorizontalAlignment="Center"
                                                                      Focusable="True"
                                                                      IsTabStop="True"
                                                                      Margin="0,0,0,6"
                                                                      Padding="0"
                                                                      KeyboardNavigation.DirectionalNavigation="Continue">

                                                                <Grid Width="1500" Height="110" HorizontalAlignment="Center">
                                                                    <Border x:Name="ItemMainBorder"
                                                                            CornerRadius="10"
                                                                            BorderThickness="1"
                                                                            BorderBrush="#14FFFFFF"
                                                                            Margin="0"
                                                                            Padding="14,10"
                                                                            ClipToBounds="True">

                                                                        <Border.Background>
                                                                            <SolidColorBrush Color="#16000000"/>
                                                                        </Border.Background>

                                                                        <Grid>
                                                                            <Grid.ColumnDefinitions>
                                                                                <ColumnDefinition Width="90"/>
                                                                                <ColumnDefinition Width="*"/>
                                                                                <ColumnDefinition Width="120"/>
                                                                            </Grid.ColumnDefinitions>

                                                                            <!-- ICON -->
                                                                            <Grid Grid.Column="0" VerticalAlignment="Center">
                                                                                <Border Width="72" Height="72"
                                                                                        CornerRadius="12"
                                                                                        ClipToBounds="True"
                                                                                        Background="#22000000"
                                                                                        BorderBrush="#22FFFFFF"
                                                                                        BorderThickness="1">
                                                                                    <Image Source="{Binding FriendAchievementIcon}"
                                                                                           Stretch="UniformToFill"
                                                                                           RenderOptions.BitmapScalingMode="Fant"/>
                                                                                </Border>
                                                                            </Grid>

                                                                            <!-- TEXT -->
                                                                            <StackPanel Grid.Column="1"
                                                                                        VerticalAlignment="Center"
                                                                                        HorizontalAlignment="Left"
                                                                                        Margin="14,0,0,0">
                                                                                <TextBlock Text="{Binding AchievementDisplayName}"
                                                                                           Style="{DynamicResource TextBlockBaseStyle}"
                                                                                           Foreground="{DynamicResource TextColorDarkBrush}"
                                                                                           FontSize="28"
                                                                                           FontWeight="SemiBold"
                                                                                           TextTrimming="CharacterEllipsis"
                                                                                           MaxWidth="980"/>

                                                                                <TextBlock Text="{Binding AchievementDescription}"
                                                                                           Style="{DynamicResource TextBlockBaseStyle}"
                                                                                           Foreground="{DynamicResource TextColorDarkBrush}"
                                                                                           Opacity="0.72"
                                                                                           FontSize="19"
                                                                                           Margin="0,4,0,0"
                                                                                           TextTrimming="CharacterEllipsis"
                                                                                           MaxWidth="980"/>
                                                                            </StackPanel>

                                                                            <!-- TIME -->
                                                                            <Grid Grid.Column="2" VerticalAlignment="Center">
                                                                                <TextBlock Text="{Binding UnlockTimeLocal, StringFormat='{}{0:HH:mm}'}"
                                                                                           Style="{DynamicResource TextBlockBaseStyle}"
                                                                                           Foreground="{DynamicResource TextColorDarkBrush}"
                                                                                           Opacity="0.75"
                                                                                           FontSize="22"
                                                                                           HorizontalAlignment="Right"/>
                                                                            </Grid>
                                                                        </Grid>
                                                                    </Border>


                                                                </Grid>

                                                            </ButtonEx>
                                                        </DataTemplate>
                                                    </ListBox.ItemTemplate>
                                                </ListBox>


                                            </StackPanel>

                                        </Grid>

                                        <DataTemplate.Triggers>
                                            <DataTrigger Binding="{Binding IsExpanded}" Value="True">
                                                <Setter TargetName="ItemsPanel" Property="Visibility" Value="Visible"/>
                                                <Setter TargetName="Chevron" Property="Text" Value="▲"/>
                                            </DataTrigger>

                                            <!-- Même logique que ta liste normale : focus => on cache le separator du header -->
                                            <Trigger SourceName="HeaderToggle" Property="IsFocused" Value="True">
                                                <Setter TargetName="HeaderSeparator" Property="Visibility" Value="Collapsed"/>
                                            </Trigger>
                                        </DataTemplate.Triggers>

                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                        </ScrollViewer>

                        <!-- ButtonBottom -->

                        <Border Background="{DynamicResource ColorBottomBarOtherViewBrush}" CornerRadius="0,0,5,5" HorizontalAlignment="Stretch" VerticalAlignment="Bottom" Height="50" Margin="0,0,0,0"/>

                        <StackPanel Orientation="Horizontal" VerticalAlignment="Bottom" HorizontalAlignment="Center" Margin="0,0,0,10">

                            <TextBlock Text="{DynamicResource LocTotalTrophiesUnlocked}" Margin="0"
                                       FontSize="24"
                                       FontWeight="SemiBold"
                                       Style="{DynamicResource TextBlockBaseStyle}"
                                       HorizontalAlignment="Right"
                                       Opacity="0.9"/>
                            <TextBlock Text=" : " Margin="0"
                                       FontSize="24"
                                       FontWeight="SemiBold"
                                       Style="{DynamicResource TextBlockBaseStyle}"
                                       HorizontalAlignment="Right"
                                       Opacity="0.9"/>
                            <TextBlock Text="{PluginSettings Plugin=SSHelper, Path=GSTotal}"
                                       FontSize="24"
                                       FontWeight="Bold"
                                       Style="{DynamicResource TextBlockBaseStyle}"
                                       HorizontalAlignment="Right"
                                       Margin="0"/>
                            <StackPanel.Style>
                                <Style TargetType="StackPanel">
                                    <!-- Visible par défaut -->
                                    <Setter Property="Visibility" Value="Visible"/>

                                    <Style.Triggers>
                                        <!-- Quand le bouton Friends est activé -->
                                        <DataTrigger Binding="{Binding ElementName=FriendsButton, Path=IsChecked}"
                                                     Value="True">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </StackPanel.Style>
                        </StackPanel>
                        <ButtonEx x:Name="BackButton" Margin="0,0,10,10" VerticalAlignment="Bottom" HorizontalAlignment="Right" Style="{StaticResource IconBButton}" Content="{DynamicResource LOCBackLabel}" />
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>

        <Style.Triggers>
            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=AspectRatio}" Value="dsp1610">
                <Setter Property="Margin" Value="0,-60,0,-60"/>
            </DataTrigger>
            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=AspectRatio}" Value="dsp219">
                <Setter Property="Margin" Value="-320,0,-320,0"/>
            </DataTrigger>
        </Style.Triggers>
    </Style>

    <!-- Vue NowPlaying -->
    <Style x:Key="NowPlayingWindowStyle" TargetType="ContentControl">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ContentControl">
                    <Grid KeyboardNavigation.TabNavigation="Cycle"
                          KeyboardNavigation.DirectionalNavigation="Cycle"
                          KeyboardNavigation.ControlTabNavigation="Cycle">
                        <Border x:Name="MainBorder"
                                Width="1280"
                                Height="720"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                                CornerRadius="2"
                                Opacity="0"
                                BorderBrush="White"
                                Margin="-2"
                                BorderThickness="1.5">

                            <Border.Effect>
                                <DropShadowEffect Color="Black"  ShadowDepth="0" Opacity="0.5"/>
                            </Border.Effect>
                            <Border.RenderTransform>
                                <TranslateTransform Y="50" />
                            </Border.RenderTransform>

                            <!-- Animation fade-in -->
                            <Border.Triggers>
                                <EventTrigger RoutedEvent="FrameworkElement.Loaded">
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetProperty="Opacity" From="0" To="1" Duration="0:0:0.4"/>
                                            <DoubleAnimation Storyboard.TargetProperty="RenderTransform.(TranslateTransform.Y)" From="50" To="0" Duration="0:0:0.4">
                                                <DoubleAnimation.EasingFunction>
                                                    <CubicEase EasingMode="EaseOut"/>
                                                </DoubleAnimation.EasingFunction>
                                            </DoubleAnimation>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </EventTrigger>
                            </Border.Triggers>

                            <Grid>
                                <!-- Image du plugin -->
                                <Image Source="{PluginSettings Plugin=NowPlaying, Path=RunningGame.BackgroundPath}" Stretch="UniformToFill"/>

                                <!-- Bandeau supérieur -->
                                <Grid VerticalAlignment="Top" Panel.ZIndex="1">
                                    <Border Background="{DynamicResource OverlayMenu}" Opacity="0.9" CornerRadius="2,2,0,0" Height="Auto"/>
                                    <StackPanel VerticalAlignment="Center" Opacity="0.9" HorizontalAlignment="Center" Margin="20,10,20,0">
                                        <TextBlock Text="{PluginSettings Plugin=NowPlaying, Path=RunningGame.GameName}"
                                                   FontSize="44"
                                                   FontWeight="Bold"
                                                   Style="{DynamicResource TextBlockBaseStyle}"
                                                   TextWrapping="Wrap"
                                                   TextAlignment="Center"
                                                   VerticalAlignment="Center"
                                                   HorizontalAlignment="Center"
                                                   Margin="0,0,0,4">
                                        </TextBlock>
                                        <StackPanel.Effect>
                                            <DropShadowEffect  ShadowDepth="0" Color="Black" Opacity="0.6"/>
                                        </StackPanel.Effect>
                                    </StackPanel>
                                </Grid>

                                <!-- Bandeau Inferieur -->
                                <Grid VerticalAlignment="Bottom" Panel.ZIndex="1" FocusVisualStyle="{x:Null}">
                                    <Border Background="{DynamicResource OverlayMenu}" Opacity="0.9" CornerRadius="0,0,2,2" Height="Auto"/>
                                    <!-- Timers -->
                                    <StackPanel Orientation="Vertical" VerticalAlignment="Bottom" Margin="0,0,0,20" FocusVisualStyle="{x:Null}">
                                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,0,0,10" FocusVisualStyle="{x:Null}">
                                            <StackPanel Orientation="Horizontal">
                                                <TextBlock Text="{DynamicResource LOCNowPlayingNP}"
                                                           FontSize="26"
                                                           Style="{DynamicResource TextBlockBaseStyle}"
                                                           Opacity="0.8"
                                                           FontWeight="Regular"
                                                           Margin="0,0,4,0"/>
                                                <TextBlock Text="{PluginSettings Plugin=NowPlaying, Path=SessionLength}"
                                                           FontSize="24"
                                                           Margin="0,2,0,0"
                                                           FontWeight="Regular"
                                                           Style="{DynamicResource TextBlockBaseStyle}"/>
                                            </StackPanel>
                                        </StackPanel>

                                        <!-- Boutons -->
                                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" FocusVisualStyle="{x:Null}" >
                                            <ButtonEx Content="{DynamicResource LOCReturnGameNP}"
                                                      FocusVisualStyle="{x:Null}"
                                                      pbeh:FocusBahaviors.FocusBinding="True"
                                                      pbeh:FocusBahaviors.OnVisibilityFocus="True"
                                                      Style="{StaticResource ButtonGameStatusAction}"
                                                      Margin="10,0,10,0"
                                                      Command="{PluginSettings Plugin=NowPlaying, Path=ReturnToGame}"/>
                                            <ButtonEx Content="{DynamicResource LOCExitGameNP}"
                                                      Style="{StaticResource ButtonGameStatusAction}"
                                                      Margin="10,0,10,0"
                                                      Command="{PluginSettings Plugin=NowPlaying, Path=CloseGame}"/>
                                        </StackPanel>
                                        <ButtonEx x:Name="BackButton" Margin="0,-25,10,0" VerticalAlignment="Bottom" HorizontalAlignment="Right" Style="{StaticResource IconBButton}" Content="{DynamicResource LOCBackLabel}" />
                                    </StackPanel>
                                </Grid>
                            </Grid>
                        </Border>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Vue Stats -->
    <Style x:Key="StatsWindowStyle" TargetType="ContentControl">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ContentControl">
                    <Grid KeyboardNavigation.DirectionalNavigation="Cycle"
                          KeyboardNavigation.TabNavigation="Cycle"
                          KeyboardNavigation.ControlTabNavigation="Cycle"
                          FocusManager.FocusedElement="{Binding ElementName=ExpandToggle}"
                          HorizontalAlignment="Stretch"
                          VerticalAlignment="Stretch"
                          Opacity="0"
                          CacheMode="BitmapCache"
                          Background="{DynamicResource DynamicGlowBackgroundSuccess}">
                        <Grid.RenderTransform>
                            <TranslateTransform Y="0"/>
                        </Grid.RenderTransform>

                        <Grid.Triggers>
                            <EventTrigger RoutedEvent="FrameworkElement.Loaded">
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetProperty="Opacity" From="0" To="1" Duration="0:0:0.2"/>
                                        <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.Y)" From="-20" To="0" Duration="0:0:0.2"/>
                                    </Storyboard>
                                </BeginStoryboard>
                            </EventTrigger>
                        </Grid.Triggers>

                        <Grid>
                            <Border>
                                <Border.OpacityMask>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                        <!-- 0% → totalement opaque -->
                                        <GradientStop Color="#FFFFFFFF" Offset="0"/>

                                        <!-- 70% → encore opaque (départ du fade) -->
                                        <GradientStop Color="#80FFFFFF" Offset="0.30"/>

                                        <GradientStop Color="#80FFFFFF" Offset="0.60"/>


                                        <!-- 100% → totalement transparent -->
                                        <GradientStop Color="#FFFFFFFF" Offset="1"/>
                                    </LinearGradientBrush>
                                </Border.OpacityMask>
                                <Border.Style>
                                    <Style TargetType="Border">
                                        <Setter Property="Opacity" Value="0.1"/>
                                        <Setter Property="Tag" Value="{DynamicResource BackgroundImageIndex}" />
                                        <Setter Property="Background" Value="{DynamicResource StatImageDefault}"/>
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="20">
                                                <Setter Property="Background" Value="{DynamicResource StatViewImage20}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="21">
                                                <Setter Property="Background" Value="{DynamicResource StatViewImage21}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="22">
                                                <Setter Property="Background" Value="{DynamicResource StatViewImage22}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="23">
                                                <Setter Property="Background" Value="{DynamicResource StatViewImage23}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="24">
                                                <Setter Property="Background" Value="{DynamicResource StatViewImage24}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="25">
                                                <Setter Property="Background" Value="{DynamicResource StatViewImage25}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="26">
                                                <Setter Property="Background" Value="{DynamicResource StatViewImage26}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="27">
                                                <Setter Property="Background" Value="{DynamicResource StatViewImage27}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="28">
                                                <Setter Property="Background" Value="{DynamicResource StatViewImage28}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="29">
                                                <Setter Property="Background" Value="{DynamicResource StatViewImage29}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="30">
                                                <Setter Property="Background" Value="{DynamicResource StatViewImage30}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="31">
                                                <Setter Property="Background" Value="{DynamicResource StatViewImage31}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="32">
                                                <Setter Property="Background" Value="{DynamicResource StatViewImage32}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="33">
                                                <Setter Property="Background" Value="{DynamicResource StatViewImage33}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="34">
                                                <Setter Property="Background" Value="{DynamicResource StatViewImage34}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="35">
                                                <Setter Property="Background" Value="{DynamicResource StatViewImage35}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="36">
                                                <Setter Property="Background" Value="{DynamicResource StatViewImage36}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="37">
                                                <Setter Property="Background" Value="{DynamicResource StatViewImage37}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="38">
                                                <Setter Property="Background" Value="{DynamicResource StatViewImage38}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="39">
                                                <Setter Property="Background" Value="{DynamicResource StatViewImage39}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="40">
                                                <Setter Property="Background" Value="{DynamicResource StatViewImage40}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="41">
                                                <Setter Property="Background" Value="{DynamicResource StatViewImage41}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="42">
                                                <Setter Property="Background" Value="{DynamicResource StatViewImage42}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="44">
                                                <Setter Property="Background" Value="{DynamicResource StatViewImage44}"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Border.Style>
                            </Border>
                        </Grid>

                        <!-- HEADER -->
                        <Grid x:Name="TopInfo" Margin="0,0,0,12" VerticalAlignment="Top">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>

                            <!-- Gauche : Avatar + Nom -->
                            <StackPanel Grid.Column="0"
                                        Orientation="Vertical"
                                        HorizontalAlignment="Left"
                                        VerticalAlignment="Center"
                                        Margin="100,20,12,0">
                                <Grid Height="110" Width="110"
                                      VerticalAlignment="Center"
                                      HorizontalAlignment="Left">
                                    <Border RenderOptions.BitmapScalingMode="Fant"
                                            Margin="0,0,0,6"
                                            CornerRadius="6"
                                            Height="110" Width="110"
                                            VerticalAlignment="Center"
                                            HorizontalAlignment="Left"
                                            ClipToBounds="True">
                                        <Border.Style>
                                            <Style TargetType="Border">
                                                <Setter Property="Background" Value="{DynamicResource Avatar0}"/>
                                                <Setter Property="Visibility" Value="Collapsed" />
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding ElementName=UserAvatar, Path=Source}" Value="{x:Null}">
                                                        <Setter Property="Visibility" Value="Visible" />
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="1">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar0}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="2">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar2}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="3">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar3}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="4">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar4}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="5">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar5}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="6">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar6}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="7">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar7}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="8">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar8}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="9">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar9}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="10">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar10}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="11">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar11}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="12">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar12}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="13">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar13}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="14">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar14}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="15">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar15}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="16">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar16}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="17">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar17}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="18">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar18}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="19">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar19}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="20">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar20}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="21">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar21}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="22">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar22}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="23">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar23}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="24">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar24}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="25">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar25}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="26">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar26}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="27">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar27}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="28">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar28}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="29">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar29}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="30">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar30}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="31">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar31}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="32">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar32}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="33">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar33}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="34">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar34}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="35">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar35}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="36">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar36}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="37">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar37}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="38">
                                                        <Setter Property="Background" Value="{DynamicResource Avatar38}"/>
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </Border.Style>
                                    </Border>

                                    <TextBlock x:Name="ProfilePicturePath"
                                               Tag="{Api Paths.ConfigurationPath}"
                                               Visibility="Collapsed">
                                        <TextBlock.Style>
                                            <Style TargetType="TextBlock">
                                                <Setter Property="Text">
                                                    <Setter.Value>
                                                        <MultiBinding StringFormat="{}{0}\ExtraMetadata\Themes\Common\ProfilePicture.png">
                                                            <Binding Path="Tag" RelativeSource="{RelativeSource Self}"/>
                                                        </MultiBinding>
                                                    </Setter.Value>
                                                </Setter>
                                            </Style>
                                        </TextBlock.Style>
                                    </TextBlock>

                                    <Image x:Name="UserAvatar"
                                           Source="{Binding ElementName=ProfilePicturePath, Path=Text}"
                                           Stretch="UniformToFill"
                                           RenderOptions.BitmapScalingMode="Fant"
                                           Width="110" Height="110"/>

                                    <Border BorderBrush="{DynamicResource TextColorDarkBrush}" BorderThickness="2" Margin="-1" Width="110" Height="110"/>
                                </Grid>


                                <TextBlock Text="{DynamicResource UserName}"
                                           HorizontalAlignment="Center"
                                           Style="{DynamicResource TextBlockBaseStyle}"
                                           Foreground="{DynamicResource TextColorDarkBrush}"
                                           FontSize="32"
                                           FontWeight="Bold"
                                           MaxWidth="380"
                                           Margin="0,6,0,0"
                                           TextTrimming="CharacterEllipsis"/>
                            </StackPanel>

                            <!-- Centre : Titre de la vue -->
                            <StackPanel Grid.ColumnSpan="3"
                                        Orientation="Vertical"
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Center"
                                        Margin="0,0,0,0">
                                <TextBlock Text="{DynamicResource LOCOverallStats}"
                                           Style="{DynamicResource TextBlockBaseStyle}"
                                           Foreground="{DynamicResource TextColorDarkBrush}"
                                           FontSize="40"
                                           Typography.Capitals="AllSmallCaps"
                                           FontWeight="SemiBold"
                                           Opacity="0.98"
                                           HorizontalAlignment="Center"/>

                                <TextBlock Text="{DynamicResource LOCLibraryPlaytimeOverview}"
                                           Style="{DynamicResource TextBlockBaseStyle}"
                                           Foreground="{DynamicResource TextColorDarkBrush}"
                                           FontSize="26"
                                           Opacity="0.80"
                                           Margin="0,4,0,0"
                                           HorizontalAlignment="Center"/>
                            </StackPanel>

                            <!-- Droite :Logo Aniki -->
                            <Image Grid.Column="2"
                                   Source="{ThemeFile 'Images/Aniki.png'}"
                                   HorizontalAlignment="Right"
                                   VerticalAlignment="Center"
                                   Margin="0,10,110,0"
                                   Height="130"
                                   Opacity="0.70"
                                   IsHitTestVisible="False"
                                   RenderOptions.BitmapScalingMode="Fant">
                                <Image.Effect>
                                    <DropShadowEffect Color="Black"

                                                      ShadowDepth="0"
                                                      Opacity="0.15"/>
                                </Image.Effect>
                            </Image>
                        </Grid>


                        <Grid x:Name="AnikiHelper"
                              Margin="40,200,40,60"
                              HorizontalAlignment="Stretch"
                              VerticalAlignment="Stretch">
                            <Grid.Resources>

                                <!-- Ombre douce -->
                                <DropShadowEffect x:Key="CardShadow" Color="#000000"  ShadowDepth="0" Opacity="0.35"/>

                                <!-- Header + Item text plus grands -->
                                <Style x:Key="CardHeaderText" TargetType="TextBlock" BasedOn="{StaticResource TextBlockBaseStyle}">
                                    <Setter Property="FontSize" Value="22"/>
                                    <Setter Property="Foreground" Value="{DynamicResource TextHighlightBrush}"/>
                                    <Setter Property="FontWeight" Value="SemiBold"/>
                                    <Setter Property="Margin" Value="0,0,6,0"/>
                                    <Setter Property="TextTrimming" Value="CharacterEllipsis"/>
                                    <Setter Property="Effect">
                                        <Setter.Value>
                                            <DropShadowEffect Color="#33000000"  ShadowDepth="1" Opacity="0.4"/>
                                        </Setter.Value>
                                    </Setter>
                                </Style>

                                <Style x:Key="ItemText" TargetType="TextBlock" BasedOn="{StaticResource TextBlockBaseStyle}">
                                    <Setter Property="FontSize" Value="17"/>
                                </Style>

                                <!-- GroupBox carte : style de base -->
                                <Style x:Key="StatCard" TargetType="GroupBox">
                                    <Setter Property="Padding" Value="12"/>
                                    <Setter Property="Margin" Value="14,8"/>
                                    <Setter Property="Background" Value="{DynamicResource CardStatBrush}"/>
                                    <Setter Property="BorderBrush" Value="{DynamicResource CardBorderBrush}"/>
                                    <Setter Property="BorderThickness" Value="1.5"/>
                                    <Setter Property="FontFamily" Value="Bahnschrift, Segoe UI" />
                                    <Setter Property="Template">
                                        <Setter.Value>
                                            <ControlTemplate TargetType="GroupBox">
                                                <Grid>
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="Auto"/>
                                                        <RowDefinition Height="*"/>
                                                    </Grid.RowDefinitions>

                                                    <!-- Header -->
                                                    <Grid Margin="8,0,8,6">
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="Auto"/>
                                                            <ColumnDefinition Width="*"/>
                                                        </Grid.ColumnDefinitions>
                                                        <ContentPresenter Grid.Column="0" ContentSource="Header" RecognizesAccessKey="True">
                                                            <ContentPresenter.Resources>
                                                                <Style TargetType="TextBlock" BasedOn="{StaticResource CardHeaderText}" />
                                                            </ContentPresenter.Resources>
                                                        </ContentPresenter>
                                                        <Rectangle Grid.Column="1"
                                                                   Height="2"
                                                                   VerticalAlignment="Center"
                                                                   Fill="{StaticResource AccentBrush}"
                                                                   Opacity="0.9"
                                                                   Margin="10,0,0,0"/>
                                                    </Grid>

                                                    <!-- Contenu -->
                                                    <Border Grid.Row="1"
                                                            Background="{TemplateBinding Background}"
                                                            BorderBrush="{DynamicResource CardBorderBrush}"
                                                            BorderThickness="1"
                                                            CornerRadius="10"
                                                            Padding="{TemplateBinding Padding}">
                                                        <ContentPresenter/>
                                                    </Border>
                                                </Grid>
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>
                                </Style>




                                <!-- Liste scroll slim -->
                                <Style x:Key="ListSlim" TargetType="ItemsControl">
                                    <Setter Property="Template">
                                        <Setter.Value>
                                            <ControlTemplate TargetType="ItemsControl">
                                                <ScrollViewer VerticalScrollBarVisibility="Hidden" HorizontalScrollBarVisibility="Disabled" Padding="4,0,4,4">
                                                    <ItemsPresenter/>
                                                </ScrollViewer>
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>
                                </Style>

                                <DataTemplate x:Key="ThreeColItemTemplate">
                                    <Grid Margin="6,3">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="42"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Grid.Column="0" Text="{Binding PercentageString}" HorizontalAlignment="Right" Opacity="0.9" Style="{StaticResource ItemText}"/>
                                        <TextBlock Grid.Column="1" Text="{Binding Name}" TextTrimming="CharacterEllipsis" Style="{StaticResource ItemText}" Margin="8,0,8,0"/>
                                        <TextBlock Grid.Column="2" Text="{Binding Value}" Style="{StaticResource ItemText}" HorizontalAlignment="Right"/>
                                    </Grid>
                                </DataTemplate>

                                <DataTemplate x:Key="TopPlayedItemTemplate">
                                    <Grid Margin="6,3">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="42"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Grid.Column="0" Text="{Binding PercentageString}" HorizontalAlignment="Right" Opacity="0.9" Style="{StaticResource ItemText}"/>
                                        <TextBlock Grid.Column="1" Text="{Binding Name}" TextTrimming="CharacterEllipsis" Style="{StaticResource ItemText}" Margin="8,0,8,0"/>
                                        <TextBlock Grid.Column="2" Text="{Binding PlaytimeString}" Style="{StaticResource ItemText}" HorizontalAlignment="Right"/>
                                    </Grid>
                                </DataTemplate>

                                <DataTemplate x:Key="TwoColItemTemplate">
                                    <Grid Margin="6,3">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Grid.Column="0" Text="{Binding Name}" Style="{StaticResource ItemText}" TextTrimming="CharacterEllipsis" Margin="0,0,8,0"/>
                                        <TextBlock Grid.Column="1" Text="{Binding Value}" Style="{StaticResource ItemText}" />
                                    </Grid>
                                </DataTemplate>

                                <DataTemplate x:Key="OneColItemTemplate">
                                    <Grid Margin="6,3">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>

                                        <!-- Puce -->
                                        <Ellipse Grid.Column="0"
                                                 Width="6" Height="6"
                                                 Fill="#90FFFFFF"
                                                 VerticalAlignment="Center"
                                                 Margin="0,0,8,0"/>

                                        <!-- Titre du jeu -->
                                        <TextBlock Grid.Column="1"
                                                   Text="{Binding Name}"
                                                   Style="{StaticResource ItemText}"
                                                   TextAlignment="Left"
                                                   TextWrapping="NoWrap"
                                                   TextTrimming="CharacterEllipsis"/>
                                    </Grid>
                                </DataTemplate>

                                <Style x:Key="Chip" TargetType="Border">
                                    <Setter Property="CornerRadius" Value="6"/>
                                    <Setter Property="Padding" Value="4,1"/>
                                    <Setter Property="Background" Value="#28FFFFFF"/>
                                    <Setter Property="BorderBrush" Value="#66FFFFFF"/>
                                    <Setter Property="BorderThickness" Value="1"/>
                                    <Setter Property="Margin" Value="4,0,0,0"/>
                                </Style>

                            </Grid.Resources>

                            <Border x:Name="StatsMainPanel"
                                    CornerRadius="24"
                                    Opacity="1"
                                    Background="{DynamicResource BackgroundAHDarkBrush}"
                                    BorderBrush="{DynamicResource MenuBorderBrush}"
                                    BorderThickness="1"
                                    Padding="26,24,26,22"
                                    VerticalAlignment="Top"
                                    HorizontalAlignment="Stretch">

                                <Border.Effect>
                                    <DropShadowEffect Color="#000000"
                                                      ShadowDepth="0"
                                                      Opacity="0.35"/>
                                </Border.Effect>

                                <!-- CARTES STATS -->
                                <Grid x:Name="StatsCards" Margin="0,10,0,0" IsSharedSizeScope="True">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="1.1*" MinWidth="360"/>
                                        <ColumnDefinition Width="1.1*" MinWidth="400"/>
                                        <ColumnDefinition Width="1.1*" MinWidth="400"/>
                                        <ColumnDefinition Width="1.2*" MinWidth="520"/>
                                    </Grid.ColumnDefinitions>

                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>

                                    <!-- LIGNE 1 -->

                                    <!-- Général -->
                                    <GroupBox Grid.Row="0" Grid.Column="0"
                                              Header="{DynamicResource LOCStatsGlobal}"
                                              Style="{StaticResource StatCard}" Margin="10,0,10,10"
                                              Height="230"
                                              HorizontalAlignment="Stretch">
                                        <Grid Margin="10">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                            </Grid.RowDefinitions>

                                            <TextBlock Grid.Row="0" Grid.Column="0" Text="{DynamicResource LOCAll}" Style="{StaticResource ItemText}" Margin="0,0,12,4"/>
                                            <TextBlock Grid.Row="0" Grid.Column="1" Text="{PluginSettings Plugin=AnikiHelper, Path=TotalCount}"
                                                       Style="{StaticResource ItemText}" HorizontalAlignment="Right" Margin="0,0,0,4"/>

                                            <TextBlock Grid.Row="1" Grid.Column="0" Text="{DynamicResource LOCGameIsInstalledTitle}" Style="{StaticResource ItemText}" Margin="0,0,12,4"/>
                                            <TextBlock Grid.Row="1" Grid.Column="1" Text="{PluginSettings Plugin=AnikiHelper, Path=InstalledCount}"
                                                       Style="{StaticResource ItemText}" HorizontalAlignment="Right" Margin="0,0,0,4"/>

                                            <TextBlock Grid.Row="2" Grid.Column="0" Text="{DynamicResource LOCGameIsUnInstalledTitle}" Style="{StaticResource ItemText}" Margin="0,0,12,4"/>
                                            <TextBlock Grid.Row="2" Grid.Column="1" Text="{PluginSettings Plugin=AnikiHelper, Path=NotInstalledCount}"
                                                       Style="{StaticResource ItemText}" HorizontalAlignment="Right" Margin="0,0,0,4"/>

                                            <TextBlock Grid.Row="3" Grid.Column="0" Text="{DynamicResource LOCGameHiddenTitle}" Style="{StaticResource ItemText}" Margin="0,0,12,4"/>
                                            <TextBlock Grid.Row="3" Grid.Column="1" Text="{PluginSettings Plugin=AnikiHelper, Path=HiddenCount}"
                                                       Style="{StaticResource ItemText}" HorizontalAlignment="Right" Margin="0,0,0,4"/>

                                            <TextBlock Grid.Row="4" Grid.Column="0" Text="{DynamicResource LOCGameFavoriteTitle}" Style="{StaticResource ItemText}" Margin="0,0,12,0"/>
                                            <TextBlock Grid.Row="4" Grid.Column="1" Text="{PluginSettings Plugin=AnikiHelper, Path=FavoriteCount}"
                                                       Style="{StaticResource ItemText}" HorizontalAlignment="Right"/>


                                        </Grid>
                                    </GroupBox>

                                    <!-- Recently played -->
                                    <GroupBox Grid.Row="0" Grid.Column="1"
                                              Header="{DynamicResource LOCStatsRecentPlayed}"
                                              Style="{StaticResource StatCard}"
                                              Margin="10,0,10,10"
                                              HorizontalAlignment="Stretch"
                                              Height="230">

                                        <ItemsControl ItemsSource="{PluginSettings Plugin=AnikiHelper, Path=RecentPlayed}"
                                                      ItemTemplate="{StaticResource OneColItemTemplate}"
                                                      Style="{StaticResource ListSlim}">

                                            <!-- marge verticale homogène + premier item en SemiBold -->
                                            <ItemsControl.ItemContainerStyle>
                                                <Style TargetType="ContentPresenter">
                                                    <Setter Property="Margin" Value="6,4"/>
                                                    <Style.Triggers>
                                                        <Trigger Property="ItemsControl.AlternationIndex" Value="0">
                                                            <Setter Property="TextElement.FontWeight" Value="SemiBold"/>
                                                        </Trigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </ItemsControl.ItemContainerStyle>
                                        </ItemsControl>
                                    </GroupBox>


                                    <!-- Top playtime -->
                                    <GroupBox Grid.Row="0"
                                              Grid.Column="2"
                                              Grid.ColumnSpan="2"
                                              Header="{DynamicResource LOCStatsTopPlayTime}"
                                              Style="{StaticResource StatCard}"
                                              Margin="10,0,10,10"
                                              HorizontalAlignment="Stretch"
                                              Height="230">

                                        <ItemsControl ItemsSource="{PluginSettings Plugin=AnikiHelper, Path=TopPlayed}"
                                                      ItemTemplate="{StaticResource TopPlayedItemTemplate}"
                                                      Style="{StaticResource ListSlim}"
                                                      AlternationCount="999">

                                            <ItemsControl.ItemsPanel>
                                                <ItemsPanelTemplate>
                                                    <UniformGrid Columns="2"/>
                                                </ItemsPanelTemplate>
                                            </ItemsControl.ItemsPanel>

                                            <ItemsControl.ItemContainerStyle>
                                                <Style TargetType="ContentPresenter">
                                                    <Setter Property="Margin" Value="2"/>
                                                </Style>
                                            </ItemsControl.ItemContainerStyle>

                                        </ItemsControl>
                                    </GroupBox>


                                    <!-- LIGNE 2 -->

                                    <!-- PlayTime -->
                                    <GroupBox Grid.Row="1" Grid.Column="0"
                                              Header="{DynamicResource LOCPlayTime}"
                                              Style="{StaticResource StatCard}" Margin="10,0,10,10"
                                              Height="230"
                                              VerticalAlignment="Stretch"
                                              HorizontalAlignment="Stretch">
                                        <Grid Margin="10">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="10"/>
                                            </Grid.RowDefinitions>

                                            <TextBlock Grid.Row="0" Grid.Column="0" Text="{DynamicResource LOCStatsTotalPlayTime}" Style="{StaticResource ItemText}" Margin="0,0,12,4"/>
                                            <TextBlock Grid.Row="0" Grid.Column="1" Text="{PluginSettings Plugin=AnikiHelper, Path=TotalPlaytimeString}"
                                                       Style="{StaticResource ItemText}" HorizontalAlignment="Right" Margin="0,0,0,4"/>

                                            <TextBlock Grid.Row="1" Grid.Column="0" Text="{DynamicResource LOCStatsAveragePlaytime}" Style="{StaticResource ItemText}" Margin="0,0,12,4"/>
                                            <TextBlock Grid.Row="1" Grid.Column="1" Text="{PluginSettings Plugin=AnikiHelper, Path=AveragePlaytimeString}" Style="{StaticResource ItemText}" HorizontalAlignment="Right"/>

                                            <TextBlock Grid.Row="2" Grid.Column="0" Text="{DynamicResource LOCStatsMonthPlayTime}" Style="{StaticResource ItemText}" Margin="0,0,12,4"/>
                                            <TextBlock Grid.Row="2" Grid.Column="1" Text="{PluginSettings Plugin=AnikiHelper, Path=ThisMonthPlayedTotalString}"
                                                       Style="{StaticResource ItemText}" HorizontalAlignment="Right" Margin="0,0,0,4"/>

                                            <TextBlock Grid.Row="3" Grid.Column="0" Text="{DynamicResource LOCStatsMonthPlayedCount}" Style="{StaticResource ItemText}" Margin="0,0,12,4"/>
                                            <TextBlock Grid.Row="3" Grid.Column="1" Text="{PluginSettings Plugin=AnikiHelper, Path=ThisMonthPlayedCount}"
                                                       Style="{StaticResource ItemText}" HorizontalAlignment="Right" Margin="0,0,0,4"/>

                                            <TextBlock Grid.Row="4" Grid.Column="0" Text="{DynamicResource LOCStatsMonthTopGame}" Style="{StaticResource ItemText}" Margin="0,4,12,2"/>
                                            <TextBlock Grid.Row="4" Grid.Column="1" Text="" Style="{StaticResource ItemText}" />

                                            <TextBlock Grid.Row="5" Grid.Column="0"
                                                       Text="{PluginSettings Plugin=AnikiHelper, Path=ThisMonthTopGameName}" MaxWidth="250" Opacity="0.9"
                                                       Style="{StaticResource ItemText}" TextTrimming="CharacterEllipsis" Margin="0,2,8,0"/>
                                            <TextBlock Grid.Row="5" Grid.Column="1"
                                                       Text="{PluginSettings Plugin=AnikiHelper, Path=ThisMonthTopGamePlaytime}"
                                                       Style="{StaticResource ItemText}" HorizontalAlignment="Right" Opacity="0.85"/>



                                        </Grid>
                                    </GroupBox>

                                    <!-- Recently added -->
                                    <GroupBox Grid.Row="1" Grid.Column="1"
                                              Header="{DynamicResource LOCStatsRecentAdded}"
                                              Style="{StaticResource StatCard}" Margin="10,0,10,10"
                                              VerticalAlignment="Stretch"
                                              HorizontalAlignment="Stretch" Height="230">
                                        <ItemsControl ItemsSource="{PluginSettings Plugin=AnikiHelper, Path=RecentAdded}"
                                                      ItemTemplate="{StaticResource TwoColItemTemplate}"
                                                      Style="{StaticResource ListSlim}">
                                            <ItemsControl.ItemContainerStyle>
                                                <Style TargetType="ContentPresenter">
                                                    <Setter Property="Margin" Value="0,2"/>
                                                </Style>
                                            </ItemsControl.ItemContainerStyle>
                                        </ItemsControl>
                                    </GroupBox>


                                    <!-- Sources -->
                                    <GroupBox Grid.Row="1" Grid.Column="2" Grid.ColumnSpan="2"
                                              Header="{DynamicResource LOCGameProviderTitle}"
                                              Style="{StaticResource StatCard}" Margin="10,0,10,0"
                                              HorizontalAlignment="Stretch" Height="230">
                                        <ItemsControl ItemsSource="{PluginSettings Plugin=AnikiHelper, Path=GameProviders}"
                                                      ItemTemplate="{StaticResource ThreeColItemTemplate}"
                                                      Style="{StaticResource ListSlim}">
                                            <ItemsControl.ItemsPanel>
                                                <ItemsPanelTemplate>
                                                    <UniformGrid Columns="2"/>
                                                </ItemsPanelTemplate>
                                            </ItemsControl.ItemsPanel>
                                            <ItemsControl.ItemContainerStyle>
                                                <Style TargetType="ContentPresenter">
                                                    <Setter Property="Margin" Value="2"/>
                                                </Style>
                                            </ItemsControl.ItemContainerStyle>
                                        </ItemsControl>
                                    </GroupBox>




                                    <!-- LIGNE 3 -->

                                    <!-- Trophies -->
                                    <GroupBox Grid.Row="2"
                                              Grid.Column="0"
                                              Header="{DynamicResource LOCStatsTrophies}"
                                              Style="{StaticResource StatCard}"
                                              Margin="10,0,10,10"
                                              HorizontalAlignment="Stretch"
                                              Height="250">

                                        <Grid Margin="10,0,10,6">

                                            <!-- GRID stats -->
                                            <Grid x:Name="TrophyStatsGrid">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="*" />
                                                    <ColumnDefinition Width="Auto" />
                                                </Grid.ColumnDefinitions>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="Auto"/>
                                                    <!-- Total trophies -->
                                                    <RowDefinition Height="Auto"/>
                                                    <!-- Games 100% -->
                                                    <RowDefinition Height="16"/>
                                                    <!-- spacer -->
                                                    <RowDefinition Height="Auto"/>
                                                    <!-- Plat -->
                                                    <RowDefinition Height="Auto"/>
                                                    <!-- Gold -->
                                                    <RowDefinition Height="Auto"/>
                                                    <!-- Silver -->
                                                    <RowDefinition Height="Auto"/>
                                                    <!-- Bronze -->
                                                </Grid.RowDefinitions>

                                                <!-- Total trophies unlocked -->
                                                <TextBlock Grid.Row="0" Grid.Column="0"
                                                           Text="{DynamicResource LOCStatsTotalTrophiesUnlocked}"
                                                           Style="{StaticResource ItemText}"
                                                           Margin="0,0,12,4"/>
                                                <TextBlock x:Name="TotalTrophiesValue"
                                                           Grid.Row="0" Grid.Column="1"
                                                           Text="{PluginSettings Plugin=SSHelper, Path=GSTotal}"
                                                           Style="{StaticResource ItemText}"
                                                           HorizontalAlignment="Right"
                                                           Margin="0,0,0,4"/>

                                                <!-- Games completed 100% -->
                                                <TextBlock Grid.Row="1" Grid.Column="0"
                                                           Text="{DynamicResource LOCStatsFullCompletionGames}"
                                                           Style="{StaticResource ItemText}"
                                                           Margin="0,0,12,4"/>
                                                <TextBlock Grid.Row="1" Grid.Column="1"
                                                           Text="{PluginSettings Plugin=SSHelper, Path=PlatinumGames.Count}"
                                                           Style="{StaticResource ItemText}"
                                                           HorizontalAlignment="Right"
                                                           Margin="0,0,0,4"/>

                                                <!-- Spacer -->
                                                <Rectangle Grid.Row="2" Grid.ColumnSpan="2"
                                                           Height="1"
                                                           Fill="#22FFFFFF"
                                                           Margin="0,6,0,8"/>

                                                <!-- Platinum -->
                                                <TextBlock Grid.Row="3" Grid.Column="0"
                                                           Text="{DynamicResource LOCStatsTrophyPlatinum}"
                                                           Style="{StaticResource ItemText}"
                                                           Margin="0,0,12,2"/>
                                                <TextBlock Grid.Row="3" Grid.Column="1"
                                                           Text="{PluginSettings Plugin=SSHelper, Path=GSPlat}"
                                                           Style="{StaticResource ItemText}"
                                                           HorizontalAlignment="Right"/>

                                                <!-- Gold -->
                                                <TextBlock Grid.Row="4" Grid.Column="0"
                                                           Text="{DynamicResource LOCStatsTrophyGold}"
                                                           Style="{StaticResource ItemText}"
                                                           Margin="0,0,12,2"/>
                                                <TextBlock Grid.Row="4" Grid.Column="1"
                                                           Text="{PluginSettings Plugin=SSHelper, Path=GS90}"
                                                           Style="{StaticResource ItemText}"
                                                           HorizontalAlignment="Right"/>

                                                <!-- Silver -->
                                                <TextBlock Grid.Row="5" Grid.Column="0"
                                                           Text="{DynamicResource LOCStatsTrophySilver}"
                                                           Style="{StaticResource ItemText}"
                                                           Margin="0,0,12,2"/>
                                                <TextBlock Grid.Row="5" Grid.Column="1"
                                                           Text="{PluginSettings Plugin=SSHelper, Path=GS30}"
                                                           Style="{StaticResource ItemText}"
                                                           HorizontalAlignment="Right"/>

                                                <!-- Bronze -->
                                                <TextBlock Grid.Row="6" Grid.Column="0"
                                                           Text="{DynamicResource LOCStatsTrophyBronze}"
                                                           Style="{StaticResource ItemText}"
                                                           Margin="0,0,12,0"/>
                                                <TextBlock Grid.Row="6" Grid.Column="1"
                                                           Text="{PluginSettings Plugin=SSHelper, Path=GS15}"
                                                           Style="{StaticResource ItemText}"
                                                           HorizontalAlignment="Right"/>

                                                <!-- Visibilité quand plugin présent -->
                                                <Grid.Style>
                                                    <Style TargetType="Grid">
                                                        <Setter Property="Visibility" Value="Visible"/>
                                                        <Style.Triggers>
                                                            <!-- Si GSTotal est vide => on masque les stats -->
                                                            <DataTrigger Binding="{Binding Text, ElementName=TotalTrophiesValue}" Value="">
                                                                <Setter Property="Visibility" Value="Collapsed"/>
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </Grid.Style>
                                            </Grid>

                                            <!-- Panel "plugin manquant" -->
                                            <Border x:Name="TrophyMissingPanel"
                                                    Background="#12000000"
                                                    CornerRadius="8"
                                                    Padding="10"
                                                    HorizontalAlignment="Stretch"
                                                    VerticalAlignment="Center">

                                                <TextBlock Text="{DynamicResource LOCStatsTrophyPluginMissing}"
                                                           Style="{StaticResource ItemText}"
                                                           TextWrapping="Wrap"
                                                           TextAlignment="Center"
                                                           Opacity="0.9"/>

                                                <!-- Visibilité inverse : si pas de GSTotal, on affiche -->
                                                <Border.Style>
                                                    <Style TargetType="Border">
                                                        <Setter Property="Visibility" Value="Collapsed"/>
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{Binding Text, ElementName=TotalTrophiesValue}" Value="">
                                                                <Setter Property="Visibility" Value="Visible"/>
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </Border.Style>
                                            </Border>

                                        </Grid>
                                    </GroupBox>






                                    <!-- Never played -->
                                    <GroupBox Grid.Row="2"
                                              Grid.Column="1"
                                              Header="{DynamicResource LOCStatsNeverPlayed}"
                                              Style="{StaticResource StatCard}"
                                              Margin="10,0,10,10"
                                              HorizontalAlignment="Stretch"
                                              Height="250">
                                        <ItemsControl ItemsSource="{PluginSettings Plugin=AnikiHelper, Path=NeverPlayed}"
                                                      ItemTemplate="{StaticResource OneColItemTemplate}"
                                                      Style="{StaticResource ListSlim}">
                                            <ItemsControl.ItemContainerStyle>
                                                <Style TargetType="ContentPresenter">
                                                    <Setter Property="Margin" Value="0,2"/>
                                                </Style>
                                            </ItemsControl.ItemContainerStyle>
                                        </ItemsControl>
                                    </GroupBox>







                                    <!-- Storage -->
                                    <GroupBox Grid.Row="2" Grid.Column="2" Grid.ColumnSpan="2"
                                              Header="{DynamicResource LocStorage}"
                                              Style="{StaticResource StatCard}" Margin="10,0,10,10"
                                              HorizontalAlignment="Stretch" Height="250">

                                        <ItemsControl ItemsSource="{PluginSettings Plugin=AnikiHelper, Path=DiskUsages}"
                                                      Style="{StaticResource ListSlim}">
                                            <!-- Deux colonnes -->
                                            <ItemsControl.ItemsPanel>
                                                <ItemsPanelTemplate>
                                                    <UniformGrid Columns="2"/>
                                                </ItemsPanelTemplate>
                                            </ItemsControl.ItemsPanel>

                                            <ItemsControl.ItemContainerStyle>
                                                <Style TargetType="ContentPresenter">
                                                    <Setter Property="Margin" Value="2"/>
                                                </Style>
                                            </ItemsControl.ItemContainerStyle>

                                            <ItemsControl.ItemTemplate>
                                                <DataTemplate>
                                                    <Border CornerRadius="8"
                                                            Padding="8,6"
                                                            Margin="2"
                                                            Background="#16FFFFFF"
                                                            BorderBrush="#25FFFFFF"
                                                            BorderThickness="1"
                                                            Effect="{DynamicResource DropShadowEffectLight}">

                                                        <Grid>
                                                            <Grid.RowDefinitions>
                                                                <RowDefinition Height="Auto"/>
                                                                <RowDefinition Height="Auto"/>
                                                            </Grid.RowDefinitions>

                                                            <!-- Ligne d’infos -->
                                                            <Grid Grid.Row="0">
                                                                <Grid.ColumnDefinitions>
                                                                    <ColumnDefinition Width="*"/>
                                                                    <ColumnDefinition Width="Auto"/>
                                                                </Grid.ColumnDefinitions>

                                                                <TextBlock Grid.Column="0"
                                                                           Style="{StaticResource ItemText}">
                                                                    <Run Text="{Binding Label}" FontWeight="SemiBold"/>
                                                                    <Run Text="  "/>
                                                                    <Run Text="{Binding UsedPercentage, StringFormat={}{0:0}%}"/>
                                                                </TextBlock>

                                                                <TextBlock Grid.Column="1"
                                                                           Text="{Binding FreeSpaceString}"
                                                                           Style="{StaticResource ItemText}"
                                                                           FontWeight="SemiBold"
                                                                           Margin="8,0,0,0"/>
                                                            </Grid>

                                                            <!-- Barre fine -->
                                                            <ProgressBar Grid.Row="1"
                                                                         Value="{Binding UsedPercentage}"
                                                                         Maximum="100"
                                                                         Height="10" Margin="0,6,0,0"
                                                                         Background="#33000000">
                                                                <ProgressBar.Style>
                                                                    <Style TargetType="ProgressBar">
                                                                        <Setter Property="Foreground" Value="#0078D7"/>
                                                                        <Style.Triggers>
                                                                            <DataTrigger Binding="{Binding UsedTenthsInt}" Value="8">
                                                                                <Setter Property="Foreground" Value="DarkOrange"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{Binding UsedTenthsInt}" Value="9">
                                                                                <Setter Property="Foreground" Value="DarkRed"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{Binding UsedTenthsInt}" Value="10">
                                                                                <Setter Property="Foreground" Value="DarkRed"/>
                                                                            </DataTrigger>
                                                                        </Style.Triggers>
                                                                    </Style>
                                                                </ProgressBar.Style>
                                                            </ProgressBar>
                                                        </Grid>
                                                    </Border>
                                                </DataTemplate>
                                            </ItemsControl.ItemTemplate>
                                        </ItemsControl>
                                    </GroupBox>



                                </Grid>
                            </Border>
                        </Grid>
                        <Border Background="{DynamicResource ColorBottomBarOtherViewBrush}" CornerRadius="0,0,5,5" HorizontalAlignment="Stretch" VerticalAlignment="Bottom" Height="50" Margin="0,0,0,0"/>
                        <ButtonEx x:Name="BackButton" Margin="0,0,10,10" VerticalAlignment="Bottom" HorizontalAlignment="Right" Style="{StaticResource IconBButton}" Content="{DynamicResource LOCBackLabel}" />
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
        <Style.Triggers>
            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=AspectRatio}" Value="dsp1610">
                <Setter Property="Margin" Value="0,-60,0,-60"/>
            </DataTrigger>
            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=AspectRatio}" Value="dsp219">
                <Setter Property="Margin" Value="-320,0,-320,0"/>
            </DataTrigger>
        </Style.Triggers>
    </Style>

    <!-- Vue ControlCenter -->
    <Style x:Key="ControlCenterWindowStyle" TargetType="ContentControl">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ContentControl">
                    <Grid KeyboardNavigation.TabNavigation="Contained"
                          FocusManager.FocusedElement="{Binding ElementName=ButtonQuick}"
                          HorizontalAlignment="Stretch"
                          VerticalAlignment="Stretch"
                          KeyboardNavigation.DirectionalNavigation="Contained"
                          KeyboardNavigation.ControlTabNavigation="Contained">
                        <Grid.RenderTransform>
                            <TranslateTransform Y="0"/>
                        </Grid.RenderTransform>

                        <Grid.Triggers>
                            <EventTrigger RoutedEvent="FrameworkElement.Loaded">
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.Y)" From="-20" To="0" Duration="0:0:0.3"/>
                                    </Storyboard>
                                </BeginStoryboard>
                            </EventTrigger>
                        </Grid.Triggers>

                        <!-- Control Center -->
                        <Grid x:Name="ControlCenter" Panel.ZIndex="1" Width="{Binding ElementName=PART_ViewHost, Path=ActualWidth}"  KeyboardNavigation.TabNavigation="Contained" KeyboardNavigation.ControlTabNavigation="Contained" KeyboardNavigation.DirectionalNavigation="Cycle">
                            <Grid.Style>
                                <Style TargetType="Grid">
                                    <Setter Property="Opacity" Value="1"/>
                                    <Setter Property="VerticalAlignment" Value="Top"/>
                                    <Setter Property="HorizontalAlignment" Value="Stretch"/>
                                    <Setter Property="Grid.Row" Value="0"/>
                                    <Setter Property="Grid.RowSpan" Value="5"/>
                                    <Setter Property="Grid.ColumnSpan" Value="5"/>
                                    <Setter Property="Margin" Value="0,0,0,0"/>
                                    <Style.Triggers>

                                        <DataTrigger Binding="{Binding ElementName=ThemeOpt, Path=Visibility}" Value="Visible">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </DataTrigger>

                                        <DataTrigger Binding="{Binding ElementName=TrailerOption, Path=Visibility}" Value="Visible">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </DataTrigger>

                                        <DataTrigger Binding="{Binding ElementName=LayoutOption, Path=Visibility}" Value="Visible">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </DataTrigger>

                                        <DataTrigger Binding="{Binding ElementName=DetailsThemeOption, Path=Visibility}" Value="Visible">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </DataTrigger>

                                        <DataTrigger Binding="{Binding ElementName=Volume, Path=Visibility}" Value="Visible">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </DataTrigger>

                                        <DataTrigger Binding="{Binding ElementName=QuickOption, Path=Visibility}" Value="Visible">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </DataTrigger>

                                        <DataTrigger Binding="{Binding ElementName=System, Path=Visibility}" Value="Visible">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </DataTrigger>

                                        <DataTrigger Binding="{Binding ElementName=VisualOption, Path=Visibility}" Value="Visible">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </DataTrigger>

                                        <DataTrigger Binding="{Binding ElementName=DataOption, Path=Visibility}" Value="Visible">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </DataTrigger>

                                    </Style.Triggers>
                                </Style>
                            </Grid.Style>

                            <Grid x:Name="BottomGlass" HorizontalAlignment="Stretch" VerticalAlignment="Top" Height="90">

                                <!-- Fond verre -->
                                <Border CornerRadius="0"
                                        Background="{DynamicResource OverlayMenu}"
                                        Opacity="1"
                                        HorizontalAlignment="Stretch" VerticalAlignment="Stretch"/>

                                <!-- Reflet vertical discret -->
                                <Border CornerRadius="0" IsHitTestVisible="False" Background="{DynamicResource GlassMainBrush}" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" />

                                <!-- Liseré interne -->
                                <Border CornerRadius="0"
                                        Margin="1"
                                        BorderThickness="0,0,0,1"
                                        BorderBrush="{DynamicResource GlassInnerLineBrush}"
                                        IsHitTestVisible="False"
                                        HorizontalAlignment="Stretch" VerticalAlignment="Stretch"/>


                                <!-- Hairline -->
                                <Border HorizontalAlignment="Stretch" Height="1.5" VerticalAlignment="Bottom"
                                        Background="{DynamicResource MenuBorderBrush}" Opacity="0.8"
                                        CornerRadius="0"/>


                                <StackPanel Panel.ZIndex="100" Orientation="Horizontal" HorizontalAlignment="Center">

                                    <CheckBoxEx x:Name="ButtonQuick"
                                                pbeh:FocusBahaviors.OnVisibilityFocus="True"
                                                VerticalAlignment="Center"
                                                Margin="30,0,30,0"
                                                Height="40"
                                                Width="40"
                                                Style="{DynamicResource OptionButtonMain}"
                                                Grid.Column="5"
                                                IsChecked="True">
                                        <CheckBoxEx.Content>
                                            <TextBlock Text="&#xef32;"
                                                       FontFamily="{DynamicResource FontIcoFont}"
                                                       Foreground="{DynamicResource TextBrush}"
                                                       FontSize="36"
                                                       HorizontalAlignment="Center"
                                                       VerticalAlignment="Center"/>
                                        </CheckBoxEx.Content>
                                    </CheckBoxEx>

                                    <CheckBoxEx x:Name="ButtonThemeOption"
                                                Focusable="True"
                                                VerticalAlignment="Center"
                                                Margin="30,0,30,0"
                                                Height="40"
                                                Width="40"
                                                Style="{DynamicResource OptionButtonMain}"
                                                Grid.Column="5"
                                                IsChecked="True">

                                        <CheckBoxEx.Content>
                                            <TextBlock Text="&#xeeee;"
                                                       FontFamily="{DynamicResource FontIcoFont}"
                                                       Foreground="{DynamicResource TextBrush}"
                                                       FontSize="36"
                                                       HorizontalAlignment="Center"
                                                       VerticalAlignment="Center"/>
                                        </CheckBoxEx.Content>

                                    </CheckBoxEx>

                                    <CheckBoxEx x:Name="ButtonThemeOptionDetails"
                                                VerticalAlignment="Center"
                                                Margin="30,0,30,0"
                                                Height="40"
                                                Width="40"
                                                Style="{DynamicResource OptionButtonMain}"
                                                Grid.Column="5"
                                                IsChecked="True">
                                        <CheckBoxEx.Content>
                                            <TextBlock Text="&#xeef2;"
                                                       FontFamily="{DynamicResource FontIcoFont}"
                                                       Foreground="{DynamicResource TextBrush}"
                                                       FontSize="36"
                                                       HorizontalAlignment="Center"
                                                       VerticalAlignment="Center"/>
                                        </CheckBoxEx.Content>
                                    </CheckBoxEx>

                                    <CheckBoxEx x:Name="ButtonTrailer" VerticalAlignment="Center"
                                                Margin="30,0,30,0"
                                                Height="40"
                                                Width="40"
                                                Style="{DynamicResource OptionButtonMain}"
                                                Grid.Column="5"
                                                IsChecked="True">
                                        <CheckBoxEx.Content>
                                            <TextBlock Text="&#xecb2;"
                                                       FontFamily="{DynamicResource FontIcoFont}"
                                                       Foreground="{DynamicResource TextBrush}"
                                                       FontSize="36"
                                                       HorizontalAlignment="Center"
                                                       VerticalAlignment="Center"/>
                                        </CheckBoxEx.Content>
                                    </CheckBoxEx>

                                    <CheckBoxEx x:Name="ButtonSystem" VerticalAlignment="Center"
                                                Margin="30,0,30,0"
                                                Height="40"
                                                Width="40"
                                                Style="{DynamicResource OptionButtonMain}"
                                                Grid.Column="5"
                                                IsChecked="True">
                                        <CheckBoxEx.Content>
                                            <TextBlock Text="&#xf013;"
                                                       FontFamily="{DynamicResource FontIcoFont}"
                                                       Foreground="{DynamicResource TextBrush}"
                                                       FontSize="36"
                                                       HorizontalAlignment="Center"
                                                       VerticalAlignment="Center"/>
                                        </CheckBoxEx.Content>
                                    </CheckBoxEx>


                                    <CheckBoxEx x:Name="ButtonVisual" VerticalAlignment="Center"
                                                Margin="30,0,30,0"
                                                Height="40"
                                                Width="40"
                                                Style="{DynamicResource OptionButtonMain}"
                                                Grid.Column="5"
                                                IsChecked="True">
                                        <CheckBoxEx.Content>
                                            <TextBlock Text="&#xefb3;"
                                                       FontFamily="{DynamicResource FontIcoFont}"
                                                       Foreground="{DynamicResource TextBrush}"
                                                       FontSize="36"
                                                       HorizontalAlignment="Center"
                                                       VerticalAlignment="Center"/>
                                        </CheckBoxEx.Content>
                                    </CheckBoxEx>

                                    <!--   <ButtonEx x:Name="PART_ButtonFilter" VerticalAlignment="Center"
                                    Margin="30,0,30,0" Height="40" Width="40" Style="{DynamicResource ButtonAvatar}" Grid.Column="7">
                                    <ButtonEx.Content>
                                    <Grid>
                                    <Border CornerRadius="2" Height="40" Width="40" VerticalAlignment="Center" HorizontalAlignment="Center"
                                    ClipToBounds="True" >
                                    <Border.Background>
                                    <ImageBrush RenderOptions.BitmapScalingMode="Fant" ImageSource="{ThemeFile 'Images/Buttons/Filter.png'}"
                                    Stretch="UniformToFill"/>
                                    </Border.Background>
                                    </Border>
                                    </Grid>
                                    </ButtonEx.Content>
                                    </ButtonEx>

                                    <ButtonEx x:Name="PART_ButtonSearch" VerticalAlignment="Center"
                                    Margin="30,0,30,0" Height="40" Width="40" Style="{DynamicResource ButtonAvatar}" Grid.Column="7">
                                    <ButtonEx.Content>
                                    <Grid>
                                    <Border CornerRadius="2" Height="40" Width="40" VerticalAlignment="Center" HorizontalAlignment="Center"
                                    ClipToBounds="True" >
                                    <Border.Background>
                                    <ImageBrush RenderOptions.BitmapScalingMode="Fant" ImageSource="{ThemeFile 'Images/Buttons/Search.png'}"
                                    Stretch="UniformToFill"/>
                                    </Border.Background>
                                    </Border>
                                    </Grid>
                                    </ButtonEx.Content>
                                    </ButtonEx> -->

                                    <CheckBoxEx x:Name="ButtonData" VerticalAlignment="Center"
                                                Margin="30,0,30,0"
                                                Height="40"
                                                Width="40"
                                                Style="{DynamicResource OptionButtonMain}"
                                                Grid.Column="5"
                                                IsChecked="True">
                                        <CheckBoxEx.Content>
                                            <TextBlock Text="&#xede5;"
                                                       FontFamily="{DynamicResource FontIcoFont}"
                                                       Foreground="{DynamicResource TextBrush}"
                                                       FontSize="36"
                                                       HorizontalAlignment="Center"
                                                       VerticalAlignment="Center"/>
                                        </CheckBoxEx.Content>
                                    </CheckBoxEx>



                                    <CheckBoxEx x:Name="ButtonAudio" VerticalAlignment="Center"
                                                Margin="30,0,30,0"
                                                Height="40"
                                                Width="40"
                                                Style="{DynamicResource OptionButtonMain}"
                                                Grid.Column="5"
                                                IsChecked="True">
                                        <CheckBoxEx.Content>
                                            <TextBlock Text="&#xeca3;"
                                                       FontFamily="{DynamicResource FontIcoFont}"
                                                       Foreground="{DynamicResource TextBrush}"
                                                       FontSize="36"
                                                       HorizontalAlignment="Center"
                                                       VerticalAlignment="Center"/>
                                        </CheckBoxEx.Content>
                                    </CheckBoxEx>

                                    <CheckBoxEx x:Name="ButtonLayout" VerticalAlignment="Center"
                                                Margin="30,0,30,0"
                                                Height="40"
                                                Width="40"
                                                Style="{DynamicResource OptionButtonMain}"
                                                Grid.Column="5"
                                                IsChecked="True">
                                        <CheckBoxEx.Content>
                                            <TextBlock Text="&#xef5d;"
                                                       FontFamily="{DynamicResource FontIcoFont}"
                                                       Foreground="{DynamicResource TextBrush}"
                                                       FontSize="36"
                                                       HorizontalAlignment="Center"
                                                       VerticalAlignment="Center"/>
                                        </CheckBoxEx.Content>
                                    </CheckBoxEx>


                                </StackPanel>
                            </Grid>
                        </Grid>

                        <!-- ThemeOption ControlCenter -->
                        <Grid x:Name="ThemeOpt" Panel.ZIndex="1" Focusable="True" KeyboardNavigation.TabNavigation="Cycle" KeyboardNavigation.ControlTabNavigation="Cycle" KeyboardNavigation.DirectionalNavigation="Cycle">

                            <Grid.Style>
                                <Style TargetType="Grid">
                                    <Setter Property="Opacity" Value="1"/>
                                    <Setter Property="VerticalAlignment" Value="Center"/>
                                    <Setter Property="HorizontalAlignment" Value="Center"/>
                                    <Setter Property="Grid.Row" Value="0"/>
                                    <Setter Property="Grid.RowSpan" Value="5"/>
                                    <Setter Property="Grid.ColumnSpan" Value="3"/>
                                    <Setter Property="Visibility" Value="Collapsed"/>
                                    <Setter Property="Margin" Value="0,0,0,0"/>
                                    <Setter Property="MinWidth" Value="700"/>
                                    <Style.Triggers>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Binding ElementName=ButtonThemeOption, Path=IsChecked}" Value="False" />
                                            </MultiDataTrigger.Conditions>
                                            <Setter Property="Visibility" Value="Visible" />
                                            <Setter Property="FocusManager.FocusedElement" Value="{Binding ElementName=ThemeOptButton1}" />
                                        </MultiDataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Grid.Style>
                            <Grid>
                                <!-- Fond verre fumé -->
                                <Border Background="{DynamicResource OverlayMenu}"
                                        CornerRadius="14"
                                        Opacity="1"/>

                                <!-- Reflet vertical discret -->
                                <Border CornerRadius="14" Background="{DynamicResource GlassMainBrush}" IsHitTestVisible="False" />

                                <!-- Liseré interne fin -->
                                <Border CornerRadius="14"
                                        BorderBrush="{DynamicResource GlassInnerLineBrush}"
                                        Margin="1"
                                        BorderThickness="1,1,1,1"
                                        IsHitTestVisible="False"/>
                                <Grid>
                                    <ButtonEx x:Name="CloseThemeOpt"  Width="50" Height="50" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="0,10,10,0" Style="{DynamicResource ButtonAvatar}">
                                        <ButtonEx.Triggers>
                                            <EventTrigger RoutedEvent="ButtonBase.Click">
                                                <BeginStoryboard>
                                                    <Storyboard>
                                                        <BooleanAnimationUsingKeyFrames
                                                            Storyboard.TargetName="ButtonThemeOption"
                                                            Storyboard.TargetProperty="IsChecked">
                                                            <DiscreteBooleanKeyFrame KeyTime="0:0:0" Value="True"/>
                                                        </BooleanAnimationUsingKeyFrames>
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </EventTrigger>
                                        </ButtonEx.Triggers>
                                        <ButtonEx.Content>
                                            <TextBlock Text="&#xec4f;" FontFamily="{DynamicResource FontIcoFont}" Foreground="{DynamicResource TextBrush}" FontSize="25" HorizontalAlignment="Right" VerticalAlignment="Top" />
                                        </ButtonEx.Content>
                                    </ButtonEx>
                                    <TextBlock Style="{DynamicResource TextBlockBoldBaseStyle}" Foreground="{DynamicResource TextHighlightBrush}" HorizontalAlignment="Center" VerticalAlignment="Top" FontSize="30" Opacity="0.8" Text="{DynamicResource LOCThemOptsMain}" Margin="20,15,0,0" />


                                    <StackPanel Margin="50,80,50,40" Orientation="Vertical">

                                        <Grid Margin="0,10,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24"	Text="{DynamicResource LOCAltInfo}" />
                                            </StackPanel>
                                            <StackPanel	Grid.Column="1" HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx x:Name="ThemeOptButton1" HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{PluginSettings Plugin=ThemeOptions, Path=Options[AltInfo], Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                        <Grid Margin="0,10,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Vertical">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24"	Text="{DynamicResource LOCTopInfoBar}" />
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="14"	Text="{DynamicResource LOCTopInfoBarDesc}" />
                                            </StackPanel>
                                            <StackPanel	Grid.Column="1" HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{PluginSettings Plugin=ThemeOptions, Path=Options[TopInfoBar], Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                        <Grid Margin="0,10,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24"	Text="{DynamicResource LOCFullBar}" />
                                            </StackPanel>
                                            <StackPanel	Grid.Column="1" HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{PluginSettings Plugin=ThemeOptions, Path=Options[FullBar], Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                        <Grid Margin="0,10,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24"	Text="{DynamicResource LOCMainDesc}" />
                                            </StackPanel>
                                            <StackPanel	Grid.Column="1" HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{PluginSettings Plugin=ThemeOptions, Path=Options[MainDesc], Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                        <Grid Margin="0,10,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24"	Text="{DynamicResource LOCButtonControllerVisibleByDefault}" />
                                            </StackPanel>
                                            <StackPanel	Grid.Column="1" HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{PluginSettings Plugin=ThemeOptions, Path=Options[ButtonControllerVisibleByDefault], Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                        <Grid Margin="0,10,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24"	Text="{DynamicResource LOCPlatformBanner}" />
                                            </StackPanel>
                                            <StackPanel	Grid.Column="1" HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{PluginSettings Plugin=ThemeOptions, Path=Options[PlatformBanner], Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>


                                        <Grid Margin="0,10,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24"	Text="{DynamicResource LOCAgeRatingOnMainView}" />
                                            </StackPanel>
                                            <StackPanel	Grid.Column="1" HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{PluginSettings Plugin=ThemeOptions, Path=Options[AgeRatingOnMainScreen], Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>


                                        <Grid Margin="0,10,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24"	Text="{DynamicResource LOCSourceLogoOnTopScreen}" />
                                            </StackPanel>
                                            <StackPanel	Grid.Column="1" HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{PluginSettings Plugin=ThemeOptions, Path=Options[SourceLogoOnTopScreen], Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                        <Grid Margin="0,10,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24"	Text="{DynamicResource LOCCompletionStatusOnGameCover}" />
                                            </StackPanel>
                                            <StackPanel	Grid.Column="1" HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{PluginSettings Plugin=ThemeOptions, Path=Options[CompletionStatusOnOff], Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                        <Grid Margin="0,10,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24"	Text="{DynamicResource LOCTrophyOnMainView}" />
                                            </StackPanel>
                                            <StackPanel	Grid.Column="1" HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{PluginSettings Plugin=ThemeOptions, Path=Options[SuccessOnMainMenu], Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                        <Grid Margin="0,10,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24"	Text="{DynamicResource LOCFeaturesSteamMain}" />
                                            </StackPanel>
                                            <StackPanel	Grid.Column="1" HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{PluginSettings Plugin=ThemeOptions, Path=Options[FeaturesSteamMain], Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                        <Grid Margin="0,10,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24"	Text="{DynamicResource LOCMainDesc}" />
                                            </StackPanel>
                                            <StackPanel	Grid.Column="1" HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{PluginSettings Plugin=ThemeOptions, Path=Options[MainDesc], Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                        <Grid Margin="0,10,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Vertical">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24"	Text="{DynamicResource LOCBottomBarAutoHide}" />
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="14"	Text="Restart Playnite" />
                                            </StackPanel>
                                            <StackPanel	Grid.Column="1" HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{PluginSettings Plugin=ThemeOptions, Path=Options[BottomBarVisible], Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                    </StackPanel>
                                </Grid>
                            </Grid>
                        </Grid>

                        <!-- Quick ControlCenter -->
                        <Grid x:Name="QuickOption" Panel.ZIndex="1" Focusable="True" KeyboardNavigation.TabNavigation="Cycle" KeyboardNavigation.ControlTabNavigation="Cycle" KeyboardNavigation.DirectionalNavigation="Cycle">

                            <Grid.Style>
                                <Style TargetType="Grid">
                                    <Setter Property="Opacity" Value="1"/>
                                    <Setter Property="VerticalAlignment" Value="Center"/>
                                    <Setter Property="HorizontalAlignment" Value="Center"/>
                                    <Setter Property="Grid.Row" Value="0"/>
                                    <Setter Property="Grid.RowSpan" Value="5"/>
                                    <Setter Property="Grid.ColumnSpan" Value="3"/>
                                    <Setter Property="Visibility" Value="Collapsed"/>
                                    <Setter Property="Margin" Value="0,0,0,0"/>
                                    <Setter Property="MinWidth" Value="500"/>
                                    <Style.Triggers>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Binding ElementName=ButtonQuick, Path=IsChecked}" Value="False" />
                                            </MultiDataTrigger.Conditions>
                                            <Setter Property="Visibility" Value="Visible" />
                                            <Setter Property="FocusManager.FocusedElement" Value="{Binding ElementName=ButtonQuick1}" />
                                        </MultiDataTrigger>

                                    </Style.Triggers>
                                </Style>
                            </Grid.Style>
                            <Grid>
                                <!-- Fond verre fumé -->
                                <Border Background="{DynamicResource OverlayMenu}"
                                        CornerRadius="14"
                                        Opacity="0.9"/>

                                <!-- Reflet vertical discret -->
                                <Border CornerRadius="14" Background="{DynamicResource GlassMainBrush}" IsHitTestVisible="False" />

                                <!-- Liseré interne fin -->
                                <Border CornerRadius="14"
                                        BorderBrush="{DynamicResource GlassInnerLineBrush}"
                                        Margin="1"
                                        BorderThickness="1,1,1,1"
                                        IsHitTestVisible="False"/>
                                <Grid>
                                    <ButtonEx x:Name="CloseQuick" Width="50" Height="50" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="0,10,10,0" Style="{DynamicResource ButtonAvatar}">
                                        <ButtonEx.Triggers>
                                            <EventTrigger RoutedEvent="ButtonBase.Click">
                                                <BeginStoryboard>
                                                    <Storyboard>
                                                        <BooleanAnimationUsingKeyFrames Storyboard.TargetName="ButtonQuick"
                                                                                        Storyboard.TargetProperty="IsChecked">
                                                            <DiscreteBooleanKeyFrame KeyTime="0:0:0" Value="True"/>
                                                        </BooleanAnimationUsingKeyFrames>
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </EventTrigger>
                                        </ButtonEx.Triggers>
                                        <ButtonEx.Content>
                                            <TextBlock Text="&#xec4f;" FontFamily="{DynamicResource FontIcoFont}" Foreground="{DynamicResource TextBrush}" FontSize="25" HorizontalAlignment="Right" VerticalAlignment="Top" />

                                        </ButtonEx.Content>
                                    </ButtonEx>
                                    <TextBlock Style="{DynamicResource TextBlockBoldBaseStyle}" Foreground="{DynamicResource TextHighlightBrush}" HorizontalAlignment="Center" VerticalAlignment="Top" FontSize="30" Opacity="0.8" Text="{DynamicResource LOCQuickSetting}" Margin="20,15,0,0" />
                                    <StackPanel Margin="50,80,50,40" Orientation="Vertical">

                                        <Grid Margin="0,20,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24"	Text="{DynamicResource LOCSteamBanner}" />
                                            </StackPanel>
                                            <StackPanel	Grid.Column="1" HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx x:Name="ButtonQuick1" HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{PluginSettings Plugin=ThemeOptions, Path=Options[SteamBanner], Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                        <Grid Margin="0,20,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24"	Text="{DynamicResource LOCButtonControllerVisibleByDefault}" />
                                            </StackPanel>
                                            <StackPanel	Grid.Column="1" HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{PluginSettings Plugin=ThemeOptions, Path=Options[ButtonControllerVisibleByDefault], Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                        <Grid Margin="0,20,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24"	Text="{DynamicResource LOCMainDesc}" />
                                            </StackPanel>
                                            <StackPanel	Grid.Column="1" HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{PluginSettings Plugin=ThemeOptions, Path=Options[MainDesc], Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                        <Grid Margin="0,20,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24"	Text="{DynamicResource LOCAltInfo}" />
                                            </StackPanel>
                                            <StackPanel	Grid.Column="1" HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{PluginSettings Plugin=ThemeOptions, Path=Options[AltInfo], Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                        <Grid Margin="0,20,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24"	Text="{DynamicResource LOCTopInfoBar}" />
                                            </StackPanel>
                                            <StackPanel	Grid.Column="1" HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{PluginSettings Plugin=ThemeOptions, Path=Options[TopInfoBar], Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                        <Grid Margin="0,20,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24"	Text="{DynamicResource LOCFullBar}" />
                                            </StackPanel>
                                            <StackPanel	Grid.Column="1" HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{PluginSettings Plugin=ThemeOptions, Path=Options[FullBar], Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                        <Grid Margin="0,20,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24"	Text="{DynamicResource LOCCinematicFocusEffect}" />
                                            </StackPanel>
                                            <StackPanel	Grid.Column="1" HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{PluginSettings Plugin=ThemeOptions, Path=Options[CinematicFocusEffect], Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>


                                        <Grid Margin="0,20,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24"	Text="{DynamicResource LOCPlatformBanner}" />
                                            </StackPanel>
                                            <StackPanel	Grid.Column="1" HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{PluginSettings Plugin=ThemeOptions, Path=Options[PlatformBanner], Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>


                                        <Grid Margin="0,20,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24"	Text="{DynamicResource LOCTrailerOptionMainCC}" />
                                            </StackPanel>
                                            <StackPanel	Grid.Column="1" HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{PluginSettings Plugin=ThemeOptions, Path=Options[TrailerOnMainView], Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>



                                    </StackPanel>
                                </Grid>
                            </Grid>

                        </Grid>

                        <!-- System ControlCenter -->
                        <Grid x:Name="System" Panel.ZIndex="1" Focusable="True" KeyboardNavigation.TabNavigation="Cycle" KeyboardNavigation.ControlTabNavigation="Cycle" KeyboardNavigation.DirectionalNavigation="Cycle">

                            <Grid.Style>
                                <Style TargetType="Grid">
                                    <Setter Property="Opacity" Value="1"/>
                                    <Setter Property="VerticalAlignment" Value="Center"/>
                                    <Setter Property="HorizontalAlignment" Value="Center"/>
                                    <Setter Property="Grid.Row" Value="0"/>
                                    <Setter Property="Grid.RowSpan" Value="5"/>
                                    <Setter Property="Grid.ColumnSpan" Value="3"/>
                                    <Setter Property="Visibility" Value="Collapsed"/>
                                    <Setter Property="Margin" Value="0,0,0,0"/>
                                    <Setter Property="MinWidth" Value="500"/>
                                    <Style.Triggers>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Binding ElementName=ButtonSystem, Path=IsChecked}" Value="False" />
                                            </MultiDataTrigger.Conditions>
                                            <Setter Property="Visibility" Value="Visible" />
                                            <Setter Property="FocusManager.FocusedElement" Value="{Binding ElementName=Batt}" />
                                        </MultiDataTrigger>

                                    </Style.Triggers>
                                </Style>
                            </Grid.Style>
                            <Grid>
                                <!-- Fond verre fumé -->
                                <Border Background="{DynamicResource OverlayMenu}"
                                        CornerRadius="14"
                                        Opacity="0.9"/>

                                <!-- Reflet vertical discret -->
                                <Border CornerRadius="14" Background="{DynamicResource GlassMainBrush}" IsHitTestVisible="False" />

                                <!-- Liseré interne fin -->
                                <Border CornerRadius="14"
                                        BorderBrush="{DynamicResource GlassInnerLineBrush}"
                                        Margin="1"
                                        BorderThickness="1,1,1,1"
                                        IsHitTestVisible="False"/>
                                <Grid>
                                    <ButtonEx x:Name="CloseSystem" Width="50" Height="50" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="0,10,10,0" Style="{DynamicResource ButtonAvatar}">
                                        <ButtonEx.Triggers>
                                            <EventTrigger RoutedEvent="ButtonBase.Click">
                                                <BeginStoryboard>
                                                    <Storyboard>
                                                        <BooleanAnimationUsingKeyFrames Storyboard.TargetName="ButtonSystem"
                                                                                        Storyboard.TargetProperty="IsChecked">
                                                            <DiscreteBooleanKeyFrame KeyTime="0:0:0" Value="True"/>
                                                        </BooleanAnimationUsingKeyFrames>
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </EventTrigger>
                                        </ButtonEx.Triggers>
                                        <ButtonEx.Content>
                                            <TextBlock Text="&#xec4f;" FontFamily="{DynamicResource FontIcoFont}" Foreground="{DynamicResource TextBrush}" FontSize="25" HorizontalAlignment="Right" VerticalAlignment="Top" />
                                        </ButtonEx.Content>
                                    </ButtonEx>
                                    <TextBlock Style="{DynamicResource TextBlockBoldBaseStyle}" Foreground="{DynamicResource TextHighlightBrush}" HorizontalAlignment="Center" VerticalAlignment="Top" FontSize="30" Opacity="0.8" Text="{DynamicResource LOCSettingsFSSectionGeneral}" Margin="20,15,0,0" />
                                    <StackPanel Margin="50,80,50,40" Orientation="Vertical">

                                        <Grid Margin="0,20,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24" Text="{DynamicResource LOCSettingsShowBatteryStatus}" />
                                            </StackPanel>
                                            <StackPanel	Grid.Column="1"	HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx x:Name="Batt" HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{Settings Fullscreen.ShowBattery, Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                        <Grid Margin="0,20,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24" Text="{DynamicResource LOCSettingsShowBatteryPercentage}" />
                                            </StackPanel>

                                            <StackPanel	Grid.Column="1"	HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx  HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{Settings Fullscreen.ShowBatteryPercentage, Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                        <Grid Margin="0,20,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24" Text="{DynamicResource LOCSettingsShowClock}" />
                                            </StackPanel>

                                            <StackPanel	Grid.Column="1"	HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx  HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{Settings Fullscreen.ShowClock, Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                        <Grid Margin="0,20,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24"	Text="{DynamicResource LOCShowMoData}" />
                                            </StackPanel>
                                            <StackPanel	Grid.Column="1" HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{PluginSettings Plugin=ThemeOptions, Path=Options[ShowMoData], Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                        <Grid Margin="0,20,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24" Text="{DynamicResource LOCSettingsMinimizeAfterStartingGame}" />
                                            </StackPanel>

                                            <StackPanel	Grid.Column="1"	HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{Settings Fullscreen.MinimizeAfterGameStartup, Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                        <Grid Margin="0,20,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24" Text="{DynamicResource LOCSettingsHideMouseCursor}" />
                                            </StackPanel>

                                            <StackPanel	Grid.Column="1"	HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{Settings Fullscreen.HideMouserCursor, Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                        <Grid Margin="0,20,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24" Text="{DynamicResource LOCSettingsRefocusOnGuidButton}" />
                                            </StackPanel>

                                            <StackPanel	Grid.Column="1"	HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{Settings Fullscreen.GuideButtonFocus, Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                    </StackPanel>
                                </Grid>
                            </Grid>
                        </Grid>

                        <!-- VisualOption ControlCenter -->
                        <Grid x:Name="VisualOption" Panel.ZIndex="1" Focusable="True" KeyboardNavigation.TabNavigation="Cycle" KeyboardNavigation.ControlTabNavigation="Cycle" KeyboardNavigation.DirectionalNavigation="Cycle">

                            <Grid.Style>
                                <Style TargetType="Grid">
                                    <Setter Property="Opacity" Value="1"/>
                                    <Setter Property="VerticalAlignment" Value="Center"/>
                                    <Setter Property="HorizontalAlignment" Value="Center"/>
                                    <Setter Property="Grid.Row" Value="0"/>
                                    <Setter Property="Grid.RowSpan" Value="5"/>
                                    <Setter Property="Grid.ColumnSpan" Value="3"/>
                                    <Setter Property="Visibility" Value="Collapsed"/>
                                    <Setter Property="Margin" Value="0,0,0,0"/>
                                    <Setter Property="MinWidth" Value="500"/>
                                    <Style.Triggers>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Binding ElementName=ButtonVisual, Path=IsChecked}" Value="False" />
                                            </MultiDataTrigger.Conditions>
                                            <Setter Property="Visibility" Value="Visible" />
                                            <Setter Property="FocusManager.FocusedElement" Value="{Binding ElementName=ButtonVisual1}" />
                                        </MultiDataTrigger>

                                    </Style.Triggers>
                                </Style>
                            </Grid.Style>
                            <Grid>
                                <!-- Fond verre fumé -->
                                <Border Background="{DynamicResource OverlayMenu}"
                                        CornerRadius="14"
                                        Opacity="0.9"/>

                                <!-- Reflet vertical discret -->
                                <Border CornerRadius="14" Background="{DynamicResource GlassMainBrush}" IsHitTestVisible="False" />

                                <!-- Liseré interne fin -->
                                <Border CornerRadius="14"
                                        BorderBrush="{DynamicResource GlassInnerLineBrush}"
                                        Margin="1"
                                        BorderThickness="1,1,1,1"
                                        IsHitTestVisible="False"/>
                                <Grid>
                                    <ButtonEx x:Name="CloseVisual" Width="50" Height="50" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="0,10,10,0" Style="{DynamicResource ButtonAvatar}">
                                        <ButtonEx.Triggers>
                                            <EventTrigger RoutedEvent="ButtonBase.Click">
                                                <BeginStoryboard>
                                                    <Storyboard>
                                                        <BooleanAnimationUsingKeyFrames Storyboard.TargetName="ButtonVisual"
                                                                                        Storyboard.TargetProperty="IsChecked">
                                                            <DiscreteBooleanKeyFrame KeyTime="0:0:0" Value="True"/>
                                                        </BooleanAnimationUsingKeyFrames>
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </EventTrigger>
                                        </ButtonEx.Triggers>
                                        <ButtonEx.Content>
                                            <TextBlock Text="&#xec4f;" FontFamily="{DynamicResource FontIcoFont}" Foreground="{DynamicResource TextBrush}" FontSize="25" HorizontalAlignment="Right" VerticalAlignment="Top" />

                                        </ButtonEx.Content>
                                    </ButtonEx>
                                    <TextBlock Style="{DynamicResource TextBlockBoldBaseStyle}" Foreground="{DynamicResource TextHighlightBrush}" HorizontalAlignment="Center" VerticalAlignment="Top" FontSize="30" Opacity="0.8" Text="{DynamicResource LOCVisualEffects}" Margin="20,15,0,0" />
                                    <StackPanel Margin="50,80,50,40" Orientation="Vertical">

                                        <Grid Margin="0,10,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24"	Text="{DynamicResource LOCTrophyFrameOnMain}" />
                                            </StackPanel>
                                            <StackPanel	Grid.Column="1" HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx x:Name="ButtonVisual1" HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{PluginSettings Plugin=ThemeOptions, Path=Options[TrophyFrameOnMain], Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                        <Grid Margin="0,10,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Vertical">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24"	Text="{DynamicResource LOCCinematicFocusEffect}" />
                                                <TextBlock Style="{DynamicResource TextBlockMiniStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="14"	Text="{DynamicResource LOCCinematicFocusEffectInfo}" />
                                            </StackPanel>
                                            <StackPanel	Grid.Column="1" HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{PluginSettings Plugin=ThemeOptions, Path=Options[CinematicFocusEffect], Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                        <Grid Margin="0,10,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Vertical">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24"	Text="{DynamicResource LOCAnimationBackground}" />
                                                <TextBlock Style="{DynamicResource TextBlockMiniStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="14"	Text="{DynamicResource LOCAnimationBackgroundInfo}" />
                                            </StackPanel>
                                            <StackPanel	Grid.Column="1" HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{PluginSettings Plugin=ThemeOptions, Path=Options[AnimationBackground], Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                        <Grid Margin="0,10,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24"	Text="{DynamicResource LOCAnimationPanel}" />
                                            </StackPanel>
                                            <StackPanel	Grid.Column="1" HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{PluginSettings Plugin=ThemeOptions, Path=Options[EnterDetailsZoom], Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                        <Grid Margin="0,10,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Vertical">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24"	Text="{DynamicResource LOCGameLogoAnimationOnMainView}" />
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="14"	Text="Restart Playnite" />
                                            </StackPanel>
                                            <StackPanel	Grid.Column="1" HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{PluginSettings Plugin=ThemeOptions, Path=Options[LogoAnimation], Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                        <Grid Margin="0,10,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24"	Text="{DynamicResource LOCEnterDetailsZoom}" />
                                            </StackPanel>
                                            <StackPanel	Grid.Column="1" HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{PluginSettings Plugin=ThemeOptions, Path=Options[AnimationPanel], Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                        <Grid Margin="0,10,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24" Text="{DynamicResource LOCSettingsFullscreenShowGameTitles}" />
                                            </StackPanel>

                                            <StackPanel	Grid.Column="1"	HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{Settings Fullscreen.ShowGameTitles, Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                        <Grid Margin="0,10,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24" Text="{DynamicResource LOCSettingsDarkenUninstalledGridCovers}" />
                                            </StackPanel>

                                            <StackPanel	Grid.Column="1"	HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{Settings Fullscreen.MainBackgroundImageDarkAmount, Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                        <Grid Margin="0,10,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24" Text="{DynamicResource LOCSettingsFullscreenBackgroundOnMainScreen}" />
                                            </StackPanel>

                                            <StackPanel	Grid.Column="1"	HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{Settings Fullscreen.EnableMainBackgroundImage, Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                        <Grid Margin="0,10,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24"	Text="{DynamicResource LOCSettingsDarkenWindowBackghrounImage}" />
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="0,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center"  FontSize="24"  Text="{Settings Fullscreen.MainBackgroundImageDarkAmount}" />
                                            </StackPanel>
                                            <StackPanel	Grid.Column="1" HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <SliderEx HorizontalAlignment="Right" VerticalAlignment="Center" IsSnapToTickEnabled="True"	LargeChange="5" Maximum="100" Minimum="0"
                                                          SmallChange="5" Style="{DynamicResource SettingsSectionSlider}" TickFrequency="5" Value="{Settings Fullscreen.MainBackgroundImageDarkAmount, Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                        <Grid Margin="0,10,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24"	Text="{DynamicResource LOCSettingsBlurWindowBackgrounImage}" />
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="0,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center"  FontSize="24"  Text="{Settings Fullscreen.MainBackgroundImageBlurAmount}" />
                                            </StackPanel>
                                            <StackPanel	Grid.Column="1" HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <SliderEx HorizontalAlignment="Right" VerticalAlignment="Center" IsSnapToTickEnabled="True"	LargeChange="5" Maximum="100" Minimum="0"
                                                          SmallChange="5" Style="{DynamicResource SettingsSectionSlider}" TickFrequency="5" Value="{Settings Fullscreen.MainBackgroundImageBlurAmount, Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                    </StackPanel>
                                </Grid>
                            </Grid>

                        </Grid>

                        <!-- TrailerOption ControlCenter -->
                        <Grid x:Name="TrailerOption" Panel.ZIndex="1" Focusable="True" KeyboardNavigation.TabNavigation="Cycle" KeyboardNavigation.ControlTabNavigation="Cycle" KeyboardNavigation.DirectionalNavigation="Cycle">

                            <Grid.Style>
                                <Style TargetType="Grid">
                                    <Setter Property="Opacity" Value="1"/>
                                    <Setter Property="VerticalAlignment" Value="Center"/>
                                    <Setter Property="HorizontalAlignment" Value="Center"/>
                                    <Setter Property="Grid.Row" Value="0"/>
                                    <Setter Property="Grid.RowSpan" Value="5"/>
                                    <Setter Property="Grid.ColumnSpan" Value="3"/>
                                    <Setter Property="Visibility" Value="Collapsed"/>
                                    <Setter Property="Margin" Value="0,0,0,0"/>
                                    <Setter Property="MinWidth" Value="500"/>
                                    <Style.Triggers>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Binding ElementName=ButtonTrailer, Path=IsChecked}" Value="False" />
                                            </MultiDataTrigger.Conditions>
                                            <Setter Property="Visibility" Value="Visible" />
                                            <Setter Property="FocusManager.FocusedElement" Value="{Binding ElementName=ButtonTrailer1}" />
                                        </MultiDataTrigger>

                                    </Style.Triggers>
                                </Style>
                            </Grid.Style>
                            <Grid>
                                <!-- Fond verre fumé -->
                                <Border Background="{DynamicResource OverlayMenu}"
                                        CornerRadius="14"
                                        Opacity="0.9"/>

                                <!-- Reflet vertical discret -->
                                <Border CornerRadius="14" Background="{DynamicResource GlassMainBrush}" IsHitTestVisible="False" />

                                <!-- Liseré interne fin -->
                                <Border CornerRadius="14"
                                        BorderBrush="{DynamicResource GlassInnerLineBrush}"
                                        Margin="1"
                                        BorderThickness="1,1,1,1"
                                        IsHitTestVisible="False"/>
                                <Grid>
                                    <ButtonEx x:Name="CloseTrailer" Width="50" Height="50" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="0,10,10,0" Style="{DynamicResource ButtonAvatar}">
                                        <ButtonEx.Triggers>
                                            <EventTrigger RoutedEvent="ButtonBase.Click">
                                                <BeginStoryboard>
                                                    <Storyboard>
                                                        <BooleanAnimationUsingKeyFrames Storyboard.TargetName="ButtonTrailer"
                                                                                        Storyboard.TargetProperty="IsChecked">
                                                            <DiscreteBooleanKeyFrame KeyTime="0:0:0" Value="True"/>
                                                        </BooleanAnimationUsingKeyFrames>
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </EventTrigger>
                                        </ButtonEx.Triggers>
                                        <ButtonEx.Content>
                                            <TextBlock Text="&#xec4f;" FontFamily="{DynamicResource FontIcoFont}" Foreground="{DynamicResource TextBrush}" FontSize="25" HorizontalAlignment="Right" VerticalAlignment="Top" />

                                        </ButtonEx.Content>
                                    </ButtonEx>
                                    <TextBlock Style="{DynamicResource TextBlockBoldBaseStyle}" Foreground="{DynamicResource TextHighlightBrush}" HorizontalAlignment="Center" VerticalAlignment="Top" FontSize="30" Opacity="0.8" Text="{DynamicResource LOCTrailerControlCenter}" Margin="20,15,0,0" />
                                    <StackPanel Margin="50,80,50,40" Orientation="Vertical">

                                        <Grid Margin="0,20,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24"	Text="{DynamicResource LOCTrailerOptionMainCC}" />
                                            </StackPanel>
                                            <StackPanel	Grid.Column="1" HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx x:Name="ButtonTrailer1" HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{PluginSettings Plugin=ThemeOptions, Path=Options[TrailerOnMainView], Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                        <Grid Margin="0,20,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24"	Text="{DynamicResource LOCTrailerOptionDetailsCC}" />
                                            </StackPanel>
                                            <StackPanel	Grid.Column="1" HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{PluginSettings Plugin=ThemeOptions, Path=Options[TrailerOnDetailsView], Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                        <Grid Margin="0,20,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Vertical">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24"	Text="{DynamicResource LOCMiniTrailerCC}" />
                                                <TextBlock Style="{DynamicResource TextBlockMiniStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="14"	Text="Restart Playnite" />
                                            </StackPanel>
                                            <StackPanel	Grid.Column="1" HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{PluginSettings Plugin=ThemeOptions, Path=Options[MiniTrailer], Mode=TwoWay}" />
                                            </StackPanel>

                                        </Grid>

                                    </StackPanel>
                                </Grid>
                            </Grid>

                        </Grid>

                        <!--Layout ControlCenter-->
                        <Grid x:Name="LayoutOption" Panel.ZIndex="1" Focusable="True" KeyboardNavigation.TabNavigation="Cycle" KeyboardNavigation.ControlTabNavigation="Cycle" KeyboardNavigation.DirectionalNavigation="Cycle">

                            <Grid.Style>
                                <Style TargetType="Grid">
                                    <Setter Property="Opacity" Value="1"/>
                                    <Setter Property="VerticalAlignment" Value="Center"/>
                                    <Setter Property="HorizontalAlignment" Value="Center"/>
                                    <Setter Property="Grid.Row" Value="0"/>
                                    <Setter Property="Grid.RowSpan" Value="5"/>
                                    <Setter Property="Grid.ColumnSpan" Value="3"/>
                                    <Setter Property="Visibility" Value="Collapsed"/>
                                    <Setter Property="Margin" Value="0,0,0,0"/>
                                    <Setter Property="MinWidth" Value="500"/>
                                    <Style.Triggers>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Binding ElementName=ButtonLayout, Path=IsChecked}" Value="False" />
                                            </MultiDataTrigger.Conditions>
                                            <Setter Property="Visibility" Value="Visible" />
                                            <Setter Property="FocusManager.FocusedElement" Value="{Binding ElementName=ButtonLayout1}" />
                                        </MultiDataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Grid.Style>

                            <Grid>
                                <!-- Fond verre fumé -->
                                <Border Background="{DynamicResource OverlayMenu}"
                                        CornerRadius="14"
                                        Opacity="0.9"/>

                                <!-- Reflet vertical discret -->
                                <Border CornerRadius="14" Background="{DynamicResource GlassMainBrush}" IsHitTestVisible="False" />

                                <!-- Liseré interne fin -->
                                <Border CornerRadius="14"
                                        BorderBrush="{DynamicResource GlassInnerLineBrush}"
                                        Margin="1"
                                        BorderThickness="1,1,1,1"
                                        IsHitTestVisible="False"/>
                                <Grid>

                                    <ButtonEx x:Name="CloseLayout" Width="50" Height="50" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="0,10,10,0" Style="{DynamicResource ButtonAvatar}">
                                        <ButtonEx.Triggers>
                                            <EventTrigger RoutedEvent="ButtonBase.Click">
                                                <BeginStoryboard>
                                                    <Storyboard>
                                                        <BooleanAnimationUsingKeyFrames Storyboard.TargetName="ButtonLayout"
                                                                                        Storyboard.TargetProperty="IsChecked">
                                                            <DiscreteBooleanKeyFrame KeyTime="0:0:0" Value="True"/>
                                                        </BooleanAnimationUsingKeyFrames>
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </EventTrigger>
                                        </ButtonEx.Triggers>
                                        <ButtonEx.Content>
                                            <TextBlock Text="&#xec4f;" FontFamily="{DynamicResource FontIcoFont}" Foreground="{DynamicResource TextBrush}" FontSize="25" HorizontalAlignment="Right" VerticalAlignment="Top" />
                                        </ButtonEx.Content>
                                    </ButtonEx>
                                    <TextBlock Style="{DynamicResource TextBlockBoldBaseStyle}" Foreground="{DynamicResource TextHighlightBrush}" HorizontalAlignment="Center" VerticalAlignment="Top" FontSize="30" Opacity="0.8" Text="{DynamicResource LOCSettingsLayoutLabel}" Margin="20,15,0,0" />

                                    <StackPanel Margin="50,80,50,40" Orientation="Vertical">


                                        <Grid Margin="0,20,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24" Text="{DynamicResource LOCColumns}" />
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="0,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24" Text="{Settings Fullscreen.Columns}" />
                                            </StackPanel>

                                            <StackPanel	Grid.Column="1"	HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <StackPanel.Style>
                                                    <Style TargetType="StackPanel">
                                                        <Style.Triggers>
                                                        </Style.Triggers>
                                                    </Style>
                                                </StackPanel.Style>
                                                <SliderEx x:Name="ButtonLayout1" HorizontalAlignment="Right" VerticalAlignment="Center" IsSnapToTickEnabled="True" LargeChange="1" Maximum="10" Minimum="1"
                                                          SmallChange="1"	Style="{DynamicResource SettingsSectionSlider}"	TickFrequency="1" Value="{Settings Fullscreen.Columns, Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                        <Grid Margin="0,20,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24"	Text="{DynamicResource LOCSettingsGridItemSpacing}" />
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="0,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center"  FontSize="24"  Text="{Settings FullscreenItemSpacing}" />
                                            </StackPanel>
                                            <StackPanel	Grid.Column="1" HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <SliderEx HorizontalAlignment="Right" VerticalAlignment="Center" IsSnapToTickEnabled="True"	LargeChange="5" Maximum="200" Minimum="0"
                                                          SmallChange="5" Style="{DynamicResource SettingsSectionSlider}" TickFrequency="5" Value="{Settings FullscreenItemSpacing, Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                        <Grid Margin="0,20,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24"	Text="{DynamicResource LOCRows}" />
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="0,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center"  FontSize="24"  Text="{Settings Fullscreen.Rows}" />
                                            </StackPanel>
                                            <StackPanel	Grid.Column="1" HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <SliderEx HorizontalAlignment="Right" VerticalAlignment="Center" IsSnapToTickEnabled="True"	LargeChange="1" Maximum="10" Minimum="1"
                                                          SmallChange="1" Style="{DynamicResource SettingsSectionSlider}" TickFrequency="1" Value="{Settings Fullscreen.Rows, Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                    </StackPanel>
                                </Grid>
                            </Grid>
                        </Grid>

                        <!--Details ThemeOptions-->
                        <Grid x:Name="DetailsThemeOption" Panel.ZIndex="1" Focusable="True" KeyboardNavigation.TabNavigation="Cycle" KeyboardNavigation.ControlTabNavigation="Cycle" KeyboardNavigation.DirectionalNavigation="Cycle">

                            <Grid.Style>
                                <Style TargetType="Grid">
                                    <Setter Property="Opacity" Value="1"/>
                                    <Setter Property="VerticalAlignment" Value="Center"/>
                                    <Setter Property="HorizontalAlignment" Value="Center"/>
                                    <Setter Property="Grid.Row" Value="0"/>
                                    <Setter Property="Grid.RowSpan" Value="5"/>
                                    <Setter Property="Grid.ColumnSpan" Value="3"/>
                                    <Setter Property="Visibility" Value="Collapsed"/>
                                    <Setter Property="Margin" Value="0,0,0,0"/>
                                    <Setter Property="MinWidth" Value="500"/>
                                    <Style.Triggers>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Binding ElementName=ButtonThemeOptionDetails, Path=IsChecked}" Value="False" />
                                            </MultiDataTrigger.Conditions>
                                            <Setter Property="Visibility" Value="Visible" />
                                            <Setter Property="FocusManager.FocusedElement" Value="{Binding ElementName=ButtonThemeOptionDetails1}" />
                                        </MultiDataTrigger>

                                    </Style.Triggers>
                                </Style>
                            </Grid.Style>
                            <Grid>
                                <!-- Fond verre fumé -->
                                <Border Background="{DynamicResource OverlayMenu}"
                                        CornerRadius="14"
                                        Opacity="0.9"/>

                                <!-- Reflet vertical discret -->
                                <Border CornerRadius="14" Background="{DynamicResource GlassMainBrush}" IsHitTestVisible="False" />

                                <!-- Liseré interne fin -->
                                <Border CornerRadius="14"
                                        BorderBrush="{DynamicResource GlassInnerLineBrush}"
                                        Margin="1"
                                        BorderThickness="1,1,1,1"
                                        IsHitTestVisible="False"/>
                                <Grid>
                                    <ButtonEx x:Name="CloseDetails" Width="50" Height="50" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="0,10,10,0" Style="{DynamicResource ButtonAvatar}">
                                        <ButtonEx.Triggers>
                                            <EventTrigger RoutedEvent="ButtonBase.Click">
                                                <BeginStoryboard>
                                                    <Storyboard>
                                                        <BooleanAnimationUsingKeyFrames Storyboard.TargetName="ButtonThemeOptionDetails"
                                                                                        Storyboard.TargetProperty="IsChecked">
                                                            <DiscreteBooleanKeyFrame KeyTime="0:0:0" Value="True"/>
                                                        </BooleanAnimationUsingKeyFrames>
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </EventTrigger>
                                        </ButtonEx.Triggers>
                                        <ButtonEx.Content>
                                            <TextBlock Text="&#xec4f;" FontFamily="{DynamicResource FontIcoFont}" Foreground="{DynamicResource TextBrush}" FontSize="25" HorizontalAlignment="Right" VerticalAlignment="Top" />
                                        </ButtonEx.Content>
                                    </ButtonEx>
                                    <TextBlock Style="{DynamicResource TextBlockBoldBaseStyle}" Foreground="{DynamicResource TextHighlightBrush}" HorizontalAlignment="Center" VerticalAlignment="Top" FontSize="30" Opacity="0.8" Text="{DynamicResource LOCThemOptsDetails}" Margin="20,10,0,0" />

                                    <StackPanel Margin="50,80,50,40" Orientation="Vertical">


                                        <Grid Margin="0,20,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24"	Text="{DynamicResource LOCSourceLogoOnDetailsView}" />
                                            </StackPanel>
                                            <StackPanel	Grid.Column="1" HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx x:Name="ButtonThemeOptionDetails1" HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{PluginSettings Plugin=ThemeOptions, Path=Options[NoSource], Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                        <Grid Margin="0,20,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24"	Text="{DynamicResource LOCNoLogo}" />
                                            </StackPanel>
                                            <StackPanel	Grid.Column="1" HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{PluginSettings Plugin=ThemeOptions, Path=Options[NoLogo], Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                        <Grid Margin="0,20,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24"	Text="{DynamicResource LOCEnterDetailsZoom}" />
                                            </StackPanel>
                                            <StackPanel	Grid.Column="1" HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{PluginSettings Plugin=ThemeOptions, Path=Options[EnterDetailsZoom], Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                        <Grid Margin="0,20,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24"	Text="{DynamicResource LOCAnimationPanel}" />
                                            </StackPanel>
                                            <StackPanel	Grid.Column="1" HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{PluginSettings Plugin=ThemeOptions, Path=Options[AnimationPanel], Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                        <Grid Margin="0,20,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24"	Text="{DynamicResource LOCNoBarMode}" />
                                            </StackPanel>
                                            <StackPanel	Grid.Column="1" HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{PluginSettings Plugin=ThemeOptions, Path=Options[NoBarMode], Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                        <Grid Margin="0,20,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24"	Text="{DynamicResource LOCTopOrBottomBar}" />
                                            </StackPanel>
                                            <StackPanel	Grid.Column="1" HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{PluginSettings Plugin=ThemeOptions, Path=Options[TopOrBottomBar], Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>




                                    </StackPanel>
                                </Grid>
                            </Grid>
                        </Grid>

                        <!-- Audio ControlCenter -->
                        <Grid x:Name="Volume" Panel.ZIndex="1" Focusable="True" KeyboardNavigation.TabNavigation="Cycle" KeyboardNavigation.ControlTabNavigation="Cycle" KeyboardNavigation.DirectionalNavigation="Cycle">

                            <Grid.Style>
                                <Style TargetType="Grid">
                                    <Setter Property="Opacity" Value="1"/>
                                    <Setter Property="VerticalAlignment" Value="Center"/>
                                    <Setter Property="HorizontalAlignment" Value="Center"/>
                                    <Setter Property="Grid.Row" Value="0"/>
                                    <Setter Property="Grid.RowSpan" Value="5"/>
                                    <Setter Property="Grid.ColumnSpan" Value="3"/>
                                    <Setter Property="Visibility" Value="Collapsed"/>
                                    <Setter Property="Margin" Value="0,0,0,0"/>
                                    <Setter Property="MinWidth" Value="500"/>
                                    <Style.Triggers>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Binding ElementName=ButtonAudio, Path=IsChecked}" Value="False" />
                                            </MultiDataTrigger.Conditions>
                                            <Setter Property="Visibility" Value="Visible" />
                                            <Setter Property="FocusManager.FocusedElement" Value="{Binding ElementName=SliderElement}" />
                                        </MultiDataTrigger>

                                    </Style.Triggers>
                                </Style>
                            </Grid.Style>
                            <Grid>
                                <!-- Fond verre fumé -->
                                <Border Background="{DynamicResource OverlayMenu}"
                                        CornerRadius="14"
                                        Opacity="0.9"/>

                                <!-- Reflet vertical discret -->
                                <Border CornerRadius="14" Background="{DynamicResource GlassMainBrush}" IsHitTestVisible="False" />

                                <!-- Liseré interne fin -->
                                <Border CornerRadius="14"
                                        BorderBrush="{DynamicResource GlassInnerLineBrush}"
                                        Margin="1"
                                        BorderThickness="1,1,1,1"
                                        IsHitTestVisible="False"/>
                                <Grid>
                                    <ButtonEx x:Name="CloseVolume" Width="50" Height="50" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="0,10,10,0" Style="{DynamicResource ButtonAvatar}">
                                        <ButtonEx.Triggers>
                                            <EventTrigger RoutedEvent="ButtonBase.Click">
                                                <BeginStoryboard>
                                                    <Storyboard>
                                                        <BooleanAnimationUsingKeyFrames Storyboard.TargetName="ButtonAudio"
                                                                                        Storyboard.TargetProperty="IsChecked">
                                                            <DiscreteBooleanKeyFrame KeyTime="0:0:0" Value="True"/>
                                                        </BooleanAnimationUsingKeyFrames>
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </EventTrigger>
                                        </ButtonEx.Triggers>
                                        <ButtonEx.Content>
                                            <TextBlock Text="&#xec4f;" FontFamily="{DynamicResource FontIcoFont}" Foreground="{DynamicResource TextBrush}" FontSize="25" HorizontalAlignment="Right" VerticalAlignment="Top" />
                                        </ButtonEx.Content>
                                    </ButtonEx>
                                    <TextBlock Style="{DynamicResource TextBlockBoldBaseStyle}" Foreground="{DynamicResource TextHighlightBrush}" HorizontalAlignment="Center" VerticalAlignment="Top" FontSize="30" Opacity="0.8" Text="{DynamicResource LOCSettingsFSSectionAudio}" Margin="20,15,0,0" />
                                    <StackPanel Margin="50,80,50,40" Orientation="Vertical">

                                        <Grid Margin="0,20,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24" Text="{DynamicResource LOCSettingsInterfaceVolume}" />
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="0,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24" Text="{Settings Fullscreen.InterfaceVolume}" />
                                            </StackPanel>

                                            <StackPanel	Grid.Column="1"	HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <StackPanel.Style>
                                                    <Style TargetType="StackPanel">
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{Binding ElementName=Volume, Path=Visibility}" Value="Visible">
                                                                <Setter Property="FocusManager.FocusedElement" Value="{Binding ElementName=SliderElement}" />
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </StackPanel.Style>
                                                <SliderEx x:Name="SliderElement" HorizontalAlignment="Right" VerticalAlignment="Center"	IsSnapToTickEnabled="True" LargeChange="0.1" Maximum="1" Minimum="0"
                                                          SmallChange="0.1"	Style="{DynamicResource SettingsSectionSlider}"	TickFrequency="0.1" Value="{Settings Fullscreen.InterfaceVolume, Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                        <Grid Margin="0,20,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24"	Text="{DynamicResource LOCSettingsMusiVolume}" />
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="0,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center"  FontSize="24"  Text="{Settings Fullscreen.BackgroundVolume}" />
                                            </StackPanel>
                                            <StackPanel	Grid.Column="1" HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <SliderEx HorizontalAlignment="Right" VerticalAlignment="Center" IsSnapToTickEnabled="True"	LargeChange="0.10" Maximum="1" Minimum="0"
                                                          SmallChange="0.10" Style="{DynamicResource SettingsSectionSlider}" TickFrequency="0.10" Value="{Settings Fullscreen.BackgroundVolume, Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                    </StackPanel>
                                </Grid>
                            </Grid>
                        </Grid>

                        <!-- VisibleData ControlCenter -->
                        <Grid x:Name="DataOption" Panel.ZIndex="1" Focusable="True" KeyboardNavigation.TabNavigation="Cycle" KeyboardNavigation.ControlTabNavigation="Cycle" KeyboardNavigation.DirectionalNavigation="Cycle">

                            <Grid.Style>
                                <Style TargetType="Grid">
                                    <Setter Property="Opacity" Value="1"/>
                                    <Setter Property="VerticalAlignment" Value="Center"/>
                                    <Setter Property="HorizontalAlignment" Value="Center"/>
                                    <Setter Property="Grid.Row" Value="0"/>
                                    <Setter Property="Grid.RowSpan" Value="5"/>
                                    <Setter Property="Grid.ColumnSpan" Value="3"/>
                                    <Setter Property="Visibility" Value="Collapsed"/>
                                    <Setter Property="Margin" Value="0,0,0,0"/>
                                    <Setter Property="MinWidth" Value="500"/>
                                    <Style.Triggers>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Binding ElementName=ButtonData, Path=IsChecked}" Value="False" />
                                            </MultiDataTrigger.Conditions>
                                            <Setter Property="Visibility" Value="Visible" />
                                            <Setter Property="FocusManager.FocusedElement" Value="{Binding ElementName=ButtonData1}" />
                                        </MultiDataTrigger>

                                    </Style.Triggers>
                                </Style>
                            </Grid.Style>
                            <Grid>
                                <!-- Fond verre fumé -->
                                <Border Background="{DynamicResource OverlayMenu}"
                                        CornerRadius="14"
                                        Opacity="0.9"/>

                                <!-- Reflet vertical discret -->
                                <Border CornerRadius="14" Background="{DynamicResource GlassMainBrush}" IsHitTestVisible="False" />

                                <!-- Liseré interne fin -->
                                <Border CornerRadius="14"
                                        BorderBrush="{DynamicResource GlassInnerLineBrush}"
                                        Margin="1"
                                        BorderThickness="1,1,1,1"
                                        IsHitTestVisible="False"/>
                                <Grid>
                                    <ButtonEx x:Name="CloseData" Width="50" Height="50" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="0,10,10,0" Style="{DynamicResource ButtonAvatar}">
                                        <ButtonEx.Triggers>
                                            <EventTrigger RoutedEvent="ButtonBase.Click">
                                                <BeginStoryboard>
                                                    <Storyboard>
                                                        <BooleanAnimationUsingKeyFrames Storyboard.TargetName="ButtonData"
                                                                                        Storyboard.TargetProperty="IsChecked">
                                                            <DiscreteBooleanKeyFrame KeyTime="0:0:0" Value="True"/>
                                                        </BooleanAnimationUsingKeyFrames>
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </EventTrigger>
                                        </ButtonEx.Triggers>
                                        <ButtonEx.Content>
                                            <TextBlock Text="&#xec4f;" FontFamily="{DynamicResource FontIcoFont}" Foreground="{DynamicResource TextBrush}" FontSize="25" HorizontalAlignment="Right" VerticalAlignment="Top" />

                                        </ButtonEx.Content>
                                    </ButtonEx>
                                    <TextBlock Style="{DynamicResource TextBlockBoldBaseStyle}" Foreground="{DynamicResource TextHighlightBrush}" HorizontalAlignment="Center" VerticalAlignment="Top" FontSize="30" Opacity="0.8" Text="{DynamicResource LOCVisibleData}" Margin="20,15,0,0" />
                                    <StackPanel Margin="50,80,50,40" Orientation="Vertical">

                                        <Grid Margin="0,20,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24"	Text="{DynamicResource LOCFeaturesSteam}" />
                                            </StackPanel>
                                            <StackPanel	Grid.Column="1" HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx x:Name="ButtonData1" HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{PluginSettings Plugin=ThemeOptions, Path=Options[FeaturesSteam], Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                        <Grid Margin="0,10,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24"	Text="{DynamicResource LOCNoGenreDetails}" />
                                            </StackPanel>
                                            <StackPanel	Grid.Column="1" HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{PluginSettings Plugin=ThemeOptions, Path=Options[NoGenreDetails], Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                        <Grid Margin="0,10,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24"	Text="{DynamicResource LOCNoHLTBDetails}" />
                                            </StackPanel>
                                            <StackPanel	Grid.Column="1" HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{PluginSettings Plugin=ThemeOptions, Path=Options[NoHLTBDetails], Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                        <Grid Margin="0,10,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24"	Text="{DynamicResource LOCNoYear}" />
                                            </StackPanel>
                                            <StackPanel	Grid.Column="1" HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{PluginSettings Plugin=ThemeOptions, Path=Options[NoYear], Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                        <Grid Margin="0,10,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24"	Text="{DynamicResource LOCNoTime}" />
                                            </StackPanel>
                                            <StackPanel	Grid.Column="1" HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{PluginSettings Plugin=ThemeOptions, Path=Options[NoTime], Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                        <Grid Margin="0,10,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24"	Text="{DynamicResource LOCNoActivity}" />
                                            </StackPanel>
                                            <StackPanel	Grid.Column="1" HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{PluginSettings Plugin=ThemeOptions, Path=Options[NoActivity], Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                        <Grid Margin="0,10,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24"	Text="{DynamicResource LOCNoSize}" />
                                            </StackPanel>
                                            <StackPanel	Grid.Column="1" HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{PluginSettings Plugin=ThemeOptions, Path=Options[NoSize], Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                        <Grid Margin="0,10,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24"	Text="{DynamicResource LOCNoCompletion}" />
                                            </StackPanel>
                                            <StackPanel	Grid.Column="1" HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{PluginSettings Plugin=ThemeOptions, Path=Options[NoCompletion], Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                        <Grid Margin="0,10,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24"	Text="{DynamicResource LOCNoStar}" />
                                            </StackPanel>
                                            <StackPanel	Grid.Column="1" HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{PluginSettings Plugin=ThemeOptions, Path=Options[NoStar], Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                        <Grid Margin="0,10,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24"	Text="{DynamicResource LOCNoTrophyDetails}" />
                                            </StackPanel>
                                            <StackPanel	Grid.Column="1" HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{PluginSettings Plugin=ThemeOptions, Path=Options[NoTrophyDetails], Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                        <Grid Margin="0,10,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel	Grid.Column="0"	HorizontalAlignment="Left" Orientation="Horizontal">
                                                <TextBlock Style="{DynamicResource TextBlockBaseStyle}" Margin="40,0,20,0" HorizontalAlignment="Left" VerticalAlignment="Center" FontSize="24"	Text="{DynamicResource LOCNoPlayerDetails}" />
                                            </StackPanel>
                                            <StackPanel	Grid.Column="1" HorizontalAlignment="Right"	Orientation="Horizontal">
                                                <CheckBoxEx HorizontalAlignment="Right" VerticalAlignment="Center" Style="{DynamicResource SettingsSectionCheckbox}" IsChecked="{PluginSettings Plugin=ThemeOptions, Path=Options[NoPlayerDetails], Mode=TwoWay}" />
                                            </StackPanel>
                                        </Grid>

                                    </StackPanel>
                                </Grid>
                            </Grid>

                        </Grid>

                        <Border Background="{DynamicResource MainBackgourndBrush}" CornerRadius="0,0,5,5" HorizontalAlignment="Stretch" VerticalAlignment="Bottom" Height="80" Margin="0,0,0,0"/>
                        <ButtonEx x:Name="BackButton" Margin="0,0,10,20" VerticalAlignment="Bottom" HorizontalAlignment="Right" Style="{StaticResource IconBButton}" Content="{DynamicResource LOCBackLabel}" />
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
        <Style.Triggers>
            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=AspectRatio}" Value="dsp1610">
                <Setter Property="Margin" Value="0,-60,0,-60"/>
            </DataTrigger>
            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=AspectRatio}" Value="dsp219">
                <Setter Property="Margin" Value="-320,0,-320,0"/>
            </DataTrigger>
        </Style.Triggers>
    </Style>

    <!-- Vue News et Last Updates-->
    <Style x:Key="LastUpdatesWindowStyle" TargetType="ContentControl">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ContentControl">
                    <Grid
                        FocusManager.FocusedElement="{Binding ElementName=NewsList}"
                        KeyboardNavigation.TabNavigation="Contained"
                        KeyboardNavigation.DirectionalNavigation="Contained"
                        Opacity="0"
                        Background="{DynamicResource DynamicGlowBackgroundSuccess}">

                        <Grid.RenderTransform>
                            <TranslateTransform Y="0"/>
                        </Grid.RenderTransform>

                        <!-- petite anim entrée -->
                        <Grid.Triggers>
                            <EventTrigger RoutedEvent="FrameworkElement.Loaded">
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetProperty="Opacity" From="0" To="1" Duration="0:0:0"/>
                                    </Storyboard>
                                </BeginStoryboard>
                            </EventTrigger>
                        </Grid.Triggers>

                        <Grid.Resources>

                            <!-- Style de base pour un onglet "dossier" (état INACTIF) -->
                            <Style x:Key="TabButtonBaseStyle" TargetType="ButtonEx">
                                <Setter Property="Foreground" Value="{DynamicResource TextBrush}"/>
                                <Setter Property="FontSize" Value="22"/>
                                <Setter Property="FontWeight" Value="SemiBold"/>
                                <Setter Property="Padding" Value="20,8,20,8"/>
                                <Setter Property="Margin" Value="0,0,8,0"/>
                                <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
                                <Setter Property="Template">
                                    <Setter.Value>
                                        <ControlTemplate TargetType="ButtonEx">
                                            <Grid>
                                                <!-- onglet -->
                                                <Border x:Name="TabBorder"
                                                        CornerRadius="12,12,0,0"
                                                        Background="#66000000"
                                                        BorderThickness="1,1,1,0"
                                                        BorderBrush="{DynamicResource MenuBorderBrush}"
                                                        Padding="{TemplateBinding Padding}">
                                                    <ContentPresenter HorizontalAlignment="Center"
                                                                      VerticalAlignment="Center"/>
                                                </Border>
                                            </Grid>

                                            <ControlTemplate.Triggers>

                                                <!-- hover souris -->
                                                <Trigger Property="IsMouseOver" Value="True">
                                                    <Setter TargetName="TabBorder"
                                                            Property="Background"
                                                            Value="{DynamicResource OverlayMenu}"/>
                                                </Trigger>

                                                <!-- focus clavier / manette -->
                                                <Trigger Property="IsKeyboardFocusWithin" Value="True">
                                                    <Setter TargetName="TabBorder"
                                                            Property="BorderBrush"
                                                            Value="{DynamicResource FocusGameBorderBrush}"/>
                                                    <Setter TargetName="TabBorder"
                                                            Property="BorderThickness"
                                                            Value="3,3,3,0"/>
                                                    <Setter TargetName="TabBorder"
                                                            Property="Background"
                                                            Value="{DynamicResource OverlayMenu}"/>
                                                </Trigger>

                                            </ControlTemplate.Triggers>
                                        </ControlTemplate>
                                    </Setter.Value>
                                </Setter>
                            </Style>

                            <!-- Onglet NEWS -->
                            <Style x:Key="NewsTabStyle"
                                   TargetType="ButtonEx"
                                   BasedOn="{StaticResource TabButtonBaseStyle}">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding IsChecked, ElementName=ModeNewsInternal}"
                                                 Value="True">
                                        <Setter Property="Foreground" Value="{DynamicResource TextHighlightBrush}"/>
                                        <Setter Property="FontWeight" Value="Bold"/>
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate TargetType="ButtonEx">
                                                    <Grid>
                                                        <!-- onglet actif -->
                                                        <Border x:Name="TabBorder"
                                                                CornerRadius="12,12,0,0"
                                                                Background="#10FFFFFF"
                                                                BorderThickness="1,1,1,0"
                                                                BorderBrush="{DynamicResource FocusGameBorderBrush}"
                                                                Padding="{TemplateBinding Padding}">
                                                            <ContentPresenter HorizontalAlignment="Center"
                                                                              VerticalAlignment="Center"/>
                                                        </Border>
                                                    </Grid>

                                                    <ControlTemplate.Triggers>
                                                        <!-- hover souris -->
                                                        <Trigger Property="IsMouseOver" Value="True">
                                                            <Setter TargetName="TabBorder"
                                                                    Property="Background"
                                                                    Value="{DynamicResource OverlayMenu}"/>
                                                        </Trigger>

                                                        <!-- focus clavier / manette sur l’onglet ACTIF -->
                                                        <Trigger Property="IsKeyboardFocusWithin" Value="True">
                                                            <Setter TargetName="TabBorder"
                                                                    Property="BorderThickness"
                                                                    Value="3,3,3,0"/>
                                                            <Setter TargetName="TabBorder"
                                                                    Property="Background"
                                                                    Value="{DynamicResource OverlayMenu}"/>
                                                        </Trigger>
                                                    </ControlTemplate.Triggers>
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>

                            <!-- Onglet UPDATES -->
                            <Style x:Key="UpdatesTabStyle"
                                   TargetType="ButtonEx"
                                   BasedOn="{StaticResource TabButtonBaseStyle}">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding IsChecked, ElementName=ModeUpdatesInternal}"
                                                 Value="True">
                                        <Setter Property="Foreground" Value="{DynamicResource TextHighlightBrush}"/>
                                        <Setter Property="FontWeight" Value="Bold"/>
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate TargetType="ButtonEx">
                                                    <Grid>
                                                        <!-- onglet actif -->
                                                        <Border x:Name="TabBorder"
                                                                CornerRadius="12,12,0,0"
                                                                Background="#10FFFFFF"
                                                                BorderThickness="1,1,1,0"
                                                                BorderBrush="{DynamicResource FocusGameBorderBrush}"
                                                                Padding="{TemplateBinding Padding}">
                                                            <ContentPresenter HorizontalAlignment="Center"
                                                                              VerticalAlignment="Center"/>
                                                        </Border>
                                                    </Grid>

                                                    <ControlTemplate.Triggers>
                                                        <!-- hover souris -->
                                                        <Trigger Property="IsMouseOver" Value="True">
                                                            <Setter TargetName="TabBorder"
                                                                    Property="Background"
                                                                    Value="{DynamicResource OverlayMenu}"/>
                                                        </Trigger>

                                                        <!-- focus clavier / manette sur l’onglet ACTIF -->
                                                        <Trigger Property="IsKeyboardFocusWithin" Value="True">
                                                            <Setter TargetName="TabBorder"
                                                                    Property="BorderThickness"
                                                                    Value="3,3,3,0"/>
                                                            <Setter TargetName="TabBorder"
                                                                    Property="Background"
                                                                    Value="{DynamicResource OverlayMenu}"/>
                                                        </Trigger>
                                                    </ControlTemplate.Triggers>
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>

                            <!-- Onglet PLAYNITE ACTU -->
                            <Style x:Key="PlayniteTabStyle"
                                   TargetType="ButtonEx"
                                   BasedOn="{StaticResource TabButtonBaseStyle}">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding IsChecked, ElementName=ModePlayniteInternal}"
                                                 Value="True">
                                        <Setter Property="Foreground" Value="{DynamicResource TextHighlightBrush}"/>
                                        <Setter Property="FontWeight" Value="Bold"/>
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate TargetType="ButtonEx">
                                                    <Grid>
                                                        <!-- onglet actif -->
                                                        <Border x:Name="TabBorder"
                                                                CornerRadius="12,12,0,0"
                                                                Background="#10FFFFFF"
                                                                BorderThickness="1,1,1,0"
                                                                BorderBrush="{DynamicResource FocusGameBorderBrush}"
                                                                Padding="{TemplateBinding Padding}">
                                                            <ContentPresenter HorizontalAlignment="Center"
                                                                              VerticalAlignment="Center"/>
                                                        </Border>
                                                    </Grid>

                                                    <ControlTemplate.Triggers>
                                                        <!-- hover souris -->
                                                        <Trigger Property="IsMouseOver" Value="True">
                                                            <Setter TargetName="TabBorder"
                                                                    Property="Background"
                                                                    Value="{DynamicResource OverlayMenu}"/>
                                                        </Trigger>

                                                        <!-- focus clavier / manette sur l’onglet ACTIF -->
                                                        <Trigger Property="IsKeyboardFocusWithin" Value="True">
                                                            <Setter TargetName="TabBorder"
                                                                    Property="BorderThickness"
                                                                    Value="3,3,3,0"/>
                                                            <Setter TargetName="TabBorder"
                                                                    Property="Background"
                                                                    Value="{DynamicResource OverlayMenu}"/>
                                                        </Trigger>
                                                    </ControlTemplate.Triggers>
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>

                            <!-- Onglet DEALS -->
                            <Style x:Key="DealsTabStyle"
                                   TargetType="ButtonEx"
                                   BasedOn="{StaticResource TabButtonBaseStyle}">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding IsChecked, ElementName=ModeDealsInternal}"
                                                 Value="True">
                                        <Setter Property="Foreground" Value="{DynamicResource TextHighlightBrush}"/>
                                        <Setter Property="FontWeight" Value="Bold"/>
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate TargetType="ButtonEx">
                                                    <Grid>
                                                        <!-- onglet actif -->
                                                        <Border x:Name="TabBorder"
                                                                CornerRadius="12,12,0,0"
                                                                Background="#10FFFFFF"
                                                                BorderThickness="1,1,1,0"
                                                                BorderBrush="{DynamicResource FocusGameBorderBrush}"
                                                                Padding="{TemplateBinding Padding}">
                                                            <ContentPresenter HorizontalAlignment="Center"
                                                                              VerticalAlignment="Center"/>
                                                        </Border>
                                                    </Grid>

                                                    <ControlTemplate.Triggers>
                                                        <!-- hover souris -->
                                                        <Trigger Property="IsMouseOver" Value="True">
                                                            <Setter TargetName="TabBorder"
                                                                    Property="Background"
                                                                    Value="{DynamicResource OverlayMenu}"/>
                                                        </Trigger>

                                                        <!-- focus clavier / manette sur l’onglet ACTIF -->
                                                        <Trigger Property="IsKeyboardFocusWithin" Value="True">
                                                            <Setter TargetName="TabBorder"
                                                                    Property="BorderThickness"
                                                                    Value="3,3,3,0"/>
                                                            <Setter TargetName="TabBorder"
                                                                    Property="Background"
                                                                    Value="{DynamicResource OverlayMenu}"/>
                                                        </Trigger>
                                                    </ControlTemplate.Triggers>
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>



                        </Grid.Resources>


                        <!-- TOGGLES INTERNES (un seul actif à la fois) -->
                        <ToggleButtonEx x:Name="ModeNewsInternal"
                                        Visibility="Collapsed"
                                        IsChecked="True" />

                        <ToggleButtonEx x:Name="ModeUpdatesInternal"
                                        Visibility="Collapsed"
                                        IsChecked="False" />

                        <ToggleButtonEx x:Name="ModePlayniteInternal"
                                        Visibility="Collapsed"
                                        IsChecked="False" />

                        <ToggleButtonEx x:Name="ModeDealsInternal"
                                        Visibility="Collapsed"
                                        IsChecked="False" />


                        <!-- BARRE ONGLET -->
                        <Grid x:Name="TabsHeader" Panel.ZIndex="10"
                              Margin="40,83,20,0"
                              HorizontalAlignment="Stretch"
                              VerticalAlignment="Top">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <!-- Onglets -->
                            <StackPanel Orientation="Horizontal"
                                        HorizontalAlignment="Left"
                                        Margin="0,0,0,-1">

                                <!-- Bouton NEWS -->
                                <ButtonEx x:Name="NewsTabBtn"
                                          Content="{DynamicResource LOCNewsTab}"
                                          Style="{StaticResource NewsTabStyle}">
                                    <ButtonEx.Triggers>
                                        <EventTrigger RoutedEvent="ButtonBase.Click">
                                            <BeginStoryboard>
                                                <Storyboard>
                                                    <BooleanAnimationUsingKeyFrames Storyboard.TargetProperty="IsChecked"
                                                                                    Storyboard.TargetName="ModeNewsInternal">
                                                        <DiscreteBooleanKeyFrame Value="True" />
                                                    </BooleanAnimationUsingKeyFrames>

                                                    <!-- on désactive les autres -->
                                                    <BooleanAnimationUsingKeyFrames Storyboard.TargetProperty="IsChecked"
                                                                                    Storyboard.TargetName="ModeUpdatesInternal">
                                                        <DiscreteBooleanKeyFrame Value="False" />
                                                    </BooleanAnimationUsingKeyFrames>

                                                    <BooleanAnimationUsingKeyFrames Storyboard.TargetProperty="IsChecked"
                                                                                    Storyboard.TargetName="ModePlayniteInternal">
                                                        <DiscreteBooleanKeyFrame Value="False" />
                                                    </BooleanAnimationUsingKeyFrames>

                                                    <BooleanAnimationUsingKeyFrames Storyboard.TargetProperty="IsChecked"
                                                                                    Storyboard.TargetName="ModeDealsInternal">
                                                        <DiscreteBooleanKeyFrame Value="False" />
                                                    </BooleanAnimationUsingKeyFrames>
                                                </Storyboard>
                                            </BeginStoryboard>
                                        </EventTrigger>
                                    </ButtonEx.Triggers>

                                </ButtonEx>

                                <!-- Bouton UPDATES -->
                                <ButtonEx x:Name="UpdatesTabBtn"
                                          Content="{DynamicResource LOCGameUpdateTab}"
                                          Style="{StaticResource UpdatesTabStyle}">
                                    <ButtonEx.Triggers>
                                        <EventTrigger RoutedEvent="ButtonBase.Click">
                                            <BeginStoryboard>
                                                <Storyboard>
                                                    <BooleanAnimationUsingKeyFrames Storyboard.TargetName="ModeUpdatesInternal"
                                                                                    Storyboard.TargetProperty="IsChecked">
                                                        <DiscreteBooleanKeyFrame Value="True" />
                                                    </BooleanAnimationUsingKeyFrames>

                                                    <BooleanAnimationUsingKeyFrames Storyboard.TargetName="ModeNewsInternal"
                                                                                    Storyboard.TargetProperty="IsChecked">
                                                        <DiscreteBooleanKeyFrame Value="False" />
                                                    </BooleanAnimationUsingKeyFrames>

                                                    <BooleanAnimationUsingKeyFrames Storyboard.TargetName="ModePlayniteInternal"
                                                                                    Storyboard.TargetProperty="IsChecked">
                                                        <DiscreteBooleanKeyFrame Value="False" />
                                                    </BooleanAnimationUsingKeyFrames>

                                                    <BooleanAnimationUsingKeyFrames Storyboard.TargetName="ModeDealsInternal"
                                                                                    Storyboard.TargetProperty="IsChecked">
                                                        <DiscreteBooleanKeyFrame Value="False" />
                                                    </BooleanAnimationUsingKeyFrames>
                                                </Storyboard>
                                            </BeginStoryboard>
                                        </EventTrigger>
                                    </ButtonEx.Triggers>
                                </ButtonEx>

                                <!-- Bouton PLAYNITE ACTU -->
                                <ButtonEx x:Name="PlayniteTabBtn"
                                          Content="{DynamicResource LOCPlayniteNewsTab}"
                                          Style="{StaticResource PlayniteTabStyle}">
                                    <ButtonEx.Triggers>
                                        <EventTrigger RoutedEvent="ButtonBase.Click">
                                            <BeginStoryboard>
                                                <Storyboard>
                                                    <BooleanAnimationUsingKeyFrames Storyboard.TargetName="ModePlayniteInternal"
                                                                                    Storyboard.TargetProperty="IsChecked">
                                                        <DiscreteBooleanKeyFrame Value="True" />
                                                    </BooleanAnimationUsingKeyFrames>

                                                    <BooleanAnimationUsingKeyFrames Storyboard.TargetName="ModeNewsInternal"
                                                                                    Storyboard.TargetProperty="IsChecked">
                                                        <DiscreteBooleanKeyFrame Value="False" />
                                                    </BooleanAnimationUsingKeyFrames>

                                                    <BooleanAnimationUsingKeyFrames Storyboard.TargetName="ModeUpdatesInternal"
                                                                                    Storyboard.TargetProperty="IsChecked">
                                                        <DiscreteBooleanKeyFrame Value="False" />
                                                    </BooleanAnimationUsingKeyFrames>

                                                    <BooleanAnimationUsingKeyFrames Storyboard.TargetName="ModeDealsInternal"
                                                                                    Storyboard.TargetProperty="IsChecked">
                                                        <DiscreteBooleanKeyFrame Value="False" />
                                                    </BooleanAnimationUsingKeyFrames>
                                                </Storyboard>
                                            </BeginStoryboard>
                                        </EventTrigger>
                                    </ButtonEx.Triggers>
                                </ButtonEx>

                                <!-- Bouton DEALS (placeholder) -->
                                <ButtonEx x:Name="DealsTabBtn"
                                          Content="{DynamicResource LOCDealsTab}"
                                          Style="{StaticResource DealsTabStyle}">
                                    <ButtonEx.Triggers>
                                        <EventTrigger RoutedEvent="ButtonBase.Click">
                                            <BeginStoryboard>
                                                <Storyboard>
                                                    <BooleanAnimationUsingKeyFrames Storyboard.TargetName="ModeDealsInternal"
                                                                                    Storyboard.TargetProperty="IsChecked">
                                                        <DiscreteBooleanKeyFrame Value="True" />
                                                    </BooleanAnimationUsingKeyFrames>

                                                    <BooleanAnimationUsingKeyFrames Storyboard.TargetName="ModeNewsInternal"
                                                                                    Storyboard.TargetProperty="IsChecked">
                                                        <DiscreteBooleanKeyFrame Value="False" />
                                                    </BooleanAnimationUsingKeyFrames>

                                                    <BooleanAnimationUsingKeyFrames Storyboard.TargetName="ModeUpdatesInternal"
                                                                                    Storyboard.TargetProperty="IsChecked">
                                                        <DiscreteBooleanKeyFrame Value="False" />
                                                    </BooleanAnimationUsingKeyFrames>

                                                    <BooleanAnimationUsingKeyFrames Storyboard.TargetName="ModePlayniteInternal"
                                                                                    Storyboard.TargetProperty="IsChecked">
                                                        <DiscreteBooleanKeyFrame Value="False" />
                                                    </BooleanAnimationUsingKeyFrames>
                                                </Storyboard>
                                            </BeginStoryboard>
                                        </EventTrigger>
                                    </ButtonEx.Triggers>
                                </ButtonEx>

                            </StackPanel>
                        </Grid>

                        <!--NewsPanel-->
                        <Grid x:Name="NewsPanel" Panel.ZIndex="0" MaxWidth="1900" Margin="20,40,20,80" Visibility="Visible">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>


                            <!-- Titre -->
                            <StackPanel Grid.Row="0" Grid.ColumnSpan="2" Orientation="Vertical" HorizontalAlignment="Center">
                                <TextBlock Text="ANIKI NEWS"
                                           Style="{DynamicResource TextBlockBaseStyle}"
                                           Foreground="{DynamicResource TextColorDarkBrush}"
                                           FontSize="38"
                                           FontWeight="SemiBold"
                                           Typography.Capitals="AllSmallCaps"
                                           HorizontalAlignment="Center"/>
                                <TextBlock Text="{DynamicResource LOCLatestNews}"
                                           Style="{DynamicResource TextBlockBaseStyle}"
                                           Foreground="{DynamicResource TextColorDarkBrush}"
                                           Opacity="0.7"
                                           FontSize="20"
                                           HorizontalAlignment="Center"/>
                            </StackPanel>

                            <!-- Liste des news -->
                            <Border Grid.Row="1"
                                    Grid.Column="0"
                                    Margin="0,20,10,0"
                                    Focusable="False"
                                    CornerRadius="12"
                                    HorizontalAlignment="Stretch">
                                <Border.Style>
                                    <Style TargetType="Border">
                                        <Setter Property="Background" Value="{DynamicResource BackgroundAHDarkBrush}"/>
                                        <Setter Property="BorderBrush" Value="{DynamicResource MenuBorderBrush}"/>
                                        <Setter Property="BorderThickness" Value="1"/>
                                        <Style.Triggers>
                                            <Trigger Property="IsKeyboardFocusWithin" Value="True">
                                                <Setter Property="BorderBrush" Value="{DynamicResource FocusGameBorderBrush}"/>
                                                <Setter Property="BorderThickness" Value="2.5"/>
                                            </Trigger>
                                        </Style.Triggers>
                                    </Style>
                                </Border.Style>

                                <!-- Focus initial sur la liste -->
                                <ListBox x:Name="NewsList"
                                         HorizontalAlignment="Stretch"
                                         Focusable="True"
                                         SelectedIndex="0"
                                         BorderThickness="0"
                                         Background="Transparent"
                                         FocusVisualStyle="{x:Null}"
                                         KeyboardNavigation.DirectionalNavigation="Once"
                                         KeyboardNavigation.TabNavigation="Once"
                                         KeyboardNavigation.ControlTabNavigation="Once"
                                         ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                                         ScrollViewer.VerticalScrollBarVisibility="Hidden"
                                         ScrollViewer.CanContentScroll="True"
                                         VirtualizingPanel.IsVirtualizing="True"
                                         VirtualizingPanel.VirtualizationMode="Recycling"
                                         VirtualizingPanel.ScrollUnit="Item"
                                         VirtualizingPanel.CacheLengthUnit="Item"
                                         VirtualizingPanel.CacheLength="3"
                                         ItemsSource="{PluginSettings Plugin=AnikiHelper, Path=SteamGlobalNews}"
                                         pbeh:FocusBahaviors.OnVisibilityFocus="True">

                                    <ListBox.ItemsPanel>
                                        <ItemsPanelTemplate>
                                            <VirtualizingStackPanel Orientation="Vertical"
                                                                    IsVirtualizing="True"
                                                                    VirtualizationMode="Recycling"/>
                                        </ItemsPanelTemplate>
                                    </ListBox.ItemsPanel>

                                    <ListBox.Style>
                                        <Style TargetType="ListBox">
                                            <Setter Property="Visibility" Value="Visible"/>
                                            <Setter Property="IsEnabled" Value="True"/>
                                        </Style>
                                    </ListBox.Style>

                                    <ListBox.ItemTemplate>
                                        <DataTemplate>

                                            <Border Margin="12,6"
                                                    Padding="8"
                                                    HorizontalAlignment="Stretch"
                                                    FocusVisualStyle="{x:Null}"
                                                    Focusable="False"
                                                    CornerRadius="10">
                                                <Border.Style>
                                                    <Style TargetType="Border">
                                                        <Setter Property="Background" Value="{DynamicResource SuccessMenu}"/>
                                                        <Setter Property="BorderBrush" Value="#22FFFFFF"/>
                                                        <Setter Property="BorderThickness" Value="1"/>
                                                        <Style.Triggers>
                                                            <Trigger Property="IsKeyboardFocusWithin" Value="True">
                                                                <Setter Property="Background" Value="{DynamicResource OverlayMenu}"/>
                                                                <Setter Property="BorderBrush" Value="{DynamicResource FocusGameBorderBrush}"/>
                                                                <Setter Property="BorderThickness" Value="1.5"/>
                                                            </Trigger>
                                                            <DataTrigger Binding="{Binding IsSelected, RelativeSource={RelativeSource AncestorType=ListBoxItem}}" Value="True">
                                                                <Setter Property="Background" Value="{DynamicResource OverlayMenu}"/>
                                                                <Setter Property="BorderBrush" Value="{DynamicResource FocusGameBorderBrush}"/>
                                                                <Setter Property="BorderThickness" Value="2.5"/>
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </Border.Style>



                                                <!-- CONTENU ITEM -->
                                                <Grid Margin="4,2"
                                                      Focusable="False"
                                                      KeyboardNavigation.IsTabStop="False"
                                                      KeyboardNavigation.TabNavigation="None"
                                                      KeyboardNavigation.DirectionalNavigation="None">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="4"/>
                                                        <ColumnDefinition Width="Auto"/>
                                                        <ColumnDefinition Width="*" />
                                                    </Grid.ColumnDefinitions>
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="Auto"/>
                                                        <RowDefinition Height="Auto"/>
                                                        <RowDefinition Height="Auto"/>
                                                    </Grid.RowDefinitions>

                                                    <!-- Accent gauche -->
                                                    <Border Grid.RowSpan="3" MaxHeight="120"
                                                            Grid.Column="0"
                                                            CornerRadius="2">
                                                        <Border.Style>
                                                            <Style TargetType="Border">
                                                                <Setter Property="Background" Value="Transparent" />
                                                                <Style.Triggers>
                                                                    <DataTrigger Binding="{Binding IsSelected,
                                                                                 RelativeSource={RelativeSource AncestorType=ListBoxItem}}"
                                                                                 Value="True">
                                                                        <Setter Property="Background" Value="{DynamicResource TextHighlightBrush}" />
                                                                    </DataTrigger>
                                                                </Style.Triggers>
                                                            </Style>
                                                        </Border.Style>
                                                    </Border>

                                                    <!-- Image -->
                                                    <Border Grid.RowSpan="3"
                                                            Grid.Column="1"
                                                            MaxWidth="220"
                                                            Height="120"
                                                            Margin="0,0,12,0"
                                                            CornerRadius="8"
                                                            Background="#00000000"
                                                            ClipToBounds="True">
                                                        <Grid>

                                                            <!-- Image principale : LocalImagePath -->
                                                            <Image x:Name="NewsMainImage"
                                                                   Stretch="Uniform"
                                                                   RenderOptions.BitmapScalingMode="LowQuality"
                                                                   Source="{Binding LocalImagePath}">
                                                                <Image.Style>
                                                                    <Style TargetType="Image">
                                                                        <Setter Property="Visibility" Value="Visible" />
                                                                        <Style.Triggers>
                                                                            <!-- Si LocalImagePath est null ou vide -> on cache -->
                                                                            <DataTrigger Binding="{Binding LocalImagePath}" Value="{x:Null}">
                                                                                <Setter Property="Visibility" Value="Collapsed" />
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{Binding LocalImagePath}" Value="">
                                                                                <Setter Property="Visibility" Value="Collapsed" />
                                                                            </DataTrigger>
                                                                        </Style.Triggers>
                                                                    </Style>
                                                                </Image.Style>
                                                            </Image>

                                                            <!-- Fallback : NoImagesNews.png via ThemeFile -->
                                                            <Image x:Name="NewsFallbackImage"
                                                                   Stretch="Uniform"
                                                                   RenderOptions.BitmapScalingMode="LowQuality"
                                                                   Source="{ThemeFile 'Images/NoImagesGameNews.png'}">
                                                                <Image.Style>
                                                                    <Style TargetType="Image">
                                                                        <Setter Property="Visibility" Value="Collapsed" />
                                                                        <Style.Triggers>
                                                                            <!-- Si LocalImagePath est null ou vide -> on affiche le fallback -->
                                                                            <DataTrigger Binding="{Binding LocalImagePath}" Value="{x:Null}">
                                                                                <Setter Property="Visibility" Value="Visible" />
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{Binding LocalImagePath}" Value="">
                                                                                <Setter Property="Visibility" Value="Visible" />
                                                                            </DataTrigger>
                                                                        </Style.Triggers>
                                                                    </Style>
                                                                </Image.Style>
                                                            </Image>

                                                        </Grid>
                                                    </Border>

                                                    <!-- Titre -->
                                                    <TextBlock Grid.Row="0"
                                                               Grid.Column="2"
                                                               Text="{Binding Title}"
                                                               Style="{DynamicResource TextBlockBaseStyle}"
                                                               FontSize="24"
                                                               FontWeight="SemiBold"
                                                               MaxWidth="600"
                                                               TextWrapping="Wrap"
                                                               TextTrimming="CharacterEllipsis"
                                                               Margin="0,2,8,0"/>

                                                    <!-- Date -->
                                                    <TextBlock Grid.Row="2"
                                                               Grid.Column="2"
                                                               Text="{Binding DateString}"
                                                               Style="{DynamicResource TextBlockBaseStyle}"
                                                               FontSize="20"
                                                               Opacity="0.7"
                                                               Margin="15,4,8,4"/>
                                                </Grid>
                                            </Border>
                                        </DataTemplate>
                                    </ListBox.ItemTemplate>

                                    <ListBox.ItemContainerStyle>
                                        <Style TargetType="ListBoxItem">
                                            <Setter Property="Padding" Value="0"/>
                                            <Setter Property="Margin" Value="0"/>
                                            <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
                                            <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
                                            <Setter Property="VerticalContentAlignment" Value="Center"/>
                                            <Setter Property="Background" Value="Transparent"/>
                                            <Setter Property="BorderThickness" Value="0"/>
                                            <Setter Property="Template">
                                                <Setter.Value>
                                                    <ControlTemplate TargetType="ListBoxItem">
                                                        <Border Background="{TemplateBinding Background}">
                                                            <ContentPresenter
                                                                HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                                                VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                                                Margin="{TemplateBinding Padding}" />
                                                        </Border>
                                                    </ControlTemplate>
                                                </Setter.Value>
                                            </Setter>
                                        </Style>
                                    </ListBox.ItemContainerStyle>
                                </ListBox>
                                <Border.Effect>
                                    <DropShadowEffect
                                        Color="#000000"
                                        ShadowDepth="0"
                                        Opacity="0.3"/>
                                </Border.Effect>
                            </Border>

                            <!-- Détails de la news -->
                            <Border x:Name="BorderNewsDetails"
                                    Grid.Row="1"
                                    Grid.Column="1"
                                    Margin="10,10,0,0"
                                    Focusable="False"
                                    CornerRadius="12"
                                    HorizontalAlignment="Stretch">
                                <Border.Style>
                                    <Style TargetType="Border">
                                        <Setter Property="Background" Value="Transparent"/>
                                        <Setter Property="BorderBrush" Value="{DynamicResource MenuBorderBrush}"/>
                                        <Setter Property="BorderThickness" Value="0"/>
                                        <Style.Triggers>
                                            <Trigger Property="IsKeyboardFocusWithin" Value="True">
                                                <Setter Property="BorderBrush" Value="{DynamicResource FocusGameBorderBrush}"/>
                                                <Setter Property="BorderThickness" Value="2.5"/>
                                            </Trigger>
                                        </Style.Triggers>
                                    </Style>
                                </Border.Style>

                                <Grid DataContext="{Binding SelectedItem, ElementName=NewsList}">

                                    <!-- Contenu -->
                                    <Grid Margin="10,0,10,10">
                                        <Border x:Name="BorderNews" Grid.Row="1" Grid.Column="1" Margin="10,20,0,0" Focusable="False" CornerRadius="12" HorizontalAlignment="Stretch">
                                            <Border.OpacityMask>
                                                <LinearGradientBrush StartPoint="0,1" EndPoint="0,0">
                                                    <GradientStop Color="#00FFFFFF" Offset="0"/>
                                                    <GradientStop Color="#FF000000" Offset="0.5"/>
                                                </LinearGradientBrush>
                                            </Border.OpacityMask>

                                            <ScrollViewerEx x:Name="NewsContentScroll"
                                                            Focusable="True"
                                                            IsTabStop="True"
                                                            FocusVisualStyle="{x:Null}"
                                                            PanningMode="VerticalOnly"
                                                            ScrollViewer.CanContentScroll="False"
                                                            VerticalScrollBarVisibility="Auto">

                                                <HtmlTextView x:Name="NewsContent"
                                                              HtmlText="{Binding HtmlDescription}"
                                                              HtmlFontFamily="{DynamicResource FontFamily}"
                                                              HtmlForeground="{DynamicResource TextColorDark}"
                                                              LinkForeground="{DynamicResource GlyphColor}"
                                                              HtmlFontSize="{DynamicResource FontSize}"
                                                              Focusable="False"
                                                              IsTabStop="False" />
                                            </ScrollViewerEx>
                                        </Border>
                                    </Grid>
                                    <!-- flux RSS invalide -->
                                    <TextBlock
                                        Text="{DynamicResource LOCRSSInvalidFallbackIGN}"
                                        FontSize="20"
                                        Foreground="Red"
                                        VerticalAlignment="Bottom"
                                        HorizontalAlignment="Right"
                                        Opacity="0.7"
                                        Margin="15,4,20,10">
                                        <TextBlock.Style>
                                            <Style TargetType="TextBlock" BasedOn="{StaticResource TextBlockBaseStyle}">
                                                <Setter Property="Visibility" Value="Collapsed" />
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{PluginSettings Plugin=AnikiHelper, Path=SteamNewsCustomFeedInvalid}" Value="True">
                                                        <Setter Property="Visibility" Value="Visible" />
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </TextBlock.Style>
                                    </TextBlock>

                                </Grid>
                            </Border>
                        </Grid>

                        <!--UpdatePanel-->
                        <Grid x:Name="UpdatePanel" Panel.ZIndex="0" MaxWidth="1900" Margin="20,40,20,80" Visibility="Collapsed">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                            <!-- Titre -->
                            <StackPanel Grid.Row="0" Grid.ColumnSpan="2" Orientation="Vertical" HorizontalAlignment="Center">
                                <TextBlock Text="{DynamicResource LOCLatestGamesUpdates}"
                                           Style="{DynamicResource TextBlockBaseStyle}"
                                           Foreground="{DynamicResource TextColorDarkBrush}"
                                           FontSize="38"
                                           FontWeight="SemiBold"
                                           Typography.Capitals="AllSmallCaps"
                                           HorizontalAlignment="Center"/>
                                <TextBlock Text="{DynamicResource LOCMostRecentPatchedGames}"
                                           Style="{DynamicResource TextBlockBaseStyle}"
                                           Foreground="{DynamicResource TextColorDarkBrush}"
                                           Opacity="0.7"
                                           FontSize="20"
                                           HorizontalAlignment="Center"/>
                            </StackPanel>
                            <!-- Liste Update-->
                            <Border Grid.Row="1"
                                    Grid.Column="0"
                                    Margin="0,20,10,0"
                                    Focusable="False"
                                    CornerRadius="12"
                                    HorizontalAlignment="Stretch">
                                <Border.Style>
                                    <Style TargetType="Border">
                                        <Setter Property="Background" Value="{DynamicResource BackgroundAHDarkBrush}"/>
                                        <Setter Property="BorderBrush" Value="{DynamicResource MenuBorderBrush}"/>
                                        <Setter Property="BorderThickness" Value="1"/>
                                        <Style.Triggers>
                                            <Trigger Property="IsKeyboardFocusWithin" Value="True">
                                                <Setter Property="BorderBrush" Value="{DynamicResource FocusGameBorderBrush}"/>
                                                <Setter Property="BorderThickness" Value="2.5"/>
                                            </Trigger>
                                        </Style.Triggers>
                                    </Style>
                                </Border.Style>
                                <ListBox x:Name="UpdateList"
                                         HorizontalAlignment="Stretch"
                                         Focusable="True"
                                         SelectedIndex="0"
                                         BorderThickness="0"
                                         Background="Transparent"
                                         FocusVisualStyle="{x:Null}"
                                         KeyboardNavigation.DirectionalNavigation="Once"
                                         KeyboardNavigation.TabNavigation="Once"
                                         KeyboardNavigation.ControlTabNavigation="Once"
                                         ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                                         ScrollViewer.VerticalScrollBarVisibility="Hidden"
                                         ScrollViewer.CanContentScroll="True"
                                         VirtualizingPanel.IsVirtualizing="True"
                                         VirtualizingPanel.VirtualizationMode="Recycling"
                                         VirtualizingPanel.ScrollUnit="Item"
                                         VirtualizingPanel.CacheLengthUnit="Item"
                                         VirtualizingPanel.CacheLength="3"
                                         ItemsSource="{PluginSettings Plugin=AnikiHelper, Path=SteamRecentUpdates}">
                                    <ListBox.ItemsPanel>
                                        <ItemsPanelTemplate>
                                            <VirtualizingStackPanel Orientation="Vertical"
                                                                    IsVirtualizing="True"
                                                                    VirtualizationMode="Recycling"/>
                                        </ItemsPanelTemplate>
                                    </ListBox.ItemsPanel>

                                    <ListBox.Style>
                                        <Style TargetType="ListBox">
                                            <Setter Property="Visibility" Value="Visible"/>
                                            <Setter Property="IsEnabled" Value="True"/>
                                        </Style>
                                    </ListBox.Style>
                                    <ListBox.ItemTemplate>
                                        <DataTemplate>
                                            <Border Margin="12,6"
                                                    Padding="8"
                                                    HorizontalAlignment="Stretch"
                                                    FocusVisualStyle="{x:Null}"
                                                    Focusable="False"
                                                    CornerRadius="10">
                                                <Border.Style>
                                                    <Style TargetType="Border">
                                                        <Setter Property="Background" Value="{DynamicResource SuccessMenu}"/>
                                                        <Setter Property="BorderBrush" Value="#22FFFFFF"/>
                                                        <Setter Property="BorderThickness" Value="1"/>
                                                        <Style.Triggers>
                                                            <Trigger Property="IsKeyboardFocusWithin" Value="True">
                                                                <Setter Property="Background" Value="{DynamicResource OverlayMenu}"/>
                                                                <Setter Property="BorderBrush" Value="{DynamicResource FocusGameBorderBrush}"/>
                                                                <Setter Property="BorderThickness" Value="1.5"/>
                                                            </Trigger>
                                                            <DataTrigger Binding="{Binding IsSelected, RelativeSource={RelativeSource AncestorType=ListBoxItem}}" Value="True">
                                                                <Setter Property="Background" Value="{DynamicResource OverlayMenu}"/>
                                                                <Setter Property="BorderBrush" Value="{DynamicResource FocusGameBorderBrush}"/>
                                                                <Setter Property="BorderThickness" Value="2.5"/>
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </Border.Style>

                                                <Grid Margin="4,2"
                                                      Focusable="False"
                                                      KeyboardNavigation.IsTabStop="False"
                                                      KeyboardNavigation.TabNavigation="None"
                                                      KeyboardNavigation.DirectionalNavigation="None">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="4"/>
                                                        <ColumnDefinition Width="Auto"/>
                                                        <ColumnDefinition Width="*" />
                                                        <ColumnDefinition Width="Auto"/>
                                                    </Grid.ColumnDefinitions>
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="Auto"/>
                                                        <RowDefinition Height="Auto"/>
                                                    </Grid.RowDefinitions>

                                                    <Border x:Name="NewUpdateBadge" Grid.Column="3" Width="50" Height="50" CornerRadius="20" Background="{DynamicResource ButtonPlayColor}" BorderBrush="{DynamicResource MenuBorderBrush}" BorderThickness="2" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="0,3,3,0">
                                                        <Border.Style>
                                                            <Style TargetType="Border">
                                                                <Setter Property="Visibility" Value="Collapsed"/>
                                                                <Style.Triggers>
                                                                    <DataTrigger Binding="{Binding IsRecent}" Value="True">
                                                                        <Setter Property="Visibility" Value="Visible"/>
                                                                    </DataTrigger>
                                                                </Style.Triggers>
                                                            </Style>
                                                        </Border.Style>
                                                        <TextBlock Text="NEW" FontWeight="Bold" FontSize="14" Margin="5" VerticalAlignment="Center" HorizontalAlignment="Center" Foreground="White"/>
                                                    </Border>

                                                    <!-- Accent -->
                                                    <Border Grid.RowSpan="2" Grid.Column="0" CornerRadius="2" MaxHeight="120">
                                                        <Border.Style>
                                                            <Style TargetType="Border">
                                                                <Setter Property="Background" Value="Transparent" />
                                                                <Style.Triggers>
                                                                    <DataTrigger Binding="{Binding IsSelected, RelativeSource={RelativeSource AncestorType=ListBoxItem}}" Value="True">
                                                                        <Setter Property="Background" Value="{DynamicResource TextHighlightBrush}" />
                                                                    </DataTrigger>
                                                                </Style.Triggers>
                                                            </Style>
                                                        </Border.Style>
                                                    </Border>
                                                    <!-- Vignette / icône -->
                                                    <Border Grid.RowSpan="2" Grid.Column="1" Width="120" MaxHeight="120" Margin="0,0,12,0" CornerRadius="8" Background="#33000000" ClipToBounds="True">
                                                        <Image Source="{Binding CoverPath}" Stretch="UniformToFill" RenderOptions.BitmapScalingMode="Fant">
                                                            <Image.Style>
                                                                <Style TargetType="Image">
                                                                    <Setter Property="Visibility" Value="Visible"/>
                                                                    <Style.Triggers>
                                                                        <DataTrigger Binding="{Binding CoverPath}" Value="">
                                                                            <Setter Property="Visibility" Value="Collapsed"/>
                                                                        </DataTrigger>
                                                                        <DataTrigger Binding="{Binding CoverPath}" Value="{x:Null}">
                                                                            <Setter Property="Visibility" Value="Collapsed"/>
                                                                        </DataTrigger>
                                                                    </Style.Triggers>
                                                                </Style>
                                                            </Image.Style>
                                                        </Image>
                                                    </Border>
                                                    <!-- Nom du jeu -->
                                                    <TextBlock Grid.Row="0" Grid.Column="2" Grid.ColumnSpan="2" Text="{Binding GameName}" Style="{DynamicResource TextBlockBaseStyle}" FontSize="26" FontWeight="SemiBold" TextTrimming="CharacterEllipsis" Margin="0,2,8,0"/>
                                                    <!-- Date + titre de l’update -->
                                                    <StackPanel Grid.Row="1" Grid.Column="2" Grid.ColumnSpan="2" Orientation="Horizontal" Margin="0,6,8,4">
                                                        <TextBlock Text="Updated " FontSize="26" Style="{DynamicResource TextBlockBaseStyle}" Opacity="0.75"/>
                                                        <TextBlock Text="{Binding DateString}" FontSize="26" Style="{DynamicResource TextBlockBaseStyle}" Opacity="0.75"/>
                                                    </StackPanel>
                                                </Grid>
                                            </Border>
                                        </DataTemplate>
                                    </ListBox.ItemTemplate>
                                    <ListBox.ItemContainerStyle>
                                        <Style TargetType="ListBoxItem">
                                            <Setter Property="Padding" Value="0"/>
                                            <Setter Property="Margin" Value="0"/>
                                            <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
                                            <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
                                            <Setter Property="VerticalContentAlignment" Value="Center"/>
                                            <Setter Property="Background" Value="Transparent"/>
                                            <Setter Property="BorderThickness" Value="0"/>
                                            <Setter Property="Template">
                                                <Setter.Value>
                                                    <ControlTemplate TargetType="ListBoxItem">
                                                        <Border Background="{TemplateBinding Background}">
                                                            <ContentPresenter
                                                                HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                                                VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                                                Margin="{TemplateBinding Padding}" />
                                                        </Border>
                                                    </ControlTemplate>
                                                </Setter.Value>
                                            </Setter>

                                        </Style>
                                    </ListBox.ItemContainerStyle>
                                </ListBox>
                                <Border.Effect>
                                    <DropShadowEffect  Color="#000000" ShadowDepth="0" Opacity="0.3"/>
                                </Border.Effect>
                            </Border>

                            <!-- PatchNote -->
                            <Border x:Name="BorderPatchDetails"
                                    Grid.Row="1"
                                    Grid.Column="1"
                                    Margin="10,10,0,0"
                                    Focusable="False"
                                    CornerRadius="12"
                                    HorizontalAlignment="Stretch">
                                <Border.Style>
                                    <Style TargetType="Border">
                                        <Setter Property="Background" Value="Transparent"/>
                                        <Setter Property="BorderBrush" Value="{DynamicResource MenuBorderBrush}"/>
                                        <Setter Property="BorderThickness" Value="0"/>
                                        <Style.Triggers>
                                            <Trigger Property="IsKeyboardFocusWithin" Value="True">
                                                <Setter Property="BorderBrush" Value="{DynamicResource FocusGameBorderBrush}"/>
                                                <Setter Property="BorderThickness" Value="2.5"/>
                                            </Trigger>
                                        </Style.Triggers>
                                    </Style>
                                </Border.Style>

                                <Grid DataContext="{Binding SelectedItem, ElementName=UpdateList}">

                                    <!-- Contenu -->
                                    <Grid Margin="10,0,10,10">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="*"/>
                                        </Grid.RowDefinitions>

                                        <!-- Titre "Patch Note" -->
                                        <TextBlock Margin="10,5,10,10"
                                                   Grid.Row="0"
                                                   Text="{DynamicResource LOCPatchNote}"
                                                   HorizontalAlignment="Center"
                                                   Style="{StaticResource TextBlockBaseStyle}"
                                                   Foreground="{DynamicResource TextHighlightBrush}"
                                                   FontSize="30" />

                                        <!-- Titre de l’update sélectionnée -->
                                        <TextBlock Margin="10,10,10,5"
                                                   Grid.Row="1"
                                                   Text="{Binding Title}"
                                                   Style="{StaticResource InfoValueStyle}"
                                                   FontSize="26" />

                                        <!-- Zone scrollable avec masque -->
                                        <Border x:Name="BorderPatch"
                                                Grid.Row="2"
                                                Margin="10,10,0,0"
                                                Focusable="False"
                                                CornerRadius="12"
                                                HorizontalAlignment="Stretch">

                                            <Border.OpacityMask>
                                                <LinearGradientBrush StartPoint="0,1" EndPoint="0,0">
                                                    <GradientStop Color="#00FFFFFF" Offset="0"/>
                                                    <GradientStop Color="#FF000000" Offset="0.5"/>
                                                </LinearGradientBrush>
                                            </Border.OpacityMask>

                                            <ScrollViewerEx x:Name="ContenuUpdateScroll"
                                                            Focusable="True"
                                                            IsTabStop="True"
                                                            FocusVisualStyle="{x:Null}"
                                                            PanningMode="VerticalOnly"
                                                            ScrollViewer.CanContentScroll="False"
                                                            VerticalScrollBarVisibility="Auto">
                                                <HtmlTextView x:Name="ContenuUpdate"
                                                              HtmlText="{Binding Html}"
                                                              HtmlFontFamily="{DynamicResource FontFamily}"
                                                              HtmlForeground="{DynamicResource TextColorDark}"
                                                              LinkForeground="{DynamicResource GlyphColor}"
                                                              HtmlFontSize="{DynamicResource FontSize}"
                                                              Focusable="False"
                                                              IsTabStop="False" />
                                            </ScrollViewerEx>
                                        </Border>
                                    </Grid>

                                </Grid>
                            </Border>

                        </Grid>

                        <!--PlayniteNewsPanel-->
                        <Grid x:Name="PlayniteNewsPanel" Panel.ZIndex="0" MaxWidth="1900" Margin="20,40,20,80" Visibility="Visible">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>


                            <!-- Titre -->
                            <StackPanel Grid.Row="0" Grid.ColumnSpan="2" Orientation="Vertical" HorizontalAlignment="Center">
                                <TextBlock Text="{DynamicResource LOCPlayniteNews}"
                                           Style="{DynamicResource TextBlockBaseStyle}"
                                           Foreground="{DynamicResource TextColorDarkBrush}"
                                           FontSize="38"
                                           FontWeight="SemiBold"
                                           Typography.Capitals="AllSmallCaps"
                                           HorizontalAlignment="Center"/>
                                <TextBlock Text="{DynamicResource LOCLatestannouncements}"
                                           Style="{DynamicResource TextBlockBaseStyle}"
                                           Foreground="{DynamicResource TextColorDarkBrush}"
                                           Opacity="0.7"
                                           FontSize="20"
                                           HorizontalAlignment="Center"/>
                            </StackPanel>

                            <!-- Liste des news -->
                            <Border Grid.Row="1"
                                    Grid.Column="0"
                                    Margin="0,20,10,0"
                                    Focusable="False"
                                    CornerRadius="12"
                                    HorizontalAlignment="Stretch">
                                <Border.Style>
                                    <Style TargetType="Border">
                                        <Setter Property="Background" Value="{DynamicResource BackgroundAHDarkBrush}"/>
                                        <Setter Property="BorderBrush" Value="{DynamicResource MenuBorderBrush}"/>
                                        <Setter Property="BorderThickness" Value="1"/>
                                        <Style.Triggers>
                                            <Trigger Property="IsKeyboardFocusWithin" Value="True">
                                                <Setter Property="BorderBrush" Value="{DynamicResource FocusGameBorderBrush}"/>
                                                <Setter Property="BorderThickness" Value="2.5"/>
                                            </Trigger>
                                        </Style.Triggers>
                                    </Style>
                                </Border.Style>

                                <!-- Focus initial sur la liste -->
                                <ListBox x:Name="PlayniteNewsList"
                                         HorizontalAlignment="Stretch"
                                         Focusable="True"
                                         SelectedIndex="0"
                                         BorderThickness="0"
                                         Background="Transparent"
                                         FocusVisualStyle="{x:Null}"
                                         KeyboardNavigation.DirectionalNavigation="Once"
                                         KeyboardNavigation.TabNavigation="Once"
                                         KeyboardNavigation.ControlTabNavigation="Once"
                                         ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                                         ScrollViewer.VerticalScrollBarVisibility="Hidden"
                                         ScrollViewer.CanContentScroll="True"
                                         VirtualizingPanel.IsVirtualizing="True"
                                         VirtualizingPanel.VirtualizationMode="Recycling"
                                         VirtualizingPanel.ScrollUnit="Item"
                                         VirtualizingPanel.CacheLengthUnit="Item"
                                         VirtualizingPanel.CacheLength="3"
                                         ItemsSource="{PluginSettings Plugin=AnikiHelper, Path=PlayniteNews}"
                                         pbeh:FocusBahaviors.OnVisibilityFocus="True">

                                    <ListBox.ItemsPanel>
                                        <ItemsPanelTemplate>
                                            <VirtualizingStackPanel Orientation="Vertical"
                                                                    IsVirtualizing="True"
                                                                    VirtualizationMode="Recycling"/>
                                        </ItemsPanelTemplate>
                                    </ListBox.ItemsPanel>

                                    <ListBox.Style>
                                        <Style TargetType="ListBox">
                                            <Setter Property="Visibility" Value="Visible"/>
                                            <Setter Property="IsEnabled" Value="True"/>
                                        </Style>
                                    </ListBox.Style>

                                    <ListBox.ItemTemplate>
                                        <DataTemplate>

                                            <Border Margin="12,6"
                                                    Padding="8"
                                                    HorizontalAlignment="Stretch"
                                                    FocusVisualStyle="{x:Null}"
                                                    Focusable="False"
                                                    CornerRadius="10">
                                                <Border.Style>
                                                    <Style TargetType="Border">
                                                        <Setter Property="Background" Value="{DynamicResource SuccessMenu}"/>
                                                        <Setter Property="BorderBrush" Value="#22FFFFFF"/>
                                                        <Setter Property="BorderThickness" Value="1"/>
                                                        <Style.Triggers>
                                                            <Trigger Property="IsKeyboardFocusWithin" Value="True">
                                                                <Setter Property="Background" Value="{DynamicResource OverlayMenu}"/>
                                                                <Setter Property="BorderBrush" Value="{DynamicResource FocusGameBorderBrush}"/>
                                                                <Setter Property="BorderThickness" Value="1.5"/>
                                                            </Trigger>
                                                            <DataTrigger Binding="{Binding IsSelected, RelativeSource={RelativeSource AncestorType=ListBoxItem}}" Value="True">
                                                                <Setter Property="Background" Value="{DynamicResource OverlayMenu}"/>
                                                                <Setter Property="BorderBrush" Value="{DynamicResource FocusGameBorderBrush}"/>
                                                                <Setter Property="BorderThickness" Value="2.5"/>
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </Border.Style>

                                                <!-- CONTENU ITEM -->
                                                <Grid Margin="4,2"
                                                      Focusable="False"
                                                      KeyboardNavigation.IsTabStop="False"
                                                      KeyboardNavigation.TabNavigation="None"
                                                      KeyboardNavigation.DirectionalNavigation="None">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="4"/>
                                                        <ColumnDefinition Width="Auto"/>
                                                        <ColumnDefinition Width="*" />
                                                    </Grid.ColumnDefinitions>
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="Auto"/>
                                                        <RowDefinition Height="Auto"/>
                                                        <RowDefinition Height="Auto"/>
                                                    </Grid.RowDefinitions>

                                                    <!-- Accent gauche -->
                                                    <Border Grid.RowSpan="3" MaxHeight="120"
                                                            Grid.Column="0"
                                                            CornerRadius="2">
                                                        <Border.Style>
                                                            <Style TargetType="Border">
                                                                <Setter Property="Background" Value="Transparent" />
                                                                <Style.Triggers>
                                                                    <DataTrigger Binding="{Binding IsSelected,
                                                                                 RelativeSource={RelativeSource AncestorType=ListBoxItem}}"
                                                                                 Value="True">
                                                                        <Setter Property="Background" Value="{DynamicResource TextHighlightBrush}" />
                                                                    </DataTrigger>
                                                                </Style.Triggers>
                                                            </Style>
                                                        </Border.Style>
                                                    </Border>

                                                    <!-- Image -->
                                                    <Border Grid.RowSpan="3"
                                                            Grid.Column="1"
                                                            MaxWidth="220"
                                                            Height="120"
                                                            Margin="0,0,12,0"
                                                            CornerRadius="8"
                                                            Background="#00000000"
                                                            ClipToBounds="True">
                                                        <Grid>

                                                            <!-- Image principale : LocalImagePath -->
                                                            <Image x:Name="NewsMainImage"
                                                                   Stretch="Uniform"
                                                                   RenderOptions.BitmapScalingMode="LowQuality"
                                                                   Source="{Binding LocalImagePath}">
                                                                <Image.Style>
                                                                    <Style TargetType="Image">
                                                                        <Setter Property="Visibility" Value="Visible" />
                                                                        <Style.Triggers>
                                                                            <!-- Si LocalImagePath est null ou vide -> on cache -->
                                                                            <DataTrigger Binding="{Binding LocalImagePath}" Value="{x:Null}">
                                                                                <Setter Property="Visibility" Value="Collapsed" />
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{Binding LocalImagePath}" Value="">
                                                                                <Setter Property="Visibility" Value="Collapsed" />
                                                                            </DataTrigger>
                                                                        </Style.Triggers>
                                                                    </Style>
                                                                </Image.Style>
                                                            </Image>

                                                            <!-- Fallback : NoImagesNews.png via ThemeFile -->
                                                            <Image x:Name="NewsFallbackImage"
                                                                   Stretch="Uniform"
                                                                   RenderOptions.BitmapScalingMode="LowQuality"
                                                                   Source="{ThemeFile 'Images/NoImagesNews.png'}">
                                                                <Image.Style>
                                                                    <Style TargetType="Image">
                                                                        <Setter Property="Visibility" Value="Collapsed" />
                                                                        <Style.Triggers>
                                                                            <!-- Si LocalImagePath est null ou vide -> on affiche le fallback -->
                                                                            <DataTrigger Binding="{Binding LocalImagePath}" Value="{x:Null}">
                                                                                <Setter Property="Visibility" Value="Visible" />
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{Binding LocalImagePath}" Value="">
                                                                                <Setter Property="Visibility" Value="Visible" />
                                                                            </DataTrigger>
                                                                        </Style.Triggers>
                                                                    </Style>
                                                                </Image.Style>
                                                            </Image>

                                                        </Grid>
                                                    </Border>

                                                    <!-- Titre -->
                                                    <TextBlock Grid.Row="0"
                                                               Grid.Column="2"
                                                               Text="{Binding Title}"
                                                               Style="{DynamicResource TextBlockBaseStyle}"
                                                               FontSize="24"
                                                               FontWeight="SemiBold"
                                                               MaxWidth="600"
                                                               TextWrapping="Wrap"
                                                               TextTrimming="CharacterEllipsis"
                                                               Margin="0,2,8,0"/>

                                                    <!-- Date -->
                                                    <TextBlock Grid.Row="2"
                                                               Grid.Column="2"
                                                               Text="{Binding DateString}"
                                                               Style="{DynamicResource TextBlockBaseStyle}"
                                                               FontSize="20"
                                                               Opacity="0.7"
                                                               Margin="15,4,8,4"/>
                                                </Grid>
                                            </Border>
                                        </DataTemplate>
                                    </ListBox.ItemTemplate>

                                    <ListBox.ItemContainerStyle>
                                        <Style TargetType="ListBoxItem">
                                            <Setter Property="Padding" Value="0"/>
                                            <Setter Property="Margin" Value="0"/>
                                            <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
                                            <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
                                            <Setter Property="VerticalContentAlignment" Value="Center"/>
                                            <Setter Property="Background" Value="Transparent"/>
                                            <Setter Property="BorderThickness" Value="0"/>
                                            <Setter Property="Template">
                                                <Setter.Value>
                                                    <ControlTemplate TargetType="ListBoxItem">
                                                        <Border Background="{TemplateBinding Background}">
                                                            <ContentPresenter
                                                                HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                                                VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                                                Margin="{TemplateBinding Padding}" />
                                                        </Border>
                                                    </ControlTemplate>
                                                </Setter.Value>
                                            </Setter>
                                        </Style>
                                    </ListBox.ItemContainerStyle>
                                </ListBox>
                                <Border.Effect>
                                    <DropShadowEffect
                                        Color="#000000"
                                        ShadowDepth="0"
                                        Opacity="0.3"/>
                                </Border.Effect>
                            </Border>

                            <!-- Détails de la news -->
                            <Border x:Name="BorderPlayniteNewsDetails"
                                    Grid.Row="1"
                                    Grid.Column="1"
                                    Margin="10,10,0,0"
                                    Focusable="False"
                                    CornerRadius="12"
                                    HorizontalAlignment="Stretch">
                                <Border.Style>
                                    <Style TargetType="Border">
                                        <Setter Property="Background" Value="Transparent"/>
                                        <Setter Property="BorderBrush" Value="{DynamicResource MenuBorderBrush}"/>
                                        <Setter Property="BorderThickness" Value="0"/>
                                        <Style.Triggers>
                                            <Trigger Property="IsKeyboardFocusWithin" Value="True">
                                                <Setter Property="BorderBrush" Value="{DynamicResource FocusGameBorderBrush}"/>
                                                <Setter Property="BorderThickness" Value="2.5"/>
                                            </Trigger>
                                        </Style.Triggers>
                                    </Style>
                                </Border.Style>

                                <!-- Détail Playnite Actu -->
                                <Grid DataContext="{Binding SelectedItem, ElementName=PlayniteNewsList}">

                                    <!-- Contenu -->
                                    <Grid Margin="10,0,10,10">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="*"/>
                                        </Grid.RowDefinitions>

                                        <!-- Titre "Patch Note" -->
                                        <TextBlock Margin="10,5,10,10"
                                                   Grid.Row="0"
                                                   Text="{Binding Title}"
                                                   HorizontalAlignment="Center"
                                                   Style="{StaticResource TextBlockBaseStyle}"
                                                   Foreground="{DynamicResource TextHighlightBrush}"
                                                   FontSize="30" />

                                        <Border x:Name="BorderPlayniteNews"
                                                Grid.Row="1"
                                                Grid.Column="1"
                                                Margin="10,20,0,0"
                                                Focusable="False"
                                                CornerRadius="12"
                                                HorizontalAlignment="Stretch">
                                            <Border.OpacityMask>
                                                <LinearGradientBrush StartPoint="0,1" EndPoint="0,0">
                                                    <GradientStop Color="#00FFFFFF" Offset="0"/>
                                                    <GradientStop Color="#FF000000" Offset="0.5"/>
                                                </LinearGradientBrush>
                                            </Border.OpacityMask>



                                            <ScrollViewerEx x:Name="PlayniteNewsContentScroll"
                                                            Focusable="True"
                                                            IsTabStop="True"
                                                            FocusVisualStyle="{x:Null}"
                                                            PanningMode="VerticalOnly"
                                                            ScrollViewer.CanContentScroll="False"
                                                            VerticalScrollBarVisibility="Auto">

                                                <HtmlTextView x:Name="PlayniteNewsContent"
                                                              HtmlText="{Binding HtmlDescription}"
                                                              HtmlFontFamily="{DynamicResource FontFamily}"
                                                              HtmlForeground="{DynamicResource TextColorDark}"
                                                              LinkForeground="{DynamicResource GlyphColor}"
                                                              HtmlFontSize="{DynamicResource FontSize}"
                                                              Focusable="True"
                                                              IsTabStop="False" />
                                            </ScrollViewerEx>
                                        </Border>
                                    </Grid>
                                </Grid>

                            </Border>
                        </Grid>

                        <!--DealsPanel-->
                        <Grid x:Name="DealsPanel"
                              Panel.ZIndex="0"
                              MaxWidth="1900"
                              Margin="20,40,20,80"
                              Visibility="Collapsed">

                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>


                            <!-- Titre -->
                            <StackPanel Grid.Row="0" Grid.ColumnSpan="2" Orientation="Vertical" HorizontalAlignment="Center">
                                <TextBlock Text="{DynamicResource LOCSteamDeals}"
                                           Style="{DynamicResource TextBlockBaseStyle}"
                                           Foreground="{DynamicResource TextColorDarkBrush}"
                                           FontSize="38"
                                           FontWeight="SemiBold"
                                           Typography.Capitals="AllSmallCaps"
                                           HorizontalAlignment="Center"/>
                                <TextBlock Text="{DynamicResource LOCLatestDeals}"
                                           Style="{DynamicResource TextBlockBaseStyle}"
                                           Foreground="{DynamicResource TextColorDarkBrush}"
                                           Opacity="0.7"
                                           FontSize="20"
                                           HorizontalAlignment="Center"/>
                            </StackPanel>

                            <!-- Liste des news -->
                            <Border Grid.Row="1"
                                    Grid.Column="0"
                                    Margin="0,20,10,0"
                                    Focusable="False"
                                    CornerRadius="12"
                                    HorizontalAlignment="Stretch">
                                <Border.Style>
                                    <Style TargetType="Border">
                                        <Setter Property="Background" Value="{DynamicResource BackgroundAHDarkBrush}"/>
                                        <Setter Property="BorderBrush" Value="{DynamicResource MenuBorderBrush}"/>
                                        <Setter Property="BorderThickness" Value="1"/>
                                        <Style.Triggers>
                                            <Trigger Property="IsKeyboardFocusWithin" Value="True">
                                                <Setter Property="BorderBrush" Value="{DynamicResource FocusGameBorderBrush}"/>
                                                <Setter Property="BorderThickness" Value="2.5"/>
                                            </Trigger>
                                        </Style.Triggers>
                                    </Style>
                                </Border.Style>

                                <!-- Focus initial sur la liste -->
                                <ListBox x:Name="DealsList"
                                         HorizontalAlignment="Stretch"
                                         Focusable="True"
                                         SelectedIndex="0"
                                         BorderThickness="0"
                                         Background="Transparent"
                                         FocusVisualStyle="{x:Null}"
                                         KeyboardNavigation.DirectionalNavigation="Once"
                                         KeyboardNavigation.TabNavigation="Once"
                                         KeyboardNavigation.ControlTabNavigation="Once"
                                         ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                                         ScrollViewer.VerticalScrollBarVisibility="Hidden"
                                         ScrollViewer.CanContentScroll="True"
                                         VirtualizingPanel.IsVirtualizing="True"
                                         VirtualizingPanel.VirtualizationMode="Recycling"
                                         VirtualizingPanel.ScrollUnit="Item"
                                         VirtualizingPanel.CacheLengthUnit="Item"
                                         VirtualizingPanel.CacheLength="3"
                                         ItemsSource="{PluginSettings Plugin=AnikiHelper, Path=Deals}"
                                         pbeh:FocusBahaviors.OnVisibilityFocus="True">

                                    <ListBox.ItemsPanel>
                                        <ItemsPanelTemplate>
                                            <VirtualizingStackPanel Orientation="Vertical"
                                                                    IsVirtualizing="True"
                                                                    VirtualizationMode="Recycling"/>
                                        </ItemsPanelTemplate>
                                    </ListBox.ItemsPanel>

                                    <ListBox.Style>
                                        <Style TargetType="ListBox">
                                            <Setter Property="Visibility" Value="Visible"/>
                                            <Setter Property="IsEnabled" Value="True"/>
                                        </Style>
                                    </ListBox.Style>

                                    <ListBox.ItemTemplate>
                                        <DataTemplate>

                                            <Border Margin="12,6"
                                                    Padding="8"
                                                    HorizontalAlignment="Stretch"
                                                    FocusVisualStyle="{x:Null}"
                                                    Focusable="False"
                                                    CornerRadius="10">
                                                <Border.Style>
                                                    <Style TargetType="Border">
                                                        <Setter Property="Background" Value="{DynamicResource SuccessMenu}"/>
                                                        <Setter Property="BorderBrush" Value="#22FFFFFF"/>
                                                        <Setter Property="BorderThickness" Value="1"/>
                                                        <Style.Triggers>
                                                            <Trigger Property="IsKeyboardFocusWithin" Value="True">
                                                                <Setter Property="Background" Value="{DynamicResource OverlayMenu}"/>
                                                                <Setter Property="BorderBrush" Value="{DynamicResource FocusGameBorderBrush}"/>
                                                                <Setter Property="BorderThickness" Value="1.5"/>
                                                            </Trigger>
                                                            <DataTrigger Binding="{Binding IsSelected, RelativeSource={RelativeSource AncestorType=ListBoxItem}}" Value="True">
                                                                <Setter Property="Background" Value="{DynamicResource OverlayMenu}"/>
                                                                <Setter Property="BorderBrush" Value="{DynamicResource FocusGameBorderBrush}"/>
                                                                <Setter Property="BorderThickness" Value="2.5"/>
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </Border.Style>

                                                <!-- CONTENU ITEM -->
                                                <Grid Margin="4,2"
                                                      Focusable="False"
                                                      KeyboardNavigation.IsTabStop="False"
                                                      KeyboardNavigation.TabNavigation="None"
                                                      KeyboardNavigation.DirectionalNavigation="None">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="4"/>
                                                        <ColumnDefinition Width="Auto"/>
                                                        <ColumnDefinition Width="*" />
                                                    </Grid.ColumnDefinitions>
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="Auto"/>
                                                        <RowDefinition Height="Auto"/>
                                                        <RowDefinition Height="Auto"/>
                                                    </Grid.RowDefinitions>

                                                    <!-- Accent gauche -->
                                                    <Border Grid.RowSpan="3" MaxHeight="120"
                                                            Grid.Column="0"
                                                            CornerRadius="2">
                                                        <Border.Style>
                                                            <Style TargetType="Border">
                                                                <Setter Property="Background" Value="Transparent" />
                                                                <Style.Triggers>
                                                                    <DataTrigger Binding="{Binding IsSelected,
                                                                                 RelativeSource={RelativeSource AncestorType=ListBoxItem}}"
                                                                                 Value="True">
                                                                        <Setter Property="Background" Value="{DynamicResource TextHighlightBrush}" />
                                                                    </DataTrigger>
                                                                </Style.Triggers>
                                                            </Style>
                                                        </Border.Style>
                                                    </Border>

                                                    <!-- Image -->
                                                    <Border Grid.RowSpan="3"
                                                            Grid.Column="1"
                                                            MaxWidth="220"
                                                            Height="120"
                                                            Margin="0,0,12,0"
                                                            CornerRadius="8"
                                                            Background="#00000000"
                                                            ClipToBounds="True">
                                                        <Image Stretch="Uniform" RenderOptions.BitmapScalingMode="LowQuality">
                                                            <Image.Style>
                                                                <Style TargetType="Image">
                                                                    <Setter Property="Source" Value="{Binding LocalImagePath}" />
                                                                    <Style.Triggers>

                                                                    </Style.Triggers>
                                                                </Style>
                                                            </Image.Style>
                                                        </Image>
                                                    </Border>

                                                    <!-- Titre -->
                                                    <TextBlock Grid.Row="0"
                                                               Grid.Column="2"
                                                               Text="{Binding Title}"
                                                               Style="{DynamicResource TextBlockBaseStyle}"
                                                               FontSize="24"
                                                               FontWeight="SemiBold"
                                                               MaxWidth="600"
                                                               TextWrapping="Wrap"
                                                               TextTrimming="CharacterEllipsis"
                                                               Margin="0,2,8,0"/>

                                                    <!-- Date -->
                                                    <TextBlock Grid.Row="2"
                                                               Grid.Column="2"
                                                               Text="{Binding DateString}"
                                                               Style="{DynamicResource TextBlockBaseStyle}"
                                                               FontSize="20"
                                                               Opacity="0.7"
                                                               Margin="15,4,8,4"/>
                                                </Grid>
                                            </Border>
                                        </DataTemplate>
                                    </ListBox.ItemTemplate>

                                    <ListBox.ItemContainerStyle>
                                        <Style TargetType="ListBoxItem">
                                            <Setter Property="Padding" Value="0"/>
                                            <Setter Property="Margin" Value="0"/>
                                            <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
                                            <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
                                            <Setter Property="VerticalContentAlignment" Value="Center"/>
                                            <Setter Property="Background" Value="Transparent"/>
                                            <Setter Property="BorderThickness" Value="0"/>
                                            <Setter Property="Template">
                                                <Setter.Value>
                                                    <ControlTemplate TargetType="ListBoxItem">
                                                        <Border Background="{TemplateBinding Background}">
                                                            <ContentPresenter
                                                                HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                                                VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                                                Margin="{TemplateBinding Padding}" />
                                                        </Border>
                                                    </ControlTemplate>
                                                </Setter.Value>
                                            </Setter>
                                        </Style>
                                    </ListBox.ItemContainerStyle>
                                </ListBox>
                                <Border.Effect>
                                    <DropShadowEffect
                                        Color="#000000"
                                        ShadowDepth="0"
                                        Opacity="0.3"/>
                                </Border.Effect>
                            </Border>

                            <!-- Détails de la news -->
                            <Border x:Name="BorderDealsDetails"
                                    Grid.Row="1"
                                    Grid.Column="1"
                                    Margin="10,10,0,0"
                                    Focusable="False"
                                    CornerRadius="12"
                                    HorizontalAlignment="Stretch">
                                <Border.Style>
                                    <Style TargetType="Border">
                                        <Setter Property="Background" Value="Transparent"/>
                                        <Setter Property="BorderBrush" Value="{DynamicResource MenuBorderBrush}"/>
                                        <Setter Property="BorderThickness" Value="0"/>
                                        <Style.Triggers>
                                            <Trigger Property="IsKeyboardFocusWithin" Value="True">
                                                <Setter Property="BorderBrush" Value="{DynamicResource FocusGameBorderBrush}"/>
                                                <Setter Property="BorderThickness" Value="2.5"/>
                                            </Trigger>
                                        </Style.Triggers>
                                    </Style>
                                </Border.Style>

                                <!-- Détail Playnite Actu -->
                                <Grid DataContext="{Binding SelectedItem, ElementName=DealsList}">

                                    <Grid Margin="10,0,10,10">
                                        <Border x:Name="BorderDeals"
                                                Grid.Row="1"
                                                Grid.Column="1"
                                                Margin="10,20,0,0"
                                                Focusable="False"
                                                CornerRadius="12"
                                                HorizontalAlignment="Stretch">
                                            <Border.OpacityMask>
                                                <LinearGradientBrush StartPoint="0,1" EndPoint="0,0">
                                                    <GradientStop Color="#00FFFFFF" Offset="0"/>
                                                    <GradientStop Color="#FF000000" Offset="0.5"/>
                                                </LinearGradientBrush>
                                            </Border.OpacityMask>

                                            <ScrollViewerEx x:Name="DealsContentScroll"
                                                            Focusable="True"
                                                            IsTabStop="True"
                                                            FocusVisualStyle="{x:Null}"
                                                            PanningMode="VerticalOnly"
                                                            ScrollViewer.CanContentScroll="False"
                                                            VerticalScrollBarVisibility="Auto">

                                                <HtmlTextView x:Name="DealsContent"
                                                              HtmlText="{Binding HtmlDescription}"
                                                              HtmlFontFamily="{DynamicResource FontFamily}"
                                                              HtmlForeground="{DynamicResource TextColorDark}"
                                                              LinkForeground="{DynamicResource GlyphColor}"
                                                              HtmlFontSize="{DynamicResource FontSize}"
                                                              Focusable="False"
                                                              IsTabStop="False" />
                                            </ScrollViewerEx>
                                        </Border>
                                    </Grid>
                                    <TextBlock
                                        Text="{DynamicResource LOCPriceBased}"
                                        Style="{DynamicResource TextBlockBaseStyle}"
                                        FontSize="20"
                                        VerticalAlignment="Bottom"
                                        HorizontalAlignment="Right"
                                        Opacity="0.7"
                                        Margin="15,4,20,10"/>
                                </Grid>

                            </Border>


                        </Grid>


                        <!-- barre bas + bouton retour -->
                        <Border Background="{DynamicResource ColorBottomBarOtherViewBrush}"
                                CornerRadius="0,0,5,5"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Bottom"
                                Height="50"/>
                        <ButtonEx x:Name="BackButton"
                                  Margin="0,0,10,10"
                                  VerticalAlignment="Bottom"
                                  HorizontalAlignment="Right"
                                  Style="{StaticResource IconBButton}"
                                  Content="{DynamicResource LOCBackLabel}" />
                    </Grid>
                    <ControlTemplate.Triggers>
                        <!-- NEWS -->
                        <DataTrigger Binding="{Binding IsChecked, ElementName=ModeNewsInternal}" Value="True">
                            <Setter TargetName="NewsPanel" Property="Visibility" Value="Visible"/>
                            <Setter TargetName="UpdatePanel" Property="Visibility" Value="Collapsed"/>
                            <Setter TargetName="PlayniteNewsPanel" Property="Visibility" Value="Collapsed"/>
                            <Setter TargetName="DealsPanel" Property="Visibility" Value="Collapsed"/>
                        </DataTrigger>

                        <!-- UPDATES -->
                        <DataTrigger Binding="{Binding IsChecked, ElementName=ModeUpdatesInternal}" Value="True">
                            <Setter TargetName="NewsPanel" Property="Visibility" Value="Collapsed"/>
                            <Setter TargetName="UpdatePanel" Property="Visibility" Value="Visible"/>
                            <Setter TargetName="PlayniteNewsPanel" Property="Visibility" Value="Collapsed"/>
                            <Setter TargetName="DealsPanel" Property="Visibility" Value="Collapsed"/>
                        </DataTrigger>

                        <!-- PLAYNITE ACTU -->
                        <DataTrigger Binding="{Binding IsChecked, ElementName=ModePlayniteInternal}" Value="True">
                            <Setter TargetName="NewsPanel" Property="Visibility" Value="Collapsed"/>
                            <Setter TargetName="UpdatePanel" Property="Visibility" Value="Collapsed"/>
                            <Setter TargetName="PlayniteNewsPanel" Property="Visibility" Value="Visible"/>
                            <Setter TargetName="DealsPanel" Property="Visibility" Value="Collapsed"/>
                        </DataTrigger>

                        <!-- DEALS -->
                        <DataTrigger Binding="{Binding IsChecked, ElementName=ModeDealsInternal}" Value="True">
                            <Setter TargetName="NewsPanel" Property="Visibility" Value="Collapsed"/>
                            <Setter TargetName="UpdatePanel" Property="Visibility" Value="Collapsed"/>
                            <Setter TargetName="PlayniteNewsPanel" Property="Visibility" Value="Collapsed"/>
                            <Setter TargetName="DealsPanel" Property="Visibility" Value="Visible"/>
                        </DataTrigger>

                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
        <Style.Triggers>
            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=AspectRatio}" Value="dsp1610">
                <Setter Property="Margin" Value="0,-60,0,-60"/>
            </DataTrigger>
            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=AspectRatio}" Value="dsp219">
                <Setter Property="Margin" Value="-320,0,-320,0"/>
            </DataTrigger>
        </Style.Triggers>
    </Style>


</ResourceDictionary>