<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                    xmlns:pin="clr-namespace:Playnite.Input;assembly=Playnite"
                    xmlns:pbeh="clr-namespace:Playnite.Behaviors;assembly=Playnite"
                    mc:Ignorable="d">

    <Style TargetType="{x:Type GameDetails}">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type GameDetails}">

                    <Grid Background="#00000000"
                          x:Name="PART_ViewHost"
                          d:DesignWidth="{StaticResource DesignWidth}"
                          d:DesignHeight="{StaticResource DesignHeight}"
                          d:DataContext="{x:Static DesignMainViewModel.DesignSelectedGameIntance}"
                          FocusManager.FocusedElement="{Binding ElementName=PART_ButtonContext}"
                          Focusable="True"
                          KeyboardNavigation.DirectionalNavigation="Contained"
                          KeyboardNavigation.TabNavigation="Cycle"
                          KeyboardNavigation.ControlTabNavigation="Cycle" >

                        <Grid.RowDefinitions>
                            <RowDefinition Height="80" />
                            <RowDefinition x:Name="DetailsRow" Height="*" />
                            <RowDefinition Height="100" />
                        </Grid.RowDefinitions>

                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="80"/>
                        </Grid.ColumnDefinitions>

                        <Grid.Style>
                            <Style TargetType="Grid">
                                <Setter Property="Opacity" Value="0" />
                                <Setter Property="Focusable" Value="True" />
                                <Setter Property="FocusManager.FocusedElement" Value="{Binding ElementName=PART_ButtonContext}" />
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type Window}}, Path=IsActive}" Value="False">
                                        <Setter Property="Visibility" Value="Collapsed"/>
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding ElementName=PART_ElemGameStatus, Path=Visibility}" Value="Visible">
                                        <Setter Property="Visibility" Value="Collapsed"/>
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}" Value="Visible">
                                        <DataTrigger.EnterActions>
                                            <BeginStoryboard>
                                                <Storyboard>
                                                    <DoubleAnimation Storyboard.TargetProperty="Opacity" BeginTime="0:0:0" Duration="0:0:0" From="0" To="1" />
                                                </Storyboard>
                                            </BeginStoryboard>
                                        </DataTrigger.EnterActions>
                                        <DataTrigger.ExitActions>
                                            <BeginStoryboard>
                                                <Storyboard>
                                                    <DoubleAnimation Storyboard.TargetProperty="Opacity" Duration="0:0:0" From="1" To="0" />
                                                </Storyboard>
                                            </BeginStoryboard>
                                        </DataTrigger.ExitActions>
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding ElementName=PART_ElemGameStatus, Path=Visibility}" Value="Visible">
                                        <Setter Property="Focusable" Value="False"/>
                                        <Setter Property="FocusManager.FocusedElement" Value="{Binding ElementName=OpenPlayniteButton}" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding ElementName=PART_ElemGameStatus, Path=Visibility}" Value="Collapsed">
                                        <Setter Property="Focusable" Value="True"/>
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding ElementName=PART_ButtonContext, Path=Visibility}" Value="Collapsed">
                                        <Setter Property="FocusManager.FocusedElement" Value="{Binding ElementName=PART_ButtonOptions}" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Grid.Style>

                        <Border x:Name="Overlay" Grid.RowSpan="3" Grid.ColumnSpan="3" RenderOptions.BitmapScalingMode="Fant">
                            <Border.Style>
                                <Style TargetType="Border">
                                    <Setter Property="Visibility" Value="Collapsed"/>
                                    <Setter Property="Opacity" Value="0"/>
                                    <Setter Property="Panel.ZIndex" Value="-48"/>
                                    <Setter Property="Background" Value="{DynamicResource ShadeBackgroundDetails}"/>
                                    <Style.Triggers>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[SteamBanner]}" Value="True"/>
                                            </MultiDataTrigger.Conditions>
                                            <Setter Property="Background">
                                                <Setter.Value>
                                                    <ImageBrush ImageSource="{ThemeFile 'Images/ShadowBackground/ShadeSteamhero.png'}"
                                                                RenderOptions.BitmapScalingMode="Fant"
                                                                Stretch="Fill"/>
                                                </Setter.Value>
                                            </Setter>
                                            <Setter Property="Opacity" Value="1"/>
                                            <Setter Property="Visibility" Value="Visible"/>
                                            <Setter Property="Panel.ZIndex" Value="-49"/>
                                        </MultiDataTrigger>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Binding ElementName=Id, Path=Opacity}" Value="1"/>
                                                <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[SteamBanner]}" Value="False"/>
                                            </MultiDataTrigger.Conditions>
                                            <MultiDataTrigger.EnterActions>
                                                <BeginStoryboard>
                                                    <Storyboard>
                                                        <DoubleAnimation Storyboard.TargetProperty="Opacity" BeginTime="0:0:0.6" Duration="0:0:1" To="1"/>
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </MultiDataTrigger.EnterActions>
                                            <MultiDataTrigger.ExitActions>
                                                <BeginStoryboard>
                                                    <Storyboard>
                                                        <DoubleAnimation Storyboard.TargetProperty="Opacity" Duration="0:0:0" To="0"/>
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </MultiDataTrigger.ExitActions>
                                            <Setter Property="Visibility" Value="Visible"/>
                                        </MultiDataTrigger>
                                        <DataTrigger Binding="{Binding ElementName=TrailerZoom, Path=IsChecked}" Value="True">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </DataTrigger>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[NoBarMode]}" Value="True"/>
                                                <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[SteamBanner]}" Value="False"/>
                                            </MultiDataTrigger.Conditions>
                                            <Setter Property="Background" Value="{DynamicResource ShadeBackgroundDetails}"/>
                                        </MultiDataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Border.Style>
                        </Border>

                        <!-- Barre info en haut-droite -->
                        <Grid Grid.Row="0" Grid.Column="0" HorizontalAlignment="Right" Margin="0,0,20,0">

                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <!-- NowPlaying -->
                                <ColumnDefinition Width="Auto"/>
                                <!-- Trophées -->
                                <ColumnDefinition Width="Auto"/>
                                <!-- Avatar   -->
                            </Grid.ColumnDefinitions>


                            <StackPanel Orientation="Horizontal" Focusable="False" Grid.Column="0"  Margin="0,0,10,15" VerticalAlignment="Bottom">
                                <StackPanel.Style>
                                    <Style TargetType="StackPanel">
                                        <Setter Property="Visibility" Value="Collapsed" />
                                        <Setter Property="Opacity" Value="0"/>
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding ElementName=Id, Path=Opacity}" Value="1">
                                                <DataTrigger.EnterActions>
                                                    <BeginStoryboard>
                                                        <Storyboard>
                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                                             BeginTime="0:0:1"
                                                                             Duration="0:0:0.6"
                                                                             From="0"
                                                                             To="1"/>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </DataTrigger.EnterActions>
                                                <DataTrigger.ExitActions>
                                                    <BeginStoryboard>
                                                        <Storyboard>
                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                                             Duration="0:0:0"
                                                                             From="1"
                                                                             To="0"/>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </DataTrigger.ExitActions>
                                            </DataTrigger>
                                            <DataTrigger Binding="{PluginStatus Plugin=NowPlaying_db4e7ade-57fb-426c-8392-60e2347a0209, Status=Installed}" Value="False">
                                                <Setter Property="Visibility" Value="Collapsed" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{PluginSettings Plugin=NowPlaying, Path=IsGameRunning}" Value="True">
                                                <Setter Property="Visibility" Value="Visible" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}" Value="Collapsed">
                                                <Setter Property="Visibility" Value="Collapsed" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </StackPanel.Style>

                                <Image Width="32"
                                       Height="32"
                                       Source="{PluginSettings Plugin=NowPlaying, Path=RunningGame.IconPath}"
                                       Margin="10,5,10,5"/>
                                <StackPanel Orientation="Vertical">
                                    <StackPanel Orientation="Horizontal">
                                        <TextBlock x:Name="NowPlaying_Title"
                                                   Style="{DynamicResource TextBlockBaseStyle}"
                                                   Text="{DynamicResource LOCNowPlayingNP}"
                                                   FontSize="16"
                                                   Margin="10,0,5,0"/>
                                        <TextBlock x:Name="SessionLength"
                                                   Style="{DynamicResource TextBlockBaseStyle}"
                                                   Text="{PluginSettings Plugin=NowPlaying, Path=SessionLength}"
                                                   FontSize="15"
                                                   VerticalAlignment="Bottom"
                                                   Margin="0,0,10,0"/>
                                    </StackPanel>

                                    <TextBlock x:Name="NowPlaying_Game"
                                               Style="{DynamicResource TextBlockBoldBaseStyle}"
                                               Text="{PluginSettings Plugin=NowPlaying, Path=RunningGame.GameName}"
                                               FontSize="16"
                                               Margin="10,0,10,0"
                                               TextTrimming="WordEllipsis"
                                               MaxWidth="250"/>

                                </StackPanel>
                                <StackPanel.Effect>
                                    <DropShadowEffect ShadowDepth="2" Color="Black" BlurRadius="2" RenderingBias="Performance" Opacity="0.8"/>
                                </StackPanel.Effect>
                            </StackPanel>


                            <!-- Avatar -->
                            <Grid x:Name="Avatar" Grid.Column="2">
                                <Border RenderOptions.BitmapScalingMode="Fant" Margin="0,10,-70,0" CornerRadius="0" Height="50" Width="50" VerticalAlignment="Center" HorizontalAlignment="Right" ClipToBounds="True" >
                                    <Border.Style>
                                        <Style TargetType="Border">
                                            <Setter Property="Background" Value="{DynamicResource Avatar99}"/>
                                            <Setter Property="Opacity" Value="0"/>
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding ElementName=Id, Path=Opacity}" Value="1">
                                                    <DataTrigger.EnterActions>
                                                        <BeginStoryboard>
                                                            <Storyboard>
                                                                <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                                                 BeginTime="0:0:0.5"
                                                                                 Duration="0:0:0.6"
                                                                                 From="0"
                                                                                 To="0.9"/>
                                                            </Storyboard>
                                                        </BeginStoryboard>
                                                    </DataTrigger.EnterActions>
                                                    <DataTrigger.ExitActions>
                                                        <BeginStoryboard>
                                                            <Storyboard>
                                                                <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                                                 Duration="0:0:0"
                                                                                 From="0.9"
                                                                                 To="0"/>
                                                            </Storyboard>
                                                        </BeginStoryboard>
                                                    </DataTrigger.ExitActions>
                                                </DataTrigger>

                                                <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="True">
                                                    <Setter Property="Visibility" Value="Visible" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}" Value="Collapsed">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                </DataTrigger>

                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="1">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar99}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="2">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar2}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="3">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar3}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="4">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar4}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="5">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar5}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="6">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar6}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="7">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar7}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="8">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar8}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="9">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar9}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="10">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar10}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="11">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar11}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="12">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar12}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="13">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar13}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="14">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar14}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="15">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar15}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="16">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar16}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="17">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar17}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="18">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar18}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="19">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar19}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="20">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar20}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="21">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar21}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="22">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar22}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="23">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar23}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="24">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar24}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="25">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar25}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="26">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar26}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="27">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar27}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="28">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar28}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="29">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar29}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="30">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar30}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="31">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar31}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="32">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar32}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="33">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar33}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="34">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar34}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="35">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar35}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="36">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar36}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="37">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar37}"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[AvatarImageIndex]}" Value="38">
                                                    <Setter Property="Background" Value="{DynamicResource Avatar38}"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Border.Style>
                                </Border>
                            </Grid>

                            <!-- Trophée -->

                            <StackPanel x:Name="Trophée" Orientation="Horizontal"
                                        VerticalAlignment="Center"
                                        Margin="0,0,20,0"
                                        Grid.Column="1"
                                        Tag="{PluginSettings Plugin=SuccessStory, Path=HasData}">
                                <StackPanel.Style>
                                    <Style TargetType="StackPanel">
                                        <Setter Property="Visibility" Value="Collapsed" />
                                        <Setter Property="Opacity" Value="0"/>
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding ElementName=Id, Path=Opacity}" Value="1">
                                                <DataTrigger.EnterActions>
                                                    <BeginStoryboard>
                                                        <Storyboard>
                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                                             BeginTime="0:0:1"
                                                                             Duration="0:0:0.6"
                                                                             From="0"
                                                                             To="1"/>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </DataTrigger.EnterActions>
                                                <DataTrigger.ExitActions>
                                                    <BeginStoryboard>
                                                        <Storyboard>
                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                                             Duration="0:0:0"
                                                                             From="1"
                                                                             To="0"/>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </DataTrigger.ExitActions>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="True">
                                                <Setter Property="Visibility" Value="Visible" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}" Value="Collapsed">
                                                <Setter Property="Visibility" Value="Collapsed" />
                                            </DataTrigger>


                                        </Style.Triggers>
                                    </Style>
                                </StackPanel.Style>


                                <Border Height="30" Width="30" VerticalAlignment="Center" HorizontalAlignment="Right" Margin="0,10,0,0" ClipToBounds="True">
                                    <Image Source="{ThemeFile 'Images/platinum.png'}"
                                           RenderOptions.BitmapScalingMode="Fant" />
                                </Border>
                                <TextBlock Margin="0,0,0,0" VerticalAlignment="Bottom" HorizontalAlignment="Left" Foreground="{DynamicResource TextBrush}" FontFamily="Segoe UI SemiBold" FontSize="20">
                                    <TextBlock.Style>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="Text" Value="0"/>
                                            <Style.Triggers>
                                                <DataTrigger Binding="{PluginSettings Plugin=SuccessStory, Path=Percent}" Value="100">
                                                    <Setter Property="Text" Value="1"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </TextBlock.Style>
                                </TextBlock>

                                <Border Height="30" Width="30" VerticalAlignment="Center" HorizontalAlignment="Right" Margin="0,10,0,0" ClipToBounds="True">
                                    <Image Source="{ThemeFile 'Images/GoldTrophy.png'}"
                                           RenderOptions.BitmapScalingMode="Fant"/>
                                </Border>
                                <TextBlock Margin="0,0,0,0" VerticalAlignment="Bottom" HorizontalAlignment="Left" Foreground="{DynamicResource TextBrush}"
                                           Text="{PluginSettings Plugin=SuccessStory, Path=Rare.UnLocked, StringFormat={}{0}}" FontFamily="Segoe UI SemiBold" FontSize="20">
                                </TextBlock>

                                <Border Height="30" Width="30" VerticalAlignment="Center" HorizontalAlignment="Right" Margin="0,10,0,0" ClipToBounds="True">

                                    <Image Height="55" Source="{ThemeFile 'Images/SilverTrophy.png'}"
                                           RenderOptions.BitmapScalingMode="Fant" VerticalAlignment="Center" HorizontalAlignment="Center" />
                                </Border>
                                <TextBlock Margin="0,0,0,0" VerticalAlignment="Bottom" HorizontalAlignment="Left" Foreground="{DynamicResource TextBrush}"
                                           Text="{PluginSettings Plugin=SuccessStory, Path=NoCommon.UnLocked, StringFormat={}{0}}" FontFamily="Segoe UI SemiBold" FontSize="20">
                                </TextBlock>

                                <Border Height="30" Width="30" VerticalAlignment="Center" HorizontalAlignment="Right" Margin="0,10,0,0" ClipToBounds="True">

                                    <Image Source="{ThemeFile 'Images/BronzeTrophy.png'}"
                                           RenderOptions.BitmapScalingMode="Fant" VerticalAlignment="Center" HorizontalAlignment="Center" />
                                </Border>
                                <TextBlock Margin="0,0,0,0" VerticalAlignment="Bottom" HorizontalAlignment="Left" Foreground="{DynamicResource TextBrush}"
                                           Text="{PluginSettings Plugin=SuccessStory, Path=Common.UnLocked, StringFormat={}{0}}" FontFamily="Segoe UI SemiBold" FontSize="20">
                                </TextBlock>

                                <StackPanel.Effect>
                                    <DropShadowEffect ShadowDepth="2" Color="Black" BlurRadius="2" RenderingBias="Performance" Opacity="0.8"/>
                                </StackPanel.Effect>

                            </StackPanel>
                        </Grid>

                        <!-- Interface -->

                        <Grid x:Name="MainBackgroundBlurGrid" Panel.ZIndex="-45">
                            <!-- BARRE BAS -->
                            <Border x:Name="BottomBar"
                                    Background="{DynamicResource OverlayMenu}"
                                    VerticalAlignment="Bottom" Height="80"
                                    BorderBrush="White" BorderThickness="0,1,0,0">
                                <Border.Style>
                                    <Style TargetType="Border">
                                        <Setter Property="RenderTransform">
                                            <Setter.Value>
                                                <TransformGroup>
                                                    <ScaleTransform ScaleX="1" ScaleY="1"/>
                                                    <TranslateTransform X="0" Y="0"/>
                                                </TransformGroup>
                                            </Setter.Value>
                                        </Setter>
                                        <Setter Property="Opacity" Value="1"/>
                                        <Setter Property="Visibility" Value="Visible"/>
                                        <Style.Triggers>
                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[NoBottomBar]}" Value="True">
                                                <Setter Property="Opacity" Value="0"/>
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                            </DataTrigger>

                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}" Value="Visible" />
                                                    <Condition Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}" Value="True"/>
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[NoBottomBar]}" Value="False"/>
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[BottomBarVisible]}" Value="True"/>
                                                </MultiDataTrigger.Conditions>
                                                <MultiDataTrigger.EnterActions>
                                                    <BeginStoryboard>
                                                        <Storyboard FillBehavior="HoldEnd">
                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                                             BeginTime="0:0:0" Duration="0:0:0"
                                                                             From="0" To="0"/>
                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                                             BeginTime="0:0:0.5" Duration="0:0:0.2"
                                                                             From="0" To="1"/>
                                                            <DoubleAnimation
                                                                Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[1].(TranslateTransform.Y)"
                                                                BeginTime="0:0:0.5" Duration="0:0:0.6"
                                                                From="80" To="0"
                                                                AccelerationRatio="0.3" DecelerationRatio="0.7"/>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </MultiDataTrigger.EnterActions>
                                                <MultiDataTrigger.ExitActions>
                                                    <BeginStoryboard>
                                                        <Storyboard FillBehavior="Stop">
                                                            <DoubleAnimation
                                                                Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[1].(TranslateTransform.Y)"
                                                                Duration="0:0:0.25"
                                                                From="0" To="80"
                                                                AccelerationRatio="0.2" DecelerationRatio="0.8"/>
                                                            <DoubleAnimation
                                                                Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[0].(ScaleTransform.ScaleY)"
                                                                Duration="0:0:0.25"
                                                                From="1" To="0.98"/>
                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                                             BeginTime="0:0:0.05" Duration="0:0:0.2"
                                                                             From="1" To="0"/>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </MultiDataTrigger.ExitActions>
                                            </MultiDataTrigger>





                                        </Style.Triggers>
                                    </Style>
                                </Border.Style>
                            </Border>

                            <!-- BARRE HAUT -->
                            <Border x:Name="TopBar"
                                    Background="{DynamicResource OverlayMenu}"
                                    VerticalAlignment="Top" Height="90"
                                    BorderBrush="White" BorderThickness="0,0,0,1">
                                <Border.Style>
                                    <Style TargetType="Border">
                                        <Setter Property="RenderTransform">
                                            <Setter.Value>
                                                <TransformGroup>
                                                    <ScaleTransform ScaleX="1" ScaleY="1"/>
                                                    <TranslateTransform X="0" Y="0"/>
                                                </TransformGroup>
                                            </Setter.Value>
                                        </Setter>
                                        <Setter Property="Opacity" Value="1"/>
                                        <Setter Property="Visibility" Value="Visible"/>

                                        <Style.Triggers>
                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[NoBarMode]}" Value="True">
                                                <Setter Property="Opacity" Value="0"/>
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                            </DataTrigger>
                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}" Value="Visible" />
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[NoTopBar]}" Value="False"/>
                                                </MultiDataTrigger.Conditions>
                                                <MultiDataTrigger.EnterActions>
                                                    <BeginStoryboard>
                                                        <Storyboard FillBehavior="HoldEnd">
                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                                             BeginTime="0:0:0" Duration="0:0:0"
                                                                             From="0" To="0"/>
                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                                             BeginTime="0:0:0.5" Duration="0:0:0.2"
                                                                             From="0" To="1"/>
                                                            <DoubleAnimation
                                                                Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[1].(TranslateTransform.Y)"
                                                                BeginTime="0:0:0.5" Duration="0:0:0.6"
                                                                From="-90" To="0"
                                                                AccelerationRatio="0.3" DecelerationRatio="0.7"/>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </MultiDataTrigger.EnterActions>
                                            </MultiDataTrigger>

                                        </Style.Triggers>
                                    </Style>
                                </Border.Style>

                                <Image Width="60" Height="60" Margin="0,2,8,0"
                                       VerticalAlignment="Center" HorizontalAlignment="Center"
                                       Source="{ThemeFile 'Images/Aniki.png'}"
                                       RenderOptions.BitmapScalingMode="Fant"/>
                            </Border>

                            <Grid.Style>
                                <Style TargetType="Grid">
                                    <Setter Property="Grid.RowSpan" Value="3"/>
                                    <Setter Property="Grid.ColumnSpan" Value="3"/>
                                    <Setter Property="Opacity" Value="1"/>
                                    <Setter Property="Visibility" Value="Visible"/>
                                </Style>
                            </Grid.Style>
                        </Grid>


                        <!-- Image de Source -->

                        <Border x:Name="SourceIconBorder" Opacity="0">
                            <Border.Style>
                                <Style TargetType="Border">
                                    <Setter Property="Visibility" Value="Visible"/>
                                    <Style.Triggers>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Binding ElementName=Id, Path=Opacity}" Value="1"/>
                                            </MultiDataTrigger.Conditions>
                                            <MultiDataTrigger.EnterActions>
                                                <BeginStoryboard>
                                                    <Storyboard>
                                                        <!-- Animation d'apparition -->
                                                        <DoubleAnimation Storyboard.TargetProperty="Opacity" BeginTime="0:0:0" Duration="0:0:0.5" To="1"/>
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </MultiDataTrigger.EnterActions>
                                            <MultiDataTrigger.ExitActions>
                                                <BeginStoryboard>
                                                    <Storyboard>
                                                        <!-- Animation de disparition -->
                                                        <DoubleAnimation Storyboard.TargetProperty="Opacity" Duration="0:0:0" To="0"/>
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </MultiDataTrigger.ExitActions>
                                        </MultiDataTrigger>

                                        <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[NoSource]}" Value="False">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Border.Style>
                            <Image Source="{ThemeFileBinding Source.Name, PathFormat='Icons/Source/{0}.png'}"
                                   RenderOptions.BitmapScalingMode="Fant"
                                   VerticalAlignment="Top"
                                   HorizontalAlignment="Left"
                                   MaxHeight="50"
                                   MaxWidth="180"
                                   Margin="60,20,0,0"
                                   Grid.ColumnSpan="2">
                                <Image.Effect>
                                    <DropShadowEffect ShadowDepth="2" Color="Black" BlurRadius="5" RenderingBias="Performance" Opacity="0.8"/>
                                </Image.Effect>
                            </Image>
                        </Border>

                        <!--Grid Panel Details-->

                        <Grid x:Name="GameDetailsStack"
                              Grid.Row="1" Grid.ColumnSpan="3"
                              HorizontalAlignment="Left" VerticalAlignment="Bottom"
                              RenderTransformOrigin="0,0">

                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>


                            <Grid.Style>
                                <Style TargetType="Grid">
                                    <Setter Property="RenderTransform">
                                        <Setter.Value>
                                            <TransformGroup>
                                                <ScaleTransform/>
                                                <TranslateTransform X="-400" Y="0"/>
                                            </TransformGroup>
                                        </Setter.Value>
                                    </Setter>

                                    <Setter Property="Opacity" Value="0"/>
                                    <Setter Property="Margin" Value="50,0,0,0"/>
                                    <Setter Property="Grid.Row" Value="0"/>

                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}" Value="Visible">
                                            <DataTrigger.EnterActions>
                                                <RemoveStoryboard BeginStoryboardName="SB_Out"/>
                                                <BeginStoryboard x:Name="SB_In" HandoffBehavior="SnapshotAndReplace">
                                                    <Storyboard>
                                                        <DoubleAnimation
                                                            Storyboard.TargetProperty="(RenderTransform).(TransformGroup.Children)[1].(TranslateTransform.X)"
                                                            To="0" BeginTime="0:0:1" Duration="0:0:1">
                                                            <DoubleAnimation.EasingFunction>
                                                                <CubicEase EasingMode="EaseOut"/>
                                                            </DoubleAnimation.EasingFunction>
                                                        </DoubleAnimation>
                                                        <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                                         From="0" To="1" BeginTime="0:0:1" Duration="0:0:0.45"/>
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </DataTrigger.EnterActions>
                                        </DataTrigger>

                                        <DataTrigger Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}" Value="Collapsed">
                                            <DataTrigger.EnterActions>
                                                <RemoveStoryboard BeginStoryboardName="SB_In"/>
                                                <BeginStoryboard x:Name="SB_Out" HandoffBehavior="SnapshotAndReplace">
                                                    <Storyboard FillBehavior="Stop">
                                                        <DoubleAnimation
                                                            Storyboard.TargetProperty="(RenderTransform).(TransformGroup.Children)[1].(TranslateTransform.X)"
                                                            To="-400" Duration="0:0:0.25">
                                                            <DoubleAnimation.EasingFunction>
                                                                <CubicEase EasingMode="EaseIn"/>
                                                            </DoubleAnimation.EasingFunction>
                                                        </DoubleAnimation>
                                                        <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                                         From="1" To="0" Duration="0:0:0.20"/>
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </DataTrigger.EnterActions>
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding ElementName=LogoTrigger, Path=Opacity}" Value="1">
                                            <Setter Property="Visibility" Value="Visible"/>
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}" Value="Collapsed">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Grid.Style>

                            <!--StackPanel Panel Details-->

                            <StackPanel Orientation="Vertical">

                                <!-- Logo -->

                                <ContentControl x:Name="ExtraMetadataLoader_LogoLoaderControl" Grid.Row="1" Grid.ColumnSpan="3"  HorizontalAlignment="Left" VerticalAlignment="Top" CacheMode="BitmapCache">
                                    <ContentControl.Style>
                                        <Style TargetType="ContentControl">
                                            <Setter Property="MaxWidth" Value="600"/>
                                            <Setter Property="MaxHeight" Value="320"/>
                                            <Setter Property="Opacity" Value="1"/>
                                            <Setter Property="HorizontalAlignment" Value="Left"/>
                                            <Setter Property="VerticalAlignment" Value="Bottom"/>
                                            <Setter Property="Visibility" Value="Visible"/>
                                            <Setter Property="Margin" Value="0,0,0,0"/>
                                            <Setter Property="Effect">
                                                <Setter.Value>
                                                    <DropShadowEffect ShadowDepth="2" Opacity="0.6" RenderingBias="Performance" />
                                                </Setter.Value>
                                            </Setter>

                                        </Style>
                                    </ContentControl.Style>
                                </ContentControl>

                                <!--Developpers and ReleaseYear-->

                                <StackPanel Orientation="Horizontal" VerticalAlignment="Bottom" HorizontalAlignment="Left" SnapsToDevicePixels="True">
                                    <StackPanel.Style>
                                        <Style TargetType="StackPanel">
                                            <Setter Property="Visibility" Value="Visible"/>
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding ReleaseYear}" Value="{x:Null}">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[Alternativ]}" Value="True">
                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[NoYear]}" Value="True">
                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </StackPanel.Style>
                                    <TextBlock Style="{StaticResource TextBlockDetailStyle}" Opacity="0.8"
                                               Text="{Binding Developers[0], Converter={StaticResource ListToStringConverter}}"
                                               VerticalAlignment="Top"
                                               FontSize="26" Margin="0,10,0,0.5" >
                                    </TextBlock>
                                    <TextBlock Style="{StaticResource TextBlockAltDetailStyle}"
                                               Text="{Binding ReleaseYear, Converter={StaticResource ListToStringConverter}}"
                                               VerticalAlignment="Center"
                                               FontSize="26" Margin="5,10,5,0">
                                    </TextBlock>
                                </StackPanel>

                                <!--Game Button-->

                                <Grid x:Name="GameButtons" IsEnabled="True" >
                                    <Grid.Style>
                                        <Style TargetType="Grid">
                                            <Setter Property="Opacity" Value="1"/>
                                            <Setter Property="HorizontalAlignment" Value="Left"/>
                                            <Setter Property="Margin" Value="0,0,0,0"/>
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}" Value="Collapsed">
                                                    <Setter Property="Visibility" Value="Collapsed" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Grid.Style>
                                    <Border BorderBrush="Transparent" BorderThickness="3">
                                        <StackPanel HorizontalAlignment="Left" Margin="0,5,0,0" Orientation="Vertical" >
                                            <ButtonEx x:Name="PART_ButtonContext"
                                                      Margin="0,0,7,5"
                                                      Style="{StaticResource ButtonContext}"
                                                      Height="50"
                                                      MinWidth="150"
                                                      HorizontalAlignment="Stretch"
                                                      HorizontalContentAlignment="Center"/>

                                            <ButtonEx x:Name="NowPlay"
                                                      Margin="7,0,7,0"
                                                      Height="50"
                                                      MinWidth="120"
                                                      HorizontalContentAlignment="Center"
                                                      HorizontalAlignment="Stretch"
                                                      Command="{PluginSettings Plugin=NowPlaying, Path=OpenCustomDialog}">
                                                <ButtonEx.Style>
                                                    <Style TargetType="ButtonEx" BasedOn="{StaticResource GameDetailsNowPlayingButtonInGameOptions}">
                                                        <Setter Property="Visibility" Value="Visible" />
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{PluginStatus Plugin=NowPlaying_db4e7ade-57fb-426c-8392-60e2347a0209, Status=Installed}" Value="False">
                                                                <Setter Property="Visibility" Value="Collapsed" />
                                                            </DataTrigger>
                                                            <DataTrigger Binding="{PluginSettings Plugin=NowPlaying, Path=IsGameRunning}" Value="False">
                                                                <Setter Property="Visibility" Value="Collapsed" />
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </ButtonEx.Style>
                                            </ButtonEx>

                                            <StackPanel HorizontalAlignment="Left" Margin="0,10,0,0" Orientation="Horizontal" >
                                                <ButtonEx x:Name="SuccessButton"
                                                          Command="{PluginSettings Plugin=SSHelper, Path=OpenGameAchievementWindow}"
                                                          Height="50"
                                                          Width="50"
                                                          Margin="0,0,10,0"
                                                          Grid.Row="1"
                                                          Tag="{PluginSettings Plugin=SuccessStory, Path=HasData, FallbackValue=False}">
                                                    <ButtonEx.Style>
                                                        <Style TargetType="ButtonEx" BasedOn="{StaticResource GameOptionScaleStyle}">
                                                            <Setter Property="Visibility" Value="Collapsed" />
                                                            <Style.Triggers>
                                                                <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="True">
                                                                    <Setter Property="Visibility" Value="Visible" />
                                                                </DataTrigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </ButtonEx.Style>
                                                    <TextBlock Text="&#xedd7;" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="22" FontFamily="{DynamicResource FontIcoFont}"/>
                                                </ButtonEx>

                                                <ButtonEx x:Name="DlcButton"
                                                          Height="50"
                                                          Width="50"
                                                          Margin="0,0,10,0"
                                                          Grid.Row="1"
                                                          Command="{PluginSettings Plugin=ThemeOptions, Path=OpenWindow[CheckDLCWindowStyle]}"
                                                          Tag="{PluginSettings Plugin=CheckDlc, Path=HasData, FallbackValue=False}">
                                                    <ButtonEx.Style>
                                                        <Style TargetType="ButtonEx" BasedOn="{StaticResource GameOptionScaleStyle}">
                                                            <Setter Property="Visibility" Value="Collapsed" />
                                                            <Style.Triggers>
                                                                <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="True">
                                                                    <Setter Property="Visibility" Value="Visible" />
                                                                </DataTrigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </ButtonEx.Style>
                                                    <TextBlock Text="&#xefe7;" FontSize="22" HorizontalAlignment="Center" VerticalAlignment="Center" FontFamily="{DynamicResource FontIcoFont}"/>
                                                </ButtonEx>

                                                <ButtonEx x:Name="ScreenshotsButton"
                                                          Grid.Row="1"
                                                          Height="50"
                                                          Width="50"
                                                          Margin="0,0,10,0"
                                                          Command="{PluginSettings Plugin=ThemeOptions, Path=OpenWindow[ScreenShotsWindowStyle]}"
                                                          Tag="{PluginSettings Plugin=ScreenshotsVisualizer, Path=HasData, FallbackValue=False}">
                                                    <ButtonEx.Style>
                                                        <Style TargetType="ButtonEx" BasedOn="{StaticResource GameOptionScaleStyle}">
                                                            <Setter Property="Visibility" Value="Collapsed" />
                                                            <Style.Triggers>
                                                                <DataTrigger Binding="{Binding RelativeSource={RelativeSource Self}, Path=Tag}" Value="True">
                                                                    <Setter Property="Visibility" Value="Visible" />
                                                                </DataTrigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </ButtonEx.Style>
                                                    <TextBlock Text="&#xef4b;" FontSize="22" HorizontalAlignment="Center" VerticalAlignment="Center" FontFamily="{DynamicResource FontIcoFont}"/>
                                                </ButtonEx>

                                                <CheckBoxEx x:Name="TrailerMute"
                                                            Width="50"
                                                            Height="50"
                                                            Margin="0,0,10,0"
                                                            Command="{Binding ElementName=ExtraMetadataLoader_VideoLoaderControl_NoControls_Sound, Path=Content.VideoMuteCommand}"
                                                            Grid.Row="2">
                                                    <CheckBoxEx.Style>
                                                        <Style TargetType="CheckBox" BasedOn="{StaticResource TrailerMuteToggleScaleStyle}">
                                                            <Setter Property="Visibility" Value="Visible" />
                                                            <Style.Triggers>
                                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[TrailerOnDetailsView]}" Value="False">
                                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                                </DataTrigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </CheckBoxEx.Style>
                                                </CheckBoxEx>

                                                <CheckBoxEx x:Name="DescPanelToggle"
                                                            Height="50"
                                                            Width="50"
                                                            Margin="0,0,10,0"
                                                            FocusVisualStyle="{x:Null}">

                                                    <TextBlock Text="&#xef4e;"
                                                               FontSize="22"
                                                               FontFamily="{DynamicResource FontIcoFont}"
                                                               HorizontalAlignment="Center"
                                                               VerticalAlignment="Center"/>

                                                    <CheckBoxEx.Style>
                                                        <Style TargetType="CheckBoxEx" BasedOn="{StaticResource DescPanelToggleScale}">
                                                            <Style.Triggers>
                                                                <!-- Quand la vue de détails se ferme, on décoche automatiquement -->
                                                                <DataTrigger Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}" Value="Collapsed">
                                                                    <Setter Property="IsChecked" Value="False"/>
                                                                </DataTrigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </CheckBoxEx.Style>
                                                </CheckBoxEx>

                                                <ButtonEx x:Name="PART_ButtonOptions"
                                                          Height="50"
                                                          Width="50"
                                                          Margin="0,0,10,0">
                                                    <ButtonEx.Style>
                                                        <Style TargetType="ButtonEx" BasedOn="{StaticResource GameOptionScaleStyle}">
                                                            <Setter Property="Visibility" Value="Visible" />
                                                            <Style.Triggers>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </ButtonEx.Style>
                                                    <TextBlock Text="&#xefe2;" FontSize="22" HorizontalAlignment="Center" VerticalAlignment="Center" FontFamily="{DynamicResource FontIcoFont}"/>
                                                </ButtonEx>

                                            </StackPanel>
                                        </StackPanel>
                                    </Border>
                                </Grid>

                                <!--Info-->

                                <StackPanel Orientation="Horizontal" Margin="0,5,0,0">
                                    <StackPanel.Style>
                                        <Style TargetType="StackPanel">
                                            <Setter Property="Visibility" Value="Visible"/>
                                            <Style.Triggers>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[Alternativ]}" Value="True">
                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[NoTime]}" Value="True">
                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </StackPanel.Style>

                                    <!-- horloge -->
                                    <TextBlock Text="&#xec4e;" Style="{StaticResource InfoGlyphStyle}"/>

                                    <!-- valeur -->
                                    <TextBlock x:Name="PlayedTime"
                                               Text="{Binding Playtime, Converter={StaticResource PlayTimeToStringConverter}}"
                                               Style="{StaticResource InfoValueStyle}"
                                               TextTrimming="CharacterEllipsis" MaxWidth="220"/>
                                </StackPanel>

                                <StackPanel Orientation="Horizontal" Margin="0,5,0,0">
                                    <StackPanel.Style>
                                        <Style TargetType="StackPanel">
                                            <Setter Property="Visibility" Value="Visible"/>
                                            <Style.Triggers>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[Alternativ]}" Value="True">
                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[NoActivity]}" Value="True">
                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding ElementName=Played, Path=Text}" Value="">
                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </StackPanel.Style>

                                    <!-- calendrier -->
                                    <TextBlock Text="&#xec45;" Style="{StaticResource InfoGlyphStyle}"/>

                                    <TextBlock x:Name="Played"
                                               Text="{Binding LastActivity, StringFormat='{}{0:dd MMMM yyyy}'}"
                                               Style="{StaticResource InfoValueStyle}"/>
                                </StackPanel>

                                <StackPanel Orientation="Horizontal" Margin="0,5,0,0">
                                    <StackPanel.Style>
                                        <Style TargetType="StackPanel">
                                            <Setter Property="Visibility" Value="Visible"/>
                                            <Style.Triggers>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[Alternativ]}" Value="True">
                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[NoSize]}" Value="True">
                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding ElementName=Siz, Path=Text}" Value="">
                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </StackPanel.Style>

                                    <!-- disque -->
                                    <TextBlock Text="&#xef43;" Style="{StaticResource InfoGlyphStyle}"/>

                                    <TextBlock x:Name="Siz"
                                               Text="{Binding InstallSize, Converter={StaticResource NullableUlongBytesSizeToStringConverter}, StringFormat={}{0}}"
                                               Style="{StaticResource InfoValueStyle}"/>
                                </StackPanel>

                                <!-- Completed -->

                                <StackPanel Orientation="Horizontal" Margin="0,5,0,5">
                                    <StackPanel.Style>
                                        <Style TargetType="StackPanel">
                                            <Setter Property="Visibility" Value="Visible"/>
                                            <Style.Triggers>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[Alternativ]}" Value="True">
                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[NoCompletion]}" Value="True">
                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding ElementName=Completed, Path=Text}" Value="">
                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </StackPanel.Style>

                                    <TextBlock  Text="&#xec4c;" Style="{StaticResource InfoGlyphStyle}"/>
                                    <TextBlock x:Name="Completed"   Text="{Binding CompletionStatus, Converter={StaticResource ListToStringConverter}}" Style="{StaticResource InfoValueStyle}"/>

                                </StackPanel>

                                <!-- Trophée -->

                                <StackPanel Orientation="Horizontal" Margin="0,5,0,5">
                                    <StackPanel.Style>
                                        <Style TargetType="StackPanel">
                                            <Setter Property="Visibility" Value="Visible"/>
                                            <Style.Triggers>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[Alternativ]}" Value="True">
                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=SuccessStory, Path=HasData}" Value="False">
                                                    <Setter  Property="Visibility" Value="Collapsed"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </StackPanel.Style>

                                    <TextBlock Text="&#xedd7;">
                                        <TextBlock.Style>
                                            <Style TargetType="TextBlock" BasedOn="{StaticResource InfoGlyphStyle}">
                                                <Setter Property="Visibility" Value="Visible"/>
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{PluginSettings Plugin=SuccessStory, Path=Percent}" Value="100">
                                                        <Setter Property="Visibility" Value="Collapsed"/>
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </TextBlock.Style>
                                    </TextBlock>
                                    <Image Width="28" Height="28" Margin="0,0,8,0" VerticalAlignment="Center" Source="{ThemeFile 'Images/platinum.png'}">
                                        <Image.Style>
                                            <Style TargetType="Image">
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{PluginSettings Plugin=SuccessStory, Path=Percent}" Value="100">
                                                        <Setter Property="Visibility" Value="Visible"/>
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </Image.Style>
                                    </Image>
                                    <TextBlock Margin="2,0,2,2" Text="{PluginSettings Plugin=SuccessStory, Path=Unlocked, FallbackValue='-'}" VerticalAlignment="Center" HorizontalAlignment="Left" Style="{DynamicResource InfoValueStyle}" />
                                    <TextBlock Margin="2,0,2,2" Text="/" VerticalAlignment="Center" HorizontalAlignment="Left" Style="{DynamicResource InfoValueStyle}" />
                                    <TextBlock Margin="2,0,2,2" Text="{PluginSettings Plugin=SuccessStory, Path=Total, FallbackValue='-'}" VerticalAlignment="Center" HorizontalAlignment="Left" Style="{DynamicResource InfoValueStyle}" />

                                </StackPanel>

                                <!--Stars-->

                                <StackPanel Orientation="Horizontal" Margin="0,-1,0,11"  HorizontalAlignment="Left" VerticalAlignment="Top">
                                    <StackPanel.Style>
                                        <Style TargetType="StackPanel">
                                            <Setter Property="Visibility" Value="Visible"/>
                                            <Style.Triggers>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[Alternativ]}" Value="True">
                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[NoStar]}" Value="True">
                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </StackPanel.Style>

                                    <!-- BANNIÈRE CRITIC SCORE -->
                                    <Border CornerRadius="8" Margin="0,0,10,0"
                                            Padding="10,6"
                                            Background="{DynamicResource OverlayMenu}"
                                            SnapsToDevicePixels="True"
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center">
                                        <Border.Style>
                                            <Style TargetType="Border">
                                                <Setter Property="Visibility" Value="Visible"/>
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding Game.CriticScore}" Value="{x:Null}">
                                                        <Setter Property="Visibility" Value="Collapsed"/>
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </Border.Style>
                                        <Grid>
                                            <!-- Fond flouté -->
                                            <Rectangle Fill="#80FFFFFF" VerticalAlignment="Top" Margin="0,22,0,0" Height="2"  Opacity="0.5" />


                                            <StackPanel Orientation="Vertical" VerticalAlignment="Center">
                                                <!-- Titre (loc) -->
                                                <TextBlock FontFamily="Segoe UI Semibold"
                                                           Style="{DynamicResource TextBlockBaseStyle}"
                                                           FontSize="16"
                                                           HorizontalAlignment="Center" VerticalAlignment="Top"
                                                           Foreground="#CCFFFFFF"
                                                           Text="{DynamicResource LOCCriticScore}"
                                                           Margin="0,0,0,4"/>

                                                <!-- Ligne note + étoiles -->
                                                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                                    <!-- Note numérique -->
                                                    <TextBlock VerticalAlignment="Center"
                                                               Style="{DynamicResource TextBlockBaseStyle}"
                                                               FontSize="20"
                                                               Foreground="White"
                                                               Text="{Binding Game.CriticScore}"
                                                               Margin="0,0,15,0"/>

                                                    <!-- Étoiles -->
                                                    <Grid Width="100" Height="20" ClipToBounds="True" VerticalAlignment="Center">
                                                        <Grid.LayoutTransform>
                                                            <ScaleTransform ScaleX="1.6" ScaleY="1.6"/>
                                                        </Grid.LayoutTransform>

                                                        <!-- Étoiles vides -->
                                                        <TextBlock HorizontalAlignment="Left" VerticalAlignment="Center"
                                                                   FontFamily="{DynamicResource FontIcoFont}"
                                                                   FontSize="13" Foreground="#40FFFFFF"
                                                                   Text="&#xec7a;&#x2002;&#xec7a;&#x2002;&#xec7a;&#x2002;&#xec7a;&#x2002;&#xec7a;"/>

                                                        <!-- Étoiles pleines (width liée à la note) -->
                                                        <Border HorizontalAlignment="Left" VerticalAlignment="Center"
                                                                Width="{Binding Game.CriticScore, FallbackValue=0}"
                                                                ClipToBounds="True">
                                                            <TextBlock HorizontalAlignment="Left" VerticalAlignment="Center"
                                                                       FontFamily="{DynamicResource FontIcoFont}"
                                                                       FontSize="13"
                                                                       Text="&#xec7c;&#x2002;&#xec7c;&#x2002;&#xec7c;&#x2002;&#xec7c;&#x2002;&#xec7c;">
                                                                <TextBlock.Foreground>
                                                                    <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                                                        <GradientStop Color="#FFFFEFA3" Offset="0.00"/>
                                                                        <GradientStop Color="#FFF9D648" Offset="0.40"/>
                                                                        <GradientStop Color="#FFE6B930" Offset="0.70"/>
                                                                        <GradientStop Color="#FFB07C12" Offset="1.00"/>
                                                                    </LinearGradientBrush>
                                                                </TextBlock.Foreground>
                                                                <TextBlock.Effect>
                                                                    <DropShadowEffect Color="#FFD9A441"
                                                                                      BlurRadius="6"
                                                                                      ShadowDepth="0"
                                                                                      Opacity="0.30"/>
                                                                </TextBlock.Effect>
                                                            </TextBlock>
                                                        </Border>
                                                    </Grid>
                                                </StackPanel>
                                            </StackPanel>
                                        </Grid>
                                    </Border>


                                    <!-- BANNIÈRE Community SCORE -->


                                    <Border CornerRadius="8" Margin="0,0,10,0"
                                            Padding="10,6"
                                            Background="{DynamicResource OverlayMenu}"
                                            SnapsToDevicePixels="True"
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center">
                                        <Border.Style>
                                            <Style TargetType="Border">
                                                <Setter Property="Visibility" Value="Visible"/>
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding Game.CommunityScore}" Value="{x:Null}">
                                                        <Setter Property="Visibility" Value="Collapsed"/>
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </Border.Style>
                                        <Grid>
                                            <!-- Fond flouté -->
                                            <Rectangle Fill="#80FFFFFF" VerticalAlignment="Top" Margin="0,22,0,0" Height="2"  Opacity="0.5" />


                                            <StackPanel Orientation="Vertical" VerticalAlignment="Center">
                                                <!-- Titre (loc) -->
                                                <TextBlock FontFamily="Segoe UI Semibold"
                                                           Style="{DynamicResource TextBlockBaseStyle}"
                                                           FontSize="16"
                                                           HorizontalAlignment="Center" VerticalAlignment="Top"
                                                           Foreground="#CCFFFFFF"
                                                           Text="{DynamicResource LOCCommunityScore}"
                                                           Margin="0,0,0,4"/>

                                                <!-- Ligne note + étoiles -->
                                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center">
                                                    <!-- Note numérique -->
                                                    <TextBlock VerticalAlignment="Center"
                                                               Style="{DynamicResource TextBlockBaseStyle}"
                                                               FontSize="20"
                                                               Foreground="White"
                                                               Text="{Binding Game.CommunityScore}"
                                                               Margin="0,0,15,0"/>

                                                    <!-- Étoiles -->
                                                    <Grid Width="100" Height="20" ClipToBounds="True" VerticalAlignment="Center">
                                                        <Grid.LayoutTransform>
                                                            <ScaleTransform ScaleX="1.6" ScaleY="1.6"/>
                                                        </Grid.LayoutTransform>

                                                        <!-- Étoiles vides -->
                                                        <TextBlock HorizontalAlignment="Left" VerticalAlignment="Center"
                                                                   FontFamily="{DynamicResource FontIcoFont}"
                                                                   FontSize="13" Foreground="#40FFFFFF"
                                                                   Text="&#xec7a;&#x2002;&#xec7a;&#x2002;&#xec7a;&#x2002;&#xec7a;&#x2002;&#xec7a;"/>

                                                        <!-- Étoiles pleines (width liée à la note) -->
                                                        <Border HorizontalAlignment="Left" VerticalAlignment="Center"
                                                                Width="{Binding Game.CommunityScore, FallbackValue=0}"
                                                                ClipToBounds="True">
                                                            <TextBlock HorizontalAlignment="Left" VerticalAlignment="Center"
                                                                       FontFamily="{DynamicResource FontIcoFont}"
                                                                       FontSize="13"
                                                                       Text="&#xec7c;&#x2002;&#xec7c;&#x2002;&#xec7c;&#x2002;&#xec7c;&#x2002;&#xec7c;">
                                                                <TextBlock.Foreground>
                                                                    <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                                                        <GradientStop Color="#FFFFEFA3" Offset="0.00"/>
                                                                        <GradientStop Color="#FFF9D648" Offset="0.40"/>
                                                                        <GradientStop Color="#FFE6B930" Offset="0.70"/>
                                                                        <GradientStop Color="#FFB07C12" Offset="1.00"/>
                                                                    </LinearGradientBrush>
                                                                </TextBlock.Foreground>
                                                                <TextBlock.Effect>
                                                                    <DropShadowEffect Color="#FFD9A441"
                                                                                      BlurRadius="6"
                                                                                      ShadowDepth="0"
                                                                                      Opacity="0.30"/>
                                                                </TextBlock.Effect>
                                                            </TextBlock>
                                                        </Border>
                                                    </Grid>
                                                </StackPanel>
                                            </StackPanel>
                                        </Grid>
                                    </Border>

                                    <!-- BANNIÈRE USER SCORE -->
                                    <Border CornerRadius="8" Margin="0,0,10,0"
                                            Padding="10,6"
                                            Background="{DynamicResource OverlayMenu}"
                                            SnapsToDevicePixels="True"
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center">
                                        <Border.Style>
                                            <Style TargetType="Border">
                                                <Setter Property="Visibility" Value="Visible"/>
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding Game.UserScore}" Value="{x:Null}">
                                                        <Setter Property="Visibility" Value="Collapsed"/>
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </Border.Style>
                                        <Grid>
                                            <!-- Fond flouté -->
                                            <Rectangle Fill="#80FFFFFF" VerticalAlignment="Top" Margin="0,22,0,0" Height="2"  Opacity="0.5" />


                                            <StackPanel Orientation="Vertical" VerticalAlignment="Center">
                                                <!-- Titre (loc) -->
                                                <TextBlock FontFamily="Segoe UI Semibold"
                                                           Style="{DynamicResource TextBlockBaseStyle}"
                                                           FontSize="16"
                                                           HorizontalAlignment="Center" VerticalAlignment="Top"
                                                           Foreground="#CCFFFFFF"
                                                           Text="{DynamicResource LOCUserScore}"
                                                           Margin="0,0,0,4"/>

                                                <!-- Ligne note + étoiles -->
                                                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                                    <!-- Note numérique -->
                                                    <TextBlock VerticalAlignment="Center"
                                                               Style="{DynamicResource TextBlockBaseStyle}"
                                                               FontSize="20"
                                                               Foreground="White"
                                                               Text="{Binding Game.UserScore}"
                                                               Margin="0,0,15,0"/>

                                                    <!-- Étoiles -->
                                                    <Grid Width="100" Height="20" ClipToBounds="True" VerticalAlignment="Center">
                                                        <Grid.LayoutTransform>
                                                            <ScaleTransform ScaleX="1.6" ScaleY="1.6"/>
                                                        </Grid.LayoutTransform>

                                                        <!-- Étoiles vides -->
                                                        <TextBlock HorizontalAlignment="Left" VerticalAlignment="Center"
                                                                   FontFamily="{DynamicResource FontIcoFont}"
                                                                   FontSize="13" Foreground="#40FFFFFF"
                                                                   Text="&#xec7a;&#x2002;&#xec7a;&#x2002;&#xec7a;&#x2002;&#xec7a;&#x2002;&#xec7a;"/>

                                                        <!-- Étoiles pleines (width liée à la note) -->
                                                        <Border HorizontalAlignment="Left" VerticalAlignment="Center"
                                                                Width="{Binding Game.UserScore, FallbackValue=0}"
                                                                ClipToBounds="True">
                                                            <TextBlock HorizontalAlignment="Left" VerticalAlignment="Center"
                                                                       FontFamily="{DynamicResource FontIcoFont}"
                                                                       FontSize="13"
                                                                       Text="&#xec7c;&#x2002;&#xec7c;&#x2002;&#xec7c;&#x2002;&#xec7c;&#x2002;&#xec7c;">
                                                                <TextBlock.Foreground>
                                                                    <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                                                        <GradientStop Color="#FFFFEFA3" Offset="0.00"/>
                                                                        <GradientStop Color="#FFF9D648" Offset="0.40"/>
                                                                        <GradientStop Color="#FFE6B930" Offset="0.70"/>
                                                                        <GradientStop Color="#FFB07C12" Offset="1.00"/>
                                                                    </LinearGradientBrush>
                                                                </TextBlock.Foreground>
                                                                <TextBlock.Effect>
                                                                    <DropShadowEffect Color="#FFD9A441"
                                                                                      BlurRadius="6"
                                                                                      ShadowDepth="0"
                                                                                      Opacity="0.30"/>
                                                                </TextBlock.Effect>
                                                            </TextBlock>
                                                        </Border>
                                                    </Grid>
                                                </StackPanel>
                                            </StackPanel>
                                        </Grid>
                                    </Border>

                                </StackPanel>
                            </StackPanel>
                        </Grid>

                        <!-- PANNEAU DESCRIPTION -->

                        <Grid x:Name="ScrollGrid" Grid.RowSpan="3" Grid.ColumnSpan="3" HorizontalAlignment="Right" VerticalAlignment="Center" Width="1100" Panel.ZIndex="50" FocusVisualStyle="{x:Null}" RenderTransformOrigin="1,0">
                            <Grid.RenderTransform>
                                <TransformGroup>
                                    <ScaleTransform/>
                                    <TranslateTransform x:Name="DescRightTranslate" X="0" Y="0"/>
                                </TransformGroup>
                            </Grid.RenderTransform>

                            <Border Background="{DynamicResource DynamicGlowBackgroundSuccess}" CornerRadius="16,0,0,16" Padding="28,24,28,24">
                                <Border.Style>
                                    <Style TargetType="Border">
                                        <Setter Property="BorderThickness" Value="0"/>
                                        <Setter Property="BorderBrush" Value="Transparent"/>
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding ElementName=Description, Path=IsKeyboardFocusWithin}" Value="True">
                                                <Setter Property="BorderThickness" Value="2,2,0,2"/>
                                                <Setter Property="BorderBrush" Value="White"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding ElementName=PART_HtmlDescription, Path=IsMouseOver}" Value="True">
                                                <Setter Property="BorderThickness" Value="2,2,0,2"/>
                                                <Setter Property="BorderBrush" Value="White"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Border.Style>
                                <Border.Effect>
                                    <DropShadowEffect BlurRadius="14" ShadowDepth="0" Opacity="0.45"/>
                                </Border.Effect>
                                <Border.CacheMode>
                                    <BitmapCache RenderAtScale="1"/>
                                </Border.CacheMode>

                                <ScrollViewerEx x:Name="Description"
                                                Focusable="True" IsTabStop="True"
                                                KeyboardNavigation.TabNavigation="None"
                                                PanningMode="VerticalOnly"
                                                ScrollViewer.CanContentScroll="False"
                                                VerticalAlignment="Top"
                                                MaxHeight="850"
                                                ScrollViewer.VerticalScrollBarVisibility="Auto">
                                    <Grid MaxWidth="960" HorizontalAlignment="Left">
                                        <HtmlTextView x:Name="PART_HtmlDescription"
                                                      TextOptions.TextFormattingMode="Display"
                                                      TextOptions.TextRenderingMode="Auto"
                                                      Focusable="False" IsTabStop="False"
                                                      HtmlFontSize="24" HtmlFontFamily="Segoe UI"
                                                      HtmlForeground="{DynamicResource TextColor}"
                                                      LinkForeground="{DynamicResource GlyphColor}"
                                                      FocusVisualStyle="{x:Null}"/>
                                    </Grid>
                                </ScrollViewerEx>
                            </Border>

                            <Grid.Style>
                                <Style TargetType="Grid">
                                    <Setter Property="Visibility" Value="Collapsed"/>
                                    <Setter Property="Opacity" Value="0"/>
                                    <Style.Triggers>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Binding ElementName=DescPanelToggle, Path=IsChecked}" Value="True"/>
                                            </MultiDataTrigger.Conditions>
                                            <Setter Property="Visibility" Value="Visible"/>
                                            <MultiDataTrigger.EnterActions>
                                                <BeginStoryboard>
                                                    <Storyboard>
                                                        <DoubleAnimation Storyboard.TargetProperty="Opacity" From="0" To="1" Duration="0:0:0.18"/>
                                                        <DoubleAnimation Storyboard.TargetProperty="(RenderTransform).(TransformGroup.Children)[1].(TranslateTransform.X)"
                                                                         From="1100" To="0" Duration="0:0:0.22"
                                                                         AccelerationRatio="0.05" DecelerationRatio="0.95"/>
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </MultiDataTrigger.EnterActions>
                                            <MultiDataTrigger.ExitActions>
                                                <BeginStoryboard>
                                                    <Storyboard>
                                                        <DoubleAnimation Storyboard.TargetProperty="Opacity" To="0" Duration="0:0:0.15"/>
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </MultiDataTrigger.ExitActions>
                                        </MultiDataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Grid.Style>
                        </Grid>


                        <!-- Features -->
                        <Grid x:Name="Features" Margin="0,0,-120,0" Grid.Row="1" HorizontalAlignment="Right" VerticalAlignment="Bottom" >
                            <Grid.Style>
                                <Style TargetType="Grid">
                                    <Setter Property="Visibility" Value="Collapsed" />
                                    <Style.Triggers>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}" Value="Visible"/>
                                                <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[FeaturesSteam]}" Value="True"/>
                                                <Condition Binding="{Binding ElementName=SuccessButton, Path=IsChecked}" Value="False"/>
                                            </MultiDataTrigger.Conditions>
                                            <MultiDataTrigger.Setters>
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                            </MultiDataTrigger.Setters>
                                        </MultiDataTrigger>

                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}" Value="Visible"/>
                                                <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[FeaturesSteam]}" Value="True"/>
                                                <Condition Binding="{Binding ElementName=SuccessButton, Path=IsChecked}" Value="True"/>
                                                <Condition	Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[PerformanceMode]}" Value="False"/>
                                            </MultiDataTrigger.Conditions>
                                            <MultiDataTrigger.Setters>
                                                <Setter Property="Visibility" Value="Visible"/>
                                                <Setter Property="Margin" Value="0,0,-300,0"/>
                                            </MultiDataTrigger.Setters>
                                            <MultiDataTrigger.EnterActions>
                                                <BeginStoryboard>
                                                    <Storyboard FillBehavior="Stop">
                                                        <DoubleAnimation Storyboard.TargetProperty="Opacity" BeginTime="0:0:0" Duration="0:0:3" To="1"/>
                                                        <ThicknessAnimation Storyboard.TargetProperty="Margin" BeginTime="0:0:0" Duration="0:0:2" From="0,0,-300,0"
                                                                            To="0,0,-120,0" AccelerationRatio="0.5" DecelerationRatio="0.5" />
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </MultiDataTrigger.EnterActions>
                                        </MultiDataTrigger>

                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}" Value="Visible"/>
                                                <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[FeaturesSteam]}" Value="True"/>
                                                <Condition Binding="{Binding ElementName=SuccessButton, Path=IsChecked}" Value="True"/>
                                                <Condition	Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[PerformanceMode]}" Value="True"/>
                                            </MultiDataTrigger.Conditions>
                                            <MultiDataTrigger.Setters>
                                                <Setter Property="Visibility" Value="Visible"/>
                                            </MultiDataTrigger.Setters>
                                        </MultiDataTrigger>

                                    </Style.Triggers>
                                </Style>
                            </Grid.Style>

                            <Border Background="{DynamicResource OverlayMenu}" BorderThickness="0" BorderBrush="White" FocusVisualStyle="{x:Null}" CornerRadius="{DynamicResource Corner}"
                                    Opacity="0.99" Margin="10" Width="90" Height="Auto"/>


                            <StackPanel Orientation="Vertical" Margin="0,10,40,10" Grid.Row="1" HorizontalAlignment="Right" VerticalAlignment="Center" >
                                <ItemsControlEx ItemsSource="{Binding Game.Features}" VerticalAlignment="Center" HorizontalAlignment="Center"
                                                Margin="0,0,0,0" IsTabStop="False" IsEnabled="False">
                                    <ItemsControlEx.ItemsPanel>
                                        <ItemsPanelTemplate>
                                            <StackPanel Orientation="Vertical" Height="Auto"/>
                                        </ItemsPanelTemplate>
                                    </ItemsControlEx.ItemsPanel>
                                    <ItemsControlEx.ItemTemplate>
                                        <DataTemplate>
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="auto" />
                                                </Grid.ColumnDefinitions>
                                                <Image Grid.Column="0" x:Name="FeatureIconImage"
                                                       RenderOptions.BitmapScalingMode="Fant" Margin="0,5,0,5"
                                                       SnapsToDevicePixels="True"
                                                       Height="30" VerticalAlignment="Bottom"
                                                       Source="{ThemeFileBinding Name, PathFormat='Icons/Features/{0}.png'}" >
                                                    <Image.Effect>
                                                        <DropShadowEffect ShadowDepth="2" Color="Black" BlurRadius="5" RenderingBias="Performance" Opacity="0.8"/>
                                                    </Image.Effect>
                                                </Image>

                                            </Grid>
                                            <DataTemplate.Triggers>
                                                <DataTrigger Binding="{Binding ElementName=FeatureIconImage, Path=Source}" Value="{x:Null}">
                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                </DataTrigger>
                                            </DataTemplate.Triggers>
                                        </DataTemplate>
                                    </ItemsControlEx.ItemTemplate>
                                </ItemsControlEx>

                            </StackPanel>
                            <Grid.Effect>
                                <DropShadowEffect ShadowDepth="2" Color="Black" Direction="210" RenderingBias="Performance" BlurRadius="3" Opacity="0.8"/>
                            </Grid.Effect>
                        </Grid>

                        <!-- GameTrailer -->

                        <StackPanel>
                            <StackPanel.Style>
                                <Style TargetType="StackPanel">
                                    <Setter Property="Opacity" Value="0"/>
                                    <Setter Property="VerticalAlignment" Value="Top"/>
                                    <Setter Property="HorizontalAlignment" Value="Right"/>
                                    <Setter Property="Margin" Value="0,30,10,0"/>
                                    <Setter Property="Grid.Row" Value="0"/>
                                    <Setter Property="Grid.RowSpan" Value="3"/>
                                    <Setter Property="Grid.ColumnSpan" Value="3"/>
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding ElementName=Id, Path=Opacity}" Value="1">
                                            <DataTrigger.EnterActions>
                                                <BeginStoryboard>
                                                    <Storyboard>
                                                        <DoubleAnimation Storyboard.TargetProperty="Opacity" BeginTime="0:0:1" Duration="0:0:1" From="0" To="1" AccelerationRatio="0.5"/>
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </DataTrigger.EnterActions>
                                            <DataTrigger.ExitActions>
                                                <BeginStoryboard>
                                                    <Storyboard>
                                                        <DoubleAnimation Storyboard.TargetProperty="Opacity" Duration="0:0:0" From="1" To="0"/>
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </DataTrigger.ExitActions>
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding ElementName=TrailerZoom, Path=IsChecked}" Value="True">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </StackPanel.Style>
                        </StackPanel>


                        <!-- HowLongToBeat -->

                        <StackPanel x:Name="HltbStack" Orientation="Horizontal" >
                            <StackPanel.Style>
                                <Style TargetType="StackPanel">
                                    <Setter Property="Opacity" Value="0"/>
                                    <Setter Property="Visibility" Value="Visible"/>
                                    <Setter Property="VerticalAlignment" Value="Bottom"/>
                                    <Setter Property="HorizontalAlignment" Value="Left"/>
                                    <Setter Property="Grid.Row" Value="3"/>
                                    <Setter Property="Height" Value="60"/>
                                    <Setter Property="Margin" Value="50,0,0,15"/>
                                    <Style.Triggers>
                                        <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[NoHLTBDetails]}" Value="True">
                                            <Setter Property="Visibility" Value="Collapsed" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding ElementName=SuccessButton, Path=IsChecked}" Value="False">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding ElementName=DlcButton, Path=IsChecked}" Value="False">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding ElementName=ScreenshotsButton, Path=IsChecked}" Value="False">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding ElementName=Id, Path=Opacity}" Value="1">
                                            <DataTrigger.EnterActions>
                                                <BeginStoryboard>
                                                    <Storyboard>
                                                        <DoubleAnimation Storyboard.TargetProperty="Opacity" BeginTime="0:0:0" Duration="0:0:1" To="1"/>
                                                        <ThicknessAnimation Storyboard.TargetProperty="Margin" BeginTime="0:0:0" From="50,0,0,-120" Duration="0:0:1.5" AccelerationRatio="0.3" DecelerationRatio="0.7" />

                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </DataTrigger.EnterActions>
                                            <DataTrigger.ExitActions>
                                                <BeginStoryboard>
                                                    <Storyboard>
                                                        <DoubleAnimation Storyboard.TargetProperty="Opacity" Duration="0:0:0" From="1" To="0"/>
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </DataTrigger.ExitActions>
                                        </DataTrigger>
                                        <DataTrigger Binding="{PluginSettings Plugin=HowLongToBeat, Path=HasData}" Value="{x:Null}">
                                            <Setter Property="Visibility" Value="Collapsed" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </StackPanel.Style>
                            <Image x:Name="HltbIcon" RenderOptions.BitmapScalingMode="Fant"
                                   Source="{ThemeFile 'Images/HLTB.png'}" Height="30" Margin="0,10,0,0" Stretch="Uniform" >
                                <Image.Style>
                                    <Style TargetType="Image">
                                        <Setter Property="Visibility" Value="Visible"/>
                                        <Style.Triggers>
                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{PluginSettings Plugin=HowLongToBeat, Path=MainStoryFormat}" Value="--"/>
                                                    <Condition Binding="{PluginSettings Plugin=HowLongToBeat, Path=MainExtraFormat}" Value="--"/>
                                                    <Condition Binding="{PluginSettings Plugin=HowLongToBeat, Path=CompletionistFormat}" Value="--"/>
                                                </MultiDataTrigger.Conditions>
                                                <Setter Property="Visibility" Value="Collapsed" />
                                            </MultiDataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Image.Style>
                                <Image.Effect>
                                    <DropShadowEffect ShadowDepth="1" Color="Black"
                                                      RenderingBias="Performance" BlurRadius="1" Opacity="0.8"/>
                                </Image.Effect>
                            </Image>
                            <StackPanel Orientation="Horizontal" VerticalAlignment="Center" >
                                <StackPanel.Style>
                                    <Style TargetType="StackPanel">
                                        <Setter Property="Margin" Value="20,10,10,5"/>
                                        <Style.Triggers>
                                            <DataTrigger Binding="{PluginSettings Plugin=HowLongToBeat, Path=MainStoryFormat}" Value="--">
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </StackPanel.Style>
                                <TextBlock Text="{DynamicResource LOCHowLongToBeatMainStory}" FontSize="26"
                                           TextAlignment="Center" Style="{StaticResource HltbStyle}" Margin="0,2,0,0" />
                                <TextBlock Text=":" Style="{StaticResource HltbStyle}" TextAlignment="Center" FontSize="24" Margin="5,5,5,0" />
                                <TextBlock Text="{PluginSettings Plugin=HowLongToBeat, Path=MainStoryFormat}" Style="{StaticResource HltbAltStyle}"
                                           TextAlignment="Center" FontSize="24" Margin="0,5,0,0" />
                            </StackPanel>
                            <StackPanel Orientation="Horizontal" VerticalAlignment="Center" >
                                <StackPanel.Style>
                                    <Style TargetType="StackPanel">
                                        <Setter Property="Margin" Value="20,10,10,5"/>
                                        <Style.Triggers>
                                            <DataTrigger Binding="{PluginSettings Plugin=HowLongToBeat, Path=MainExtraFormat}" Value="--">
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </StackPanel.Style>
                                <TextBlock Text="{DynamicResource LOCHowLongToBeatMainExtra}" FontSize="26"
                                           TextAlignment="Center" Style="{StaticResource HltbStyle}" Margin="0,2,0,0" />
                                <TextBlock Text=":" Style="{StaticResource HltbStyle}" TextAlignment="Center" FontSize="24" Margin="5,5,5,0" />
                                <TextBlock Text="{PluginSettings Plugin=HowLongToBeat, Path=MainExtraFormat}" Style="{StaticResource HltbAltStyle}"
                                           TextAlignment="Center" FontSize="24" Margin="0,5,0,0" />
                            </StackPanel>
                            <StackPanel Orientation="Horizontal" VerticalAlignment="Center" >
                                <StackPanel.Style>
                                    <Style TargetType="StackPanel">
                                        <Setter Property="Margin" Value="20,10,10,5"/>
                                        <Style.Triggers>
                                            <DataTrigger Binding="{PluginSettings Plugin=HowLongToBeat, Path=CompletionistFormat}" Value="--">
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </StackPanel.Style>
                                <TextBlock Text="{DynamicResource LOCHowLongToBeatCompletionist}" FontSize="26"
                                           TextAlignment="Center" Style="{StaticResource HltbStyle}" Margin="0,2,0,0" />
                                <TextBlock Text=":" Style="{StaticResource HltbStyle}" TextAlignment="Center" FontSize="24" Margin="5,5,5,0" />
                                <TextBlock Text="{PluginSettings Plugin=HowLongToBeat, Path=CompletionistFormat}" Style="{StaticResource HltbAltStyle}"
                                           TextAlignment="Center" FontSize="24" Margin="0,5,0,0" />
                            </StackPanel>
                            <StackPanel.Effect>
                                <DropShadowEffect ShadowDepth="1" Color="Black"
                                                  RenderingBias="Performance" BlurRadius="1" Opacity="0.8"/>
                            </StackPanel.Effect>
                        </StackPanel>

                        <!-- Genres -->

                        <Grid x:Name="Genres" Grid.Row="3" Grid.Column="0" Grid.ColumnSpan="3" VerticalAlignment="Center" >
                            <Grid.Style>
                                <Style TargetType="Grid">
                                    <Setter Property="Opacity" Value="0"/>
                                    <Setter Property="HorizontalAlignment" Value="Right"/>
                                    <Setter Property="Visibility" Value="Visible"/>
                                    <Style.Triggers>
                                        <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[NoGenreDetails]}" Value="True">
                                            <Setter Property="Visibility" Value="Collapsed" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding ElementName=SuccessButton, Path=IsChecked}" Value="False">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </DataTrigger>


                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Binding ElementName=Id, Path=Opacity}" Value="1"/>
                                            </MultiDataTrigger.Conditions>
                                            <MultiDataTrigger.EnterActions>
                                                <BeginStoryboard>
                                                    <Storyboard>
                                                        <DoubleAnimation Storyboard.TargetProperty="Opacity" BeginTime="0:0:0" Duration="0:0:1" To="1"/>
                                                        <ThicknessAnimation Storyboard.TargetProperty="Margin" BeginTime="0:0:0" From="0,0,0,-220" Duration="0:0:1.5" AccelerationRatio="0.3" DecelerationRatio="0.7" />
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </MultiDataTrigger.EnterActions>
                                            <MultiDataTrigger.ExitActions>
                                                <BeginStoryboard>
                                                    <Storyboard>
                                                        <DoubleAnimation Storyboard.TargetProperty="Opacity" Duration="0:0:0" To="0"/>
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </MultiDataTrigger.ExitActions>
                                        </MultiDataTrigger>

                                    </Style.Triggers>
                                </Style>
                            </Grid.Style>
                            <StackPanel x:Name="GameGenres"
                                        Orientation="Horizontal" HorizontalAlignment="Left" VerticalAlignment="Center"
                                        Margin="0,20,10,0" MaxWidth="750">

                                <TextBlock Text="{Binding Game.Genres[0]}"
                                           TextAlignment="Center"
                                           Style="{DynamicResource HltbStyle}"
                                           FontSize="26"
                                           Margin="0,0,0,0">
                                </TextBlock>
                                <TextBlock Text="h"
                                           FontFamily="Marlett" Foreground="{DynamicResource TextBrush}" FontSize="20"
                                           Margin="8,10,8,0">

                                    <TextBlock.Style>
                                        <Style TargetType="TextBlock">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding Game.Genres[1]}" Value="{x:Null}">
                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </TextBlock.Style>
                                </TextBlock>
                                <TextBlock Text="{Binding Game.Genres[1]}"
                                           TextAlignment="Center"
                                           Style="{DynamicResource HltbStyle}"
                                           FontSize="26"
                                           Margin="0,0,0,0">

                                </TextBlock>
                                <TextBlock Text="h"
                                           FontFamily="Marlett" Foreground="{DynamicResource TextBrush}" FontSize="20"
                                           Margin="8,10,8,0">

                                    <TextBlock.Style>
                                        <Style TargetType="TextBlock">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding Game.Genres[2]}" Value="{x:Null}">
                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </TextBlock.Style>
                                </TextBlock>
                                <TextBlock Text="{Binding Game.Genres[2]}"
                                           TextAlignment="Center"
                                           Style="{DynamicResource HltbStyle}"
                                           FontSize="26"
                                           Margin="0,0,0,0">
                                </TextBlock>
                                <TextBlock Text="h"
                                           FontFamily="Marlett" Foreground="{DynamicResource TextBrush}" FontSize="20"
                                           Margin="8,10,8,0">

                                    <TextBlock.Style>
                                        <Style TargetType="TextBlock">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding Game.Genres[3]}" Value="{x:Null}">
                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </TextBlock.Style>
                                </TextBlock>
                                <TextBlock Text="{Binding Game.Genres[3]}"
                                           TextAlignment="Center"
                                           Style="{DynamicResource HltbStyle}"
                                           FontSize="26"
                                           Margin="0,0,0,0">
                                </TextBlock>
                            </StackPanel>
                            <Grid.Effect>
                                <DropShadowEffect ShadowDepth="1" Color="Black"
                                                  RenderingBias="Performance" BlurRadius="1" Opacity="0.8"/>
                            </Grid.Effect>
                        </Grid>

                        <!--Trigger-->

                        <Grid Grid.Row="0" Height="10" Width="10" Focusable="False" >
                            <TextBlock x:Name="LogoTrigger" Text="{Binding Game.Id, NotifyOnTargetUpdated=True}" Foreground="Transparent">
                                <TextBlock.Triggers>
                                    <EventTrigger RoutedEvent="Binding.TargetUpdated">
                                        <BeginStoryboard>
                                            <Storyboard>
                                                <DoubleAnimation Storyboard.TargetProperty="Opacity" Duration="0:0:0" To="0" />
                                                <DoubleAnimation Storyboard.TargetProperty="Opacity" Duration="0:0:0" From="0" To="1" BeginTime="0:0:1" />
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </EventTrigger>
                                </TextBlock.Triggers>
                                <TextBlock.Style>
                                    <Style TargetType="TextBlock" BasedOn="{StaticResource TextBlockBaseStyle}">
                                        <Setter Property="Visibility" Value="Collapsed" />
                                        <Style.Triggers>

                                        </Style.Triggers>
                                    </Style>
                                </TextBlock.Style>
                            </TextBlock>
                            <TextBlock x:Name="Id" Text="{Binding Game.Id, NotifyOnTargetUpdated=True}" Foreground="Transparent">
                                <TextBlock.Triggers>
                                    <EventTrigger RoutedEvent="Binding.TargetUpdated">
                                        <BeginStoryboard>
                                            <Storyboard>
                                                <DoubleAnimation Storyboard.TargetProperty="Opacity" Duration="0:0:0" To="0" />
                                                <DoubleAnimation Storyboard.TargetProperty="Opacity" Duration="0:0:0.1" From="0" To="1" BeginTime="0:0:0" />
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </EventTrigger>
                                </TextBlock.Triggers>
                                <TextBlock.Style>
                                    <Style TargetType="TextBlock" BasedOn="{StaticResource TextBlockBaseStyle}">
                                        <Setter Property="Visibility" Value="Collapsed" />
                                        <Style.Triggers>

                                        </Style.Triggers>
                                    </Style>
                                </TextBlock.Style>
                            </TextBlock>
                            <TextBlock x:Name="TrailerTrigger" Text="{Binding Game.Id, NotifyOnTargetUpdated=True}" Foreground="Transparent">
                                <TextBlock.Style>
                                    <Style TargetType="TextBlock" BasedOn="{StaticResource TextBlockBaseStyle}">
                                        <Setter Property="Visibility" Value="Collapsed" />
                                        <Setter Property="Opacity" Value="0" />
                                        <Style.Triggers>
                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding ElementName=Id, Path=Opacity}" Value="1"/>
                                                    <Condition Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}" Value="Visible"/>
                                                    <Condition Binding="{PluginSettings Plugin=ExtraMetadataLoader, Path=NewContextVideoAvailable}" Value="True"/>
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[TrailerOnDetailsView]}" Value="True"/>
                                                </MultiDataTrigger.Conditions>
                                                <MultiDataTrigger.EnterActions>
                                                    <BeginStoryboard>
                                                        <Storyboard>
                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity" BeginTime="0:0:0" Duration="0:0:0" To="1"/>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </MultiDataTrigger.EnterActions>
                                                <MultiDataTrigger.ExitActions>
                                                    <BeginStoryboard>
                                                        <Storyboard>
                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity" Duration="0:0:0" To="0"/>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </MultiDataTrigger.ExitActions>
                                                <Setter Property="Visibility" Value="Visible"/>
                                            </MultiDataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </TextBlock.Style>
                            </TextBlock>
                        </Grid>

                        <!-- Trailer -->

                        <Border x:Name="TrailerBackgroundFix"
                                Grid.Row="0"
                                Grid.RowSpan="5"
                                Grid.Column="0"
                                Grid.ColumnSpan="4"
                                Background="Black"
                                Panel.ZIndex="-49"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Stretch"
                                IsHitTestVisible="False">
                            <!-- Style pour gérer l'opacité dynamiquement -->
                            <Border.Style>
                                <Style TargetType="Border">
                                    <Setter Property="Opacity" Value="0"/>
                                    <Setter Property="Visibility" Value="Collapsed"/>
                                    <Style.Triggers>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{PluginSettings Plugin=ExtraMetadataLoader, Path=NewContextVideoAvailable}" Value="True"/>
                                                <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[TrailerOnDetailsView]}" Value="True"/>
                                                <Condition Binding="{Binding ElementName=TrailerContainer, Path=Opacity}" Value="1"/>
                                                <Condition Binding="{Binding ElementName=PART_ViewHost, Path=ActualWidth}" Value="1728"/>
                                                <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[MiniTrailer]}" Value="True"/>
                                            </MultiDataTrigger.Conditions>
                                            <Setter Property="Visibility" Value="Visible"/>
                                            <MultiDataTrigger.EnterActions>
                                                <BeginStoryboard>
                                                    <Storyboard>
                                                        <DoubleAnimation Storyboard.TargetProperty="Opacity" Duration="0:0:0.3" To="1" />
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </MultiDataTrigger.EnterActions>
                                        </MultiDataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Border.Style>
                        </Border>

                        <Grid x:Name="TrailerContainer">
                            <Grid.Background>
                                <VisualBrush Visual="{Binding ElementName=TrailerVideo}" Stretch="Uniform"/>
                            </Grid.Background>
                            <Grid.Style>
                                <Style TargetType="Grid">
                                    <Setter Property="Margin" Value="0,0,70,0"/>
                                    <Setter Property="Grid.Row" Value="1"/>
                                    <Setter Property="Grid.Column" Value="0"/>
                                    <Setter Property="Grid.ColumnSpan" Value="3"/>
                                    <Setter Property="HorizontalAlignment" Value="Right"/>
                                    <Setter Property="VerticalAlignment" Value="Bottom"/>
                                    <Setter Property="Opacity" Value="0"/>
                                    <Setter Property="Visibility" Value="Collapsed"/>
                                    <Setter Property="MaxWidth" Value="700"/>
                                    <Setter Property="Panel.ZIndex" Value="-49"/>
                                    <Style.Triggers>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[Alternativ]}" Value="True"/>
                                                <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[MiniTrailer]}" Value="False"/>
                                            </MultiDataTrigger.Conditions>
                                            <MultiDataTrigger.Setters>
                                                <Setter Property="HorizontalAlignment" Value="Left"/>
                                                <Setter Property="Panel.ZIndex" Value="-46"/>
                                                <Setter Property="Margin" Value="100,0,0,0"/>
                                            </MultiDataTrigger.Setters>
                                        </MultiDataTrigger>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Binding ElementName=Id, Path=Opacity}" Value="1"/>
                                                <Condition Binding="{PluginSettings Plugin=ExtraMetadataLoader, Path=NewContextVideoAvailable}" Value="True"/>
                                                <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[TrailerOnDetailsView]}" Value="True"/>
                                            </MultiDataTrigger.Conditions>
                                            <MultiDataTrigger.EnterActions>
                                                <BeginStoryboard>
                                                    <Storyboard>
                                                        <DoubleAnimation Storyboard.TargetProperty="Opacity" BeginTime="0:0:1.5" Duration="0:0:1" To="1" />
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </MultiDataTrigger.EnterActions>
                                            <MultiDataTrigger.ExitActions>
                                                <BeginStoryboard>
                                                    <Storyboard>
                                                        <DoubleAnimation Storyboard.TargetProperty="Opacity" Duration="0:0:0" To="0" />
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </MultiDataTrigger.ExitActions>
                                            <Setter Property="Visibility" Value="Visible"/>
                                        </MultiDataTrigger>
                                        <DataTrigger Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}" Value="Collapsed">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding ElementName=SuccessButton, Path=IsChecked}" Value="True">
                                            <Setter Property="Visibility" Value="Visible"/>
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding ElementName=SuccessButton, Path=IsChecked}" Value="False">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                        </DataTrigger>


                                    </Style.Triggers>
                                </Style>
                            </Grid.Style>
                            <Border x:Name="TrailerBorder" CornerRadius="5" BorderBrush="{DynamicResource OverlayMenu}" Margin="-3,-3,-3,-3" BorderThickness="5"/>


                            <ContentControl x:Name="Sounds_MusicControl" />
                            <ContentControl x:Name="ExtraMetadataLoader_VideoLoaderControl_NoControls_Sound" >
                                <ContentControl.Style>
                                    <Style TargetType="ContentControl">
                                        <Setter Property="Opacity" Value="0" />
                                        <Setter Property="Visibility" Value="Collapsed" />
                                        <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                                        <Setter Property="VerticalContentAlignment" Value="Stretch" />
                                        <Setter Property="HorizontalAlignment" Value="Center" />
                                        <Setter Property="VerticalAlignment" Value="Center" />
                                        <Style.Triggers>
                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding ElementName=Id, Path=Opacity}" Value="1"/>
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[TrailerOnDetailsView]}" Value="True"/>
                                                    <Condition Binding="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type Window}}, Path=IsActive}" Value="True"/>
                                                    <Condition Binding="{PluginSettings Plugin=ExtraMetadataLoader, Path=NewContextVideoAvailable}" Value="True"/>
                                                </MultiDataTrigger.Conditions>
                                                <Setter Property="ItemsControl.Visibility" Value="Visible" />
                                            </MultiDataTrigger>

                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding ElementName=Id, Path=Opacity}" Value="1"/>
                                                    <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[TrailerOnDetailsView]}" Value="True"/>
                                                    <Condition Binding="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type Window}}, Path=IsActive}" Value="True"/>
                                                    <Condition Binding="{PluginSettings Plugin=ExtraMetadataLoader, Path=NewContextVideoAvailable}" Value="True"/>
                                                    <Condition Binding="{PluginSettings Plugin=ExtraMetadataLoader, Path=IsVideoPlaying}" Value="True"/>
                                                    <Condition Binding="{Binding ElementName=TrailerTrigger, Path=Opacity}" Value="1"/>
                                                </MultiDataTrigger.Conditions>
                                                <MultiDataTrigger.EnterActions>
                                                    <BeginStoryboard>
                                                        <Storyboard>
                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity" BeginTime="0:0:0" Duration="0:0:1" To="1"/>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </MultiDataTrigger.EnterActions>

                                            </MultiDataTrigger>
                                            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[TrailerOnDetailsView]}" Value="True">
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type Window}}, Path=IsActive}" Value="False">
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding ElementName=TrailerTrigger, Path=Opacity}" Value="1">
                                                <Setter Property="Visibility" Value="Visible"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}" Value="Collapsed">
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                            </DataTrigger>
                                            <MultiDataTrigger>
                                                <MultiDataTrigger.Conditions>
                                                    <Condition Binding="{Binding ElementName=TrailerZoom, Path=IsChecked}" Value="False"/>
                                                </MultiDataTrigger.Conditions>
                                                <Setter Property="Effect" >
                                                    <Setter.Value>
                                                        <DropShadowEffect ShadowDepth="2" Color="#000000"
                                                                          RenderingBias="Performance" BlurRadius="20" Opacity="0.8"/>
                                                    </Setter.Value>
                                                </Setter>
                                            </MultiDataTrigger>

                                        </Style.Triggers>
                                    </Style>
                                </ContentControl.Style>
                            </ContentControl>
                            <StackPanel x:Name="MediaButtons" FocusVisualStyle="{x:Null}" VerticalAlignment="Top" HorizontalAlignment="Right" Orientation="Vertical" Margin="0,0,0,0">
                                <StackPanel.Style>
                                    <Style TargetType="StackPanel">
                                        <Setter Property="Visibility" Value="Collapsed"/>
                                        <Setter Property="Opacity" Value="0"/>
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding ElementName=TrailerContainer, Path=Opacity}" Value="1">
                                                <DataTrigger.EnterActions>
                                                    <BeginStoryboard>
                                                        <Storyboard>
                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity" BeginTime="0:0:0" Duration="0:0:0" To="1"/>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </DataTrigger.EnterActions>
                                                <DataTrigger.ExitActions>
                                                    <BeginStoryboard>
                                                        <Storyboard>
                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity" Duration="0:0:0" To="0"/>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </DataTrigger.ExitActions>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding ElementName=TrailerContainer, Path=Opacity}" Value="1">
                                                <Setter Property="Visibility" Value="Visible"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </StackPanel.Style>
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto" />
                                        <RowDefinition Height="Auto" />
                                        <RowDefinition Height="Auto" />
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <CheckBoxEx x:Name="TrailerZoom" IsChecked="{StaticResource MiniTrailer}" Visibility="Visible" Width="50" Margin="15,15,15,0" Panel.ZIndex="-47" Style="{DynamicResource TrailerZoomToggle}" Grid.Row="0" />
                                    <CheckBoxEx x:Name="TrailerMuteZoom" Style="{DynamicResource TrailerMuteZoomToggle}" Visibility="Collapsed" Width="50" Margin="15,15,15,15" Panel.ZIndex="-47" Grid.Row="1" Command="{Binding ElementName=ExtraMetadataLoader_VideoLoaderControl_NoControls_Sound, Path=Content.VideoMuteCommand}" />
                                </Grid>
                            </StackPanel>
                            <TextBlock x:Name="DummyMiniTrailer" Text="{Binding Source={StaticResource MiniTrailer}}" Visibility="Collapsed" Foreground="White" FontSize="2" />
                            <TextBlock x:Name="DummyNoBarMode" Text="{Binding Source={StaticResource NoBarMode}}" Visibility="Collapsed" Foreground="White" FontSize="2" />
                        </Grid>

                        <!-- ThemeOptions Command -->

                        <ContentControl x:Name="ThemeOptions_Command" />

                        <!--  Notification Game Closing -->
                        <Border x:Name="GameClosingPanel"
                                Background="{DynamicResource OverlayMenu}"
                                CornerRadius="{DynamicResource Corner}"
                                Height="70"
                                VerticalAlignment="Top"
                                HorizontalAlignment="Right"
                                Panel.ZIndex="1"
                                RenderTransformOrigin="1,0.5">
                            <Border.Effect>
                                <DropShadowEffect BlurRadius="8" ShadowDepth="2" Color="Black" Opacity="0.5"/>
                            </Border.Effect>
                            <Border.RenderTransform>
                                <TranslateTransform x:Name="SlideTransform" X="500"/>
                            </Border.RenderTransform>

                            <Border.Style>
                                <Style TargetType="Border">
                                    <Setter Property="Visibility" Value="Collapsed"/>
                                    <Setter Property="Margin" Value="0,30,20,0"/>
                                    <Setter Property="Grid.Row" Value="1"/>
                                    <Setter Property="Grid.ColumnSpan" Value="3"/>
                                    <Style.Triggers>

                                        <DataTrigger Binding="{Binding ElementName=ChangeViewButton, Path=IsChecked}" Value="False">
                                            <Setter Property="Margin" Value="0,20,20,0"/>
                                        </DataTrigger>

                                        <DataTrigger Binding="{PluginSettings Plugin=NowPlaying, Path=GameClosing}" Value="True">
                                            <Setter Property="Visibility" Value="Visible"/>
                                            <DataTrigger.EnterActions>
                                                <BeginStoryboard>
                                                    <Storyboard>
                                                        <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)"
                                                                         From="500" To="0" Duration="0:0:0.3"
                                                                         AccelerationRatio="0.3" DecelerationRatio="0.7"/>
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </DataTrigger.EnterActions>
                                        </DataTrigger>

                                    </Style.Triggers>
                                </Style>
                            </Border.Style>

                            <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                <TextBlock Margin="15,0,0,0" FontSize="20" Style="{DynamicResource TextBlockBaseStyle}" Text="Closing " />
                                <TextBlock FontSize="20"
                                           Style="{DynamicResource TextBlockBaseStyle}"
                                           MaxWidth="250"
                                           TextTrimming="None"
                                           TextWrapping="NoWrap"
                                           ClipToBounds="True"
                                           Text="{PluginSettings Plugin=NowPlaying, Path=RunningGame.GameName}" />
                                <TextBlock FontSize="20" Margin="5,0,0,0" Width="30" TextAlignment="Left" Style="{DynamicResource TextBlockBaseStyle}">
                                    <TextBlock.Triggers>
                                        <EventTrigger RoutedEvent="Loaded">
                                            <BeginStoryboard>
                                                <Storyboard RepeatBehavior="Forever">
                                                    <StringAnimationUsingKeyFrames Storyboard.TargetProperty="Text" Duration="0:0:1.2" RepeatBehavior="Forever">
                                                        <DiscreteStringKeyFrame KeyTime="0:0:0.0" Value="." />
                                                        <DiscreteStringKeyFrame KeyTime="0:0:0.4" Value=".." />
                                                        <DiscreteStringKeyFrame KeyTime="0:0:0.8" Value="..." />
                                                    </StringAnimationUsingKeyFrames>
                                                </Storyboard>
                                            </BeginStoryboard>
                                        </EventTrigger>
                                    </TextBlock.Triggers>
                                </TextBlock>
                            </StackPanel>
                        </Border>

                        <!-- Sound -->

                        <MediaElement x:Name="CloseGameSound" Source="{ThemeFile 'audio/Noti.wav'}" MediaElementBehaviors.Repeat="False" >
                            <MediaElement.Style>
                                <Style TargetType="MediaElement">
                                    <Setter Property="LoadedBehavior" Value="Manual"/>
                                    <Setter Property="UnloadedBehavior" Value="Close"/>
                                    <Style.Triggers>

                                        <DataTrigger Binding="{Binding ElementName=GameClosingPanel, Path=Visibility}" Value="Visible">
                                            <Setter Property="LoadedBehavior" Value="Play"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </MediaElement.Style>
                        </MediaElement>

                        <MediaElement x:Name="EnterGameDetailsChime" Source="{ThemeFile 'audio/EnterGameDetails.wav'}" MediaElementBehaviors.Repeat="False" >
                            <MediaElement.Style>
                                <Style TargetType="MediaElement">
                                    <Setter Property="LoadedBehavior" Value="Manual"/>
                                    <Setter Property="UnloadedBehavior" Value="Close"/>
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}" Value="Visible">
                                            <Setter Property="LoadedBehavior" Value="Play"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </MediaElement.Style>
                        </MediaElement>

                        <MediaElement x:Name="ExitGameDetailsChime" Source="{ThemeFile 'audio/ExitGameDetails.wav'}" MediaElementBehaviors.Repeat="False" >
                            <MediaElement.Style>
                                <Style TargetType="MediaElement">
                                    <Setter Property="LoadedBehavior" Value="Manual"/>
                                    <Setter Property="UnloadedBehavior" Value="Close"/>
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}" Value="Collapsed">
                                            <Setter Property="LoadedBehavior" Value="Play"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </MediaElement.Style>
                        </MediaElement>

                        <TextBlock x:Name="MusicTrigger" Text="{Binding Game.Id, NotifyOnTargetUpdated=True}" Foreground="Transparent">
                            <TextBlock.Triggers>
                                <EventTrigger RoutedEvent="Binding.TargetUpdated">
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetProperty="Opacity" Duration="0:0:0" To="0" />
                                            <DoubleAnimation Storyboard.TargetProperty="Opacity" Duration="0:0:0.1" From="0" To="1" BeginTime="0:0:0.9" />
                                        </Storyboard>
                                    </BeginStoryboard>
                                </EventTrigger>
                            </TextBlock.Triggers>
                            <TextBlock.Style>
                                <Style TargetType="TextBlock" BasedOn="{StaticResource TextBlockBaseStyle}">
                                    <Setter Property="Visibility" Value="Collapsed" />
                                    <Style.Triggers>

                                    </Style.Triggers>
                                </Style>
                            </TextBlock.Style>
                        </TextBlock>

                        <TextBlock x:Name="MusicPath" Tag="{DynamicResource ExtraMetadataPath}" Visibility="Collapsed">
                            <TextBlock.Style>
                                <Style TargetType="TextBlock">
                                    <Setter Property="Text">
                                        <Setter.Value>
                                            <MultiBinding StringFormat="{}{0}{1}{2}{3}">
                                                <Binding RelativeSource="{RelativeSource Self}" Path="Tag" />
                                                <Binding Source="\ExtraMetadata\games\"/>
                                                <Binding Path="Game.Id"/>
                                                <Binding Source="\Music.mp3" />
                                            </MultiBinding>
                                        </Setter.Value>
                                    </Setter>
                                </Style>
                            </TextBlock.Style>
                        </TextBlock>

                        <MediaElement x:Name="MusicSource" MediaElementBehaviors.Repeat="True" Tag="{DynamicResource UseAbsoluteExtraMetadataPath}">
                            <MediaElement.Style>
                                <Style TargetType="MediaElement">
                                    <Setter Property="Volume" Value="0"/>
                                    <Setter Property="MediaElement.Source" Value="{Binding ElementName=MusicPath, Path=Text}"/>
                                    <Style.Triggers>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{SettingsBinding Fullscreen.IsMusicMuted}" Value="False"/>
                                                <Condition Binding="{Binding ElementName=MusicTrigger, Path=Opacity}" Value="1"/>
                                                <Condition Binding="{PluginSettings Plugin=ExtraMetadataLoader, Path=NewContextVideoAvailable}" Value="True"/>
                                                <Condition Binding="{PluginSettings Plugin=ExtraMetadataLoader, Path=IsVideoPlaying}" Value="False"/>
                                            </MultiDataTrigger.Conditions>
                                            <MultiDataTrigger.EnterActions>
                                                <BeginStoryboard>
                                                    <Storyboard>
                                                        <DoubleAnimation Storyboard.TargetProperty="Volume" BeginTime="0:0:0.5" Duration="0:0:2" To="1"/>
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </MultiDataTrigger.EnterActions>
                                            <MultiDataTrigger.ExitActions>
                                                <BeginStoryboard>
                                                    <Storyboard>
                                                        <DoubleAnimation Storyboard.TargetProperty="Volume" Duration="0:0:1.5" To="0" FillBehavior="Stop"/>
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </MultiDataTrigger.ExitActions>
                                        </MultiDataTrigger>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Binding ElementName=Id, Path=Opacity}" Value="1"/>
                                                <Condition Binding="{SettingsBinding Fullscreen.IsMusicMuted}" Value="False"/>
                                                <Condition Binding="{Binding ElementName=MusicTrigger, Path=Opacity}" Value="1"/>
                                                <Condition Binding="{PluginSettings Plugin=ExtraMetadataLoader, Path=NewContextVideoAvailable}" Value="False"/>
                                                <Condition Binding="{PluginSettings Plugin=ExtraMetadataLoader, Path=IsVideoPlaying}" Value="False"/>
                                            </MultiDataTrigger.Conditions>
                                            <MultiDataTrigger.EnterActions>
                                                <BeginStoryboard>
                                                    <Storyboard>
                                                        <DoubleAnimation Storyboard.TargetProperty="Volume" BeginTime="0:0:0.5" Duration="0:0:2" To="1"/>
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </MultiDataTrigger.EnterActions>
                                            <MultiDataTrigger.ExitActions>
                                                <BeginStoryboard>
                                                    <Storyboard>
                                                        <DoubleAnimation Storyboard.TargetProperty="Volume" Duration="0:0:1.5" To="0" FillBehavior="Stop"/>
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </MultiDataTrigger.ExitActions>
                                        </MultiDataTrigger>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{PluginSettings Plugin=ExtraMetadataLoader, Path=NewContextVideoAvailable}" Value="True"/>
                                                <Condition Binding="{PluginSettings Plugin=ExtraMetadataLoader, Path=IsVideoPlaying}" Value="True"/>
                                            </MultiDataTrigger.Conditions>
                                            <Setter Property="Volume" Value="0" />
                                        </MultiDataTrigger>
                                        <DataTrigger Binding="{Binding ElementName=MusicTrigger, Path=Opacity}" Value="0">
                                            <Setter Property="MediaElement.Source" Value="" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{SettingsBinding Fullscreen.IsMusicMuted}" Value="True">
                                            <Setter Property="MediaElement.Source" Value="" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </MediaElement.Style>
                        </MediaElement>

                    </Grid>

                    <!-- Visibilité des elements quand trailer joue-->

                    <ControlTemplate.Triggers>

                        <MultiDataTrigger>
                            <MultiDataTrigger.Conditions>
                                <Condition Binding="{Binding ElementName=Vid, Path=Visibility}" Value="Visible"/>
                            </MultiDataTrigger.Conditions>
                            <MultiDataTrigger.Setters>
                                <Setter Property="Tag" Value="True" TargetName="Sounds_MusicControl" />
                            </MultiDataTrigger.Setters>
                        </MultiDataTrigger>

                        <MultiDataTrigger>
                            <MultiDataTrigger.Conditions>
                                <Condition Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}" Value="Visible"/>
                                <Condition Binding="{Binding ElementName=TrailerContainer, Path=Visibility}" Value="Visible"/>
                                <Condition Binding="{Binding ElementName=TrailerMute, Path=IsChecked}" Value="False"/>
                            </MultiDataTrigger.Conditions>
                            <MultiDataTrigger.Setters>
                                <Setter Property="Tag" Value="True" TargetName="Sounds_MusicControl" />
                            </MultiDataTrigger.Setters>
                        </MultiDataTrigger>


                        <MultiDataTrigger>
                            <MultiDataTrigger.Conditions>
                                <Condition Binding="{Binding ElementName=PART_ElemGameDetails, Path=Visibility}" Value="Visible"/>
                                <Condition Binding="{Binding ElementName=TrailerTrigger, Path=Visibility}" Value="Collapsed"/>
                            </MultiDataTrigger.Conditions>
                            <MultiDataTrigger.Setters>
                                <Setter Property="Tag" Value="False" TargetName="Sounds_MusicControl" />
                            </MultiDataTrigger.Setters>
                        </MultiDataTrigger>

                        <MultiDataTrigger>
                            <MultiDataTrigger.Conditions>
                                <Condition Binding="{Binding ElementName=TrailerZoom, Path=IsChecked}" Value="True"/>
                                <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[MiniTrailer]}" Value="False"/>
                            </MultiDataTrigger.Conditions>
                            <MultiDataTrigger.Setters>
                                <Setter Property="Margin" Value="0,0,0,0" TargetName="TrailerContainer"/>
                                <Setter Property="Height" Value="Auto" TargetName="TrailerContainer"/>
                                <Setter Property="MaxWidth" Value="2161" TargetName="TrailerContainer"/>
                                <Setter Property="Width" Value="Auto" TargetName="TrailerContainer"/>
                                <Setter Property="Grid.Row" Value="0" TargetName="TrailerContainer"/>
                                <Setter Property="Grid.RowSpan" Value="3" TargetName="TrailerContainer"/>
                                <Setter Property="Grid.Column" Value="0" TargetName="TrailerContainer"/>
                                <Setter Property="Grid.ColumnSpan" Value="3" TargetName="TrailerContainer"/>
                                <Setter Property="VerticalAlignment" Value="Stretch" TargetName="TrailerContainer"/>
                                <Setter Property="HorizontalAlignment" Value="Stretch" TargetName="TrailerContainer"/>
                                <Setter Property="Visibility" Value="Collapsed" TargetName="GameDetailsStack"/>
                                <Setter Property="Visibility" Value="Collapsed" TargetName="ScrollGrid"/>
                                <Setter Property="Visibility" Value="Collapsed" TargetName="Genres"/>
                                <Setter Property="Visibility" Value="Collapsed" TargetName="Overlay"/>
                                <Setter Property="Visibility" Value="Collapsed" TargetName="Avatar"/>
                                <Setter Property="Visibility" Value="Collapsed" TargetName="HltbStack"/>
                                <Setter Property="Visibility" Value="Collapsed" TargetName="Features"/>
                                <Setter Property="Visibility" Value="Visible" TargetName="TrailerMuteZoom"/>
                                <Setter Property="Visibility" Value="Collapsed" TargetName="Trophée"/>
                                <Setter Property="Visibility" Value="Collapsed" TargetName="SourceIconBorder"/>
                                <Setter Property="Visibility" Value="Collapsed" TargetName="MainBackgroundBlurGrid"/>
                                <Setter Property="VerticalAlignment" Value="Center" TargetName="ExtraMetadataLoader_VideoLoaderControl_NoControls_Sound"/>
                                <Setter Property="HorizontalAlignment" Value="Center" TargetName="ExtraMetadataLoader_VideoLoaderControl_NoControls_Sound"/>
                            </MultiDataTrigger.Setters>
                        </MultiDataTrigger>


                        <MultiDataTrigger>
                            <MultiDataTrigger.Conditions>
                                <Condition Binding="{Binding ElementName=TrailerZoom, Path=IsChecked}" Value="True"/>
                                <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[MiniTrailer]}" Value="True"/>
                                <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[NoBarMode]}" Value="False"/>
                            </MultiDataTrigger.Conditions>
                            <MultiDataTrigger.Setters>
                                <Setter Property="Margin" Value="300,10,0,0" TargetName="TrailerContainer"/>
                                <Setter Property="Height" Value="910" TargetName="TrailerContainer"/>
                                <Setter Property="MaxWidth" Value="1630" TargetName="TrailerContainer"/>
                                <Setter Property="Width" Value="Auto" TargetName="TrailerContainer"/>
                                <Setter Property="Grid.Row" Value="0" TargetName="TrailerContainer"/>
                                <Setter Property="Grid.RowSpan" Value="3" TargetName="TrailerContainer"/>
                                <Setter Property="Grid.Column" Value="0" TargetName="TrailerContainer"/>
                                <Setter Property="Grid.ColumnSpan" Value="3" TargetName="TrailerContainer"/>
                                <Setter Property="VerticalAlignment" Value="Stretch" TargetName="TrailerContainer"/>
                                <Setter Property="HorizontalAlignment" Value="Stretch" TargetName="TrailerContainer"/>
                                <Setter Property="Visibility" Value="Visible" TargetName="GameDetailsStack"/>
                                <Setter Property="Visibility" Value="Visible" TargetName="ScrollGrid"/>
                                <Setter Property="Visibility" Value="Visible" TargetName="Genres"/>
                                <Setter Property="Visibility" Value="Visible" TargetName="Overlay"/>
                                <Setter Property="Visibility" Value="Visible" TargetName="MainBackgroundBlurGrid"/>
                                <Setter Property="Visibility" Value="Collapsed" TargetName="TrailerZoom"/>
                                <Setter Property="VerticalAlignment" Value="Center" TargetName="ExtraMetadataLoader_VideoLoaderControl_NoControls_Sound"/>
                                <Setter Property="HorizontalAlignment" Value="Center" TargetName="ExtraMetadataLoader_VideoLoaderControl_NoControls_Sound"/>
                            </MultiDataTrigger.Setters>
                        </MultiDataTrigger>

                        <MultiDataTrigger>
                            <MultiDataTrigger.Conditions>
                                <Condition Binding="{Binding ElementName=TrailerZoom, Path=IsChecked}" Value="True"/>
                                <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[MiniTrailer]}" Value="True"/>
                                <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[NoBarMode]}" Value="True"/>
                            </MultiDataTrigger.Conditions>
                            <MultiDataTrigger.Setters>
                                <Setter Property="Margin" Value="0,0,0,0" TargetName="TrailerContainer"/>
                                <Setter Property="Height" Value="Auto" TargetName="TrailerContainer"/>
                                <Setter Property="MaxWidth" Value="2161" TargetName="TrailerContainer"/>
                                <Setter Property="Width" Value="Auto" TargetName="TrailerContainer"/>
                                <Setter Property="Grid.Row" Value="0" TargetName="TrailerContainer"/>
                                <Setter Property="Grid.RowSpan" Value="3" TargetName="TrailerContainer"/>
                                <Setter Property="Grid.Column" Value="0" TargetName="TrailerContainer"/>
                                <Setter Property="Grid.ColumnSpan" Value="3" TargetName="TrailerContainer"/>
                                <Setter Property="VerticalAlignment" Value="Stretch" TargetName="TrailerContainer"/>
                                <Setter Property="HorizontalAlignment" Value="Stretch" TargetName="TrailerContainer"/>
                                <Setter Property="Visibility" Value="Visible" TargetName="GameDetailsStack"/>
                                <Setter Property="Visibility" Value="Visible" TargetName="ScrollGrid"/>
                                <Setter Property="Visibility" Value="Visible" TargetName="Genres"/>
                                <Setter Property="Visibility" Value="Collapsed" TargetName="TrailerZoom"/>
                                <Setter Property="Visibility" Value="Visible" TargetName="Overlay"/>
                                <Setter Property="Visibility" Value="Visible" TargetName="MainBackgroundBlurGrid"/>
                                <Setter Property="VerticalAlignment" Value="Center" TargetName="ExtraMetadataLoader_VideoLoaderControl_NoControls_Sound"/>
                                <Setter Property="HorizontalAlignment" Value="Center" TargetName="ExtraMetadataLoader_VideoLoaderControl_NoControls_Sound"/>
                            </MultiDataTrigger.Setters>
                        </MultiDataTrigger>

                        <DataTrigger Binding="{Binding ElementName=TrailerTrigger, Path=Opacity}" Value="0">
                            <Setter Property="IsChecked" Value="False" TargetName="TrailerZoom"/>
                        </DataTrigger>

                    </ControlTemplate.Triggers>

                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style x:Key="GameAchievementsWindowStyle" TargetType="ContentControl">
        <Setter Property="Margin" Value="0,0,0,0"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ContentControl">
                    <Grid KeyboardNavigation.DirectionalNavigation="Cycle"
                          KeyboardNavigation.TabNavigation="Cycle"
                          KeyboardNavigation.ControlTabNavigation="Cycle"
                          FocusManager.FocusedElement="{Binding ElementName=SortButton}"
                          HorizontalAlignment="Stretch"
                          VerticalAlignment="Stretch"
                          Opacity="0"
                          Background="{DynamicResource DynamicGlowBackgroundSuccess}">

                        <Grid.Triggers>
                            <EventTrigger RoutedEvent="FrameworkElement.Loaded">
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetProperty="Opacity" From="0" To="1" Duration="0:0:0"/>
                                    </Storyboard>
                                </BeginStoryboard>
                            </EventTrigger>
                        </Grid.Triggers>

                        <FadeImage Source="{Binding SelectedGame.BackgroundImage}" Margin="0,-150,0,0"
                                   HorizontalContentAlignment="Center"
                                   HorizontalAlignment="Center"
                                   VerticalAlignment="Top"
                                   Height="1000"
                                   Stretch="UniformToFill"
                                   Opacity="0.7">
                            <FadeImage.OpacityMask>
                                <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                    <GradientStop Color="Black" Offset="0.0" />
                                    <GradientStop Color="Transparent" Offset="0.5" />
                                </LinearGradientBrush>
                            </FadeImage.OpacityMask>
                        </FadeImage>

                        <!-- Bandeau supérieur du panneau de trophées -->
                        <Border Background="Transparent" Margin="0,20,0,0"
                                BorderThickness="0,0,0,0"
                                BorderBrush="{DynamicResource OverlayMenu}"
                                Height="250"
                                VerticalAlignment="Top">

                            <Grid Margin="100,0,100,0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="200"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="200"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>



                                <!-- Colonne gauche : Cover -->
                                <Border Grid.Column="0" HorizontalAlignment="Right"
                                        Width="200"
                                        Height="200"
                                        Margin="0,20,0,0"
                                        BorderThickness="2"
                                        BorderBrush="{DynamicResource OverlayMenu}"
                                        Background="{DynamicResource OverlayMenu}">
                                    <Border.Effect>
                                        <DropShadowEffect ShadowDepth="0"
                                                          BlurRadius="10"
                                                          Opacity="0.4"
                                                          Color="Black" />
                                    </Border.Effect>
                                    <Image Source="{Binding SelectedGame.CoverImageObjectCached}"
                                           Stretch="UniformToFill"
                                           RenderOptions.BitmapScalingMode="Fant"
                                           ClipToBounds="True"
                                           SnapsToDevicePixels="True"
                                           Width="200"
                                           Height="200" />
                                </Border>

                                <!-- Colonne centre : Titre + barre progression -->
                                <StackPanel Grid.Column="1"
                                            VerticalAlignment="Center"
                                            Margin="0,0,0,0"
                                            HorizontalAlignment="Center">
                                    <TextBlock Text="{Binding SelectedGame.Name}"
                                               HorizontalAlignment="Center"
                                               FontSize="50"
                                               TextWrapping="Wrap"
                                               TextTrimming="WordEllipsis"
                                               MaxWidth="1500"
                                               Style="{DynamicResource TextBlockBaseStyle}" />

                                    <ProgressBar Value="{PluginSettings Plugin=SuccessStory, Path=Percent}"
                                                 Background="{DynamicResource TextBrush}"
                                                 Minimum="0"
                                                 Maximum="100"
                                                 Height="10"
                                                 Width="500"
                                                 Style="{DynamicResource ProgressBarCustom}"
                                                 Margin="0,20,0,0"
                                                 Foreground="#FFCD31" />

                                    <TextBlock Margin="0,10,0,0"
                                               HorizontalAlignment="Center"
                                               Style="{DynamicResource TextBlockBaseStyle}"
                                               FontSize="30"
                                               Text="{PluginSettings Plugin=SuccessStory, Path=Percent, StringFormat={}{0}%}" />
                                </StackPanel>



                            </Grid>
                        </Border>

                        <StackPanel Orientation="Horizontal"  VerticalAlignment="Top" HorizontalAlignment="Right" Margin="0,280,150,0">
                            <!-- Rangées de trophées -->
                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,0,0,10">
                                <!-- Platine -->
                                <Image Source="{ThemeFile 'Images/platinum.png'}" Width="40" Height="40" Margin="0,0,6,0"/>
                                <TextBlock FontWeight="Light" FontSize="26">
                                    <TextBlock.Style>
                                        <Style TargetType="TextBlock" BasedOn="{StaticResource TextBlockBaseStyle}">
                                            <Setter Property="Text" Value="0" />
                                            <Style.Triggers>
                                                <DataTrigger Binding="{PluginSettings Plugin=SuccessStory, Path=Percent}" Value="100">
                                                    <Setter Property="Text" Value="1"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </TextBlock.Style>
                                </TextBlock>
                            </StackPanel>

                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,0,0,10">
                                <!-- Or -->
                                <Image Source="{ThemeFile 'Images/Or.png'}" Width="40" Height="40" Margin="0,0,6,0"/>
                                <TextBlock Text="{PluginSettings Plugin=SuccessStory, Path=Rare.UnLocked, StringFormat={}{0}}" FontWeight="Light" FontSize="26" Style="{DynamicResource TextBlockBaseStyle}" />
                            </StackPanel>

                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,0,0,10">
                                <!-- Argent -->
                                <Image Source="{ThemeFile 'Images/Argent.png'}" Width="40" Height="40" Margin="0,0,6,0"/>
                                <TextBlock Text="{PluginSettings Plugin=SuccessStory, Path=NoCommon.UnLocked, StringFormat={}{0}}" FontWeight="Light" FontSize="26" Style="{DynamicResource TextBlockBaseStyle}" />
                            </StackPanel>

                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                                <!-- Bronze -->
                                <Image Source="{ThemeFile 'Images/Bronze.png'}" Width="40" Height="40" Margin="0,0,6,0"/>
                                <TextBlock Text="{PluginSettings Plugin=SuccessStory, Path=Common.UnLocked, StringFormat={}{0}}" FontWeight="Light" FontSize="26" Style="{DynamicResource TextBlockBaseStyle}" />
                            </StackPanel>
                        </StackPanel>


                        <Grid x:Name="AchievementList" VerticalAlignment="Bottom" HorizontalAlignment="Center" Width="1600" KeyboardNavigation.DirectionalNavigation="Cycle" pbeh:FocusBahaviors.FocusBinding="True" >
                            <Grid.Style>
                                <Style TargetType="Grid">
                                    <Setter Property="Margin" Value="0,0,0,50"/>
                                    <Setter Property="Height" Value="750"/>
                                    <Style.Triggers>
                                        <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=AspectRatio}" Value="dsp1610">
                                            <Setter Property="Height" Value="870"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Grid.Style>

                            <TextBlock Margin="0,0,0,0" VerticalAlignment="Top" HorizontalAlignment="Center" Foreground="{DynamicResource TextBrush}"
                                       FontFamily="Segoe UI SemiBold" FontSize="32" Typography.Capitals="AllSmallCaps">
                                <TextBlock.Style>
                                    <Style TargetType="TextBlock" BasedOn="{StaticResource TextBlockBaseStyle}">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding ElementName=SuccessChangeToggle, Path=IsChecked}" Value="True">
                                                <Setter Property="Text" Value="{DynamicResource LocLockedAchievements}"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding ElementName=SuccessChangeToggle, Path=IsChecked}" Value="False">
                                                <Setter Property="Text" Value="{DynamicResource LocUnlockedAchievements}"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </TextBlock.Style>
                            </TextBlock>

                            <Grid  HorizontalAlignment="Left" VerticalAlignment="Top" Margin="0,-20,0,0">
                                <CheckBoxEx x:Name="SortButton"
                                            Grid.Column="1" Margin="0,0,70,0"
                                            Style="{StaticResource SuccessSorting}"
                                            HorizontalAlignment="Right"
                                            VerticalAlignment="Center"
                                            IsChecked="True"/>
                                <CheckBoxEx x:Name="SuccessChangeToggle"
                                            Grid.Column="1"
                                            Style="{StaticResource SuccessChangeToggle}"
                                            HorizontalAlignment="Right"
                                            VerticalAlignment="Center"
                                            IsChecked="False" />
                            </Grid>

                            <Grid HorizontalAlignment="Stretch" Width="1250" VerticalAlignment="Top" Margin="0,-20,0,0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>


                            </Grid>


                            <Rectangle Fill="{DynamicResource TextBrush}" Height="2" HorizontalAlignment="Stretch" VerticalAlignment="Top" Margin="0,50,0,0" />


                            <ListView x:Name="AchievementListDesc" ScrollViewer.HorizontalScrollBarVisibility="Disabled" Width="Auto" ScrollViewer.CanContentScroll="True" Margin="10,60,0,10"
                                      VirtualizingPanel.IsVirtualizing="True" VirtualizingPanel.VirtualizationMode="Recycling"  BorderBrush="Transparent" BorderThickness="0" Background="Transparent"
                                      FocusVisualStyle="{x:Null}" Focusable="False" KeyboardNavigation.DirectionalNavigation="Local" ItemsSource="{PluginSettings Plugin=SuccessStory, Path=ListAchUnlockDateDesc}">
                                <ListView.Style>
                                    <Style TargetType="ListView">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding ElementName=SortButton, Path=IsChecked}" Value="True">
                                                <Setter Property="Visibility" Value="Visible"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding ElementName=SortButton, Path=IsChecked}" Value="False">
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </ListView.Style>

                                <ListView.ItemContainerStyle>
                                    <Style TargetType="ListViewItem">
                                        <Setter Property="Visibility" Value="Collapsed"/>
                                        <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
                                        <Setter Property="Focusable" Value="True"/>
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate TargetType="ListViewItem">
                                                    <Border BorderBrush="Transparent" CornerRadius="5">
                                                        <Grid Height="120" Width="1400" Margin="0,8,0,8" >
                                                            <Border x:Name="mask" CornerRadius="5" Background="{DynamicResource SuccessMenu}"/>
                                                            <Grid>
                                                                <Grid.OpacityMask>
                                                                    <VisualBrush Visual="{Binding ElementName=mask}"/>
                                                                </Grid.OpacityMask>
                                                                <Image x:Name="BronzeFond" Margin="0,0,0,0" VerticalAlignment="Bottom" HorizontalAlignment="Right"  Stretch="UniformToFill"
                                                                       Source="{ThemeFile 'Images/Bronze.png'}" Height="50" RenderOptions.BitmapScalingMode="Fant" />
                                                                <Image x:Name="ArgentFond" Visibility="Collapsed" Margin="0,0,0,0" VerticalAlignment="Bottom" HorizontalAlignment="Right"  Stretch="UniformToFill"
                                                                       Source="{ThemeFile 'Images/Argent.png'}" Height="110" RenderOptions.BitmapScalingMode="Fant" />
                                                                <Image x:Name="OrFond" Visibility="Collapsed"  Margin="0,0,0,0" VerticalAlignment="Bottom" HorizontalAlignment="Center"
                                                                       Source="{ThemeFile 'Images/Or.png'}" Height="110" RenderOptions.BitmapScalingMode="Fant" Stretch="UniformToFill" />
                                                                <Image x:Name="SaphirFond" Visibility="Collapsed" Margin="0,0,0,0" VerticalAlignment="Bottom" HorizontalAlignment="Right" Stretch="UniformToFill"
                                                                       Source="{ThemeFile 'Images/Saphir.png'}" Height="110" RenderOptions.BitmapScalingMode="Fant" />
                                                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" VerticalAlignment="Center">
                                                                    <StackPanel Margin="0,0,0,0" Orientation="Horizontal" >
                                                                        <Image Margin="0,0,0,0" Source="{Binding Icon}" Height="120" Width="120" VerticalAlignment="Center"/>
                                                                    </StackPanel>
                                                                </StackPanel>

                                                                <Grid VerticalAlignment="Bottom" HorizontalAlignment="Left" Width="1350" Height="120" Margin="30,5,0,0">
                                                                    <Grid VerticalAlignment="Top" Margin="100,0,0,0">
                                                                        <Grid.RowDefinitions>
                                                                            <RowDefinition Height="35"/>
                                                                            <RowDefinition Height="60"/>
                                                                            <RowDefinition Height="20"/>
                                                                        </Grid.RowDefinitions>

                                                                        <!-- Ligne 1 : Nom -->
                                                                        <TextBlock x:Name="Name"
                                                                                   Grid.Row="0"
                                                                                   VerticalAlignment="Top"
                                                                                   Text="{Binding Name}"
                                                                                   HorizontalAlignment="Left"
                                                                                   MaxWidth="1150"
                                                                                   TextWrapping="Wrap"
                                                                                   FontSize="23"
                                                                                   Style="{DynamicResource TextBlockBaseStyle}" />

                                                                        <!-- Ligne 2 : Description -->
                                                                        <TextBlock x:Name="Desc"
                                                                                   Grid.Row="1"
                                                                                   VerticalAlignment="Top"
                                                                                   Text="{Binding Description}"
                                                                                   Opacity="0.8"
                                                                                   MaxWidth="1200"
                                                                                   TextTrimming="WordEllipsis"
                                                                                   TextWrapping="Wrap"
                                                                                   HorizontalAlignment="Left"
                                                                                   FontSize="20"
                                                                                   Style="{DynamicResource TextBlockBaseStyle}" />

                                                                        <!-- Ligne 3 : % + joueurs -->
                                                                        <StackPanel Grid.Row="2"
                                                                                    Orientation="Horizontal"
                                                                                    Margin="0,0,0,3"
                                                                                    VerticalAlignment="Bottom">
                                                                            <TextBlock x:Name="Perc"
                                                                                       Text="{Binding Percent, Path=Percent, StringFormat={}{0:F0}%}"
                                                                                       Foreground="#b6bcbf"
                                                                                       FontSize="14"
                                                                                       FontFamily="Segoe UI"
                                                                                       Style="{DynamicResource TextBlockBaseStyle}" />
                                                                            <TextBlock x:Name="Player"
                                                                                       Margin="5,0,0,0"
                                                                                       Text="{DynamicResource LOCPlayershaveachievement}"
                                                                                       Foreground="#b6bcbf"
                                                                                       FontSize="14"
                                                                                       FontFamily="Segoe UI"
                                                                                       Style="{DynamicResource TextBlockBaseStyle}" />
                                                                        </StackPanel>
                                                                    </Grid>
                                                                    <StackPanel Margin="0,10,55,0" Orientation="Vertical" HorizontalAlignment="Right" Opacity="0.7" VerticalAlignment="Center">

                                                                        <TextBlock x:Name="Clock1" Visibility="Visible" Margin="0,0,3,0" VerticalAlignment="Top" HorizontalAlignment="Right" Text="{Binding DateUnlocked, StringFormat='{}{0:HH:mm}'}" FontSize="20" Style="{DynamicResource TextBlockBaseStyle}" />
                                                                        <TextBlock x:Name="Clock2" Visibility="Collapsed" Margin="0,0,3,0" VerticalAlignment="Top" HorizontalAlignment="Right" Text="{Binding DateUnlocked, StringFormat='{}{0:t}'}" FontSize="20" Style="{DynamicResource TextBlockBaseStyle}" />
                                                                        <TextBlock  VerticalAlignment="Top" HorizontalAlignment="Right" Margin="0,0,3,2" Text="{Binding DateUnlocked, StringFormat='{}{0:d MMM yyyy}'}" FontSize="20" Style="{DynamicResource TextBlockBaseStyle}"/>

                                                                    </StackPanel>

                                                                    <StackPanel HorizontalAlignment="Right" Orientation="Horizontal" Width="55" >
                                                                        <Image x:Name="Bronze" Margin="10,10,5,0" VerticalAlignment="Center" HorizontalAlignment="Left"
                                                                               Source="{ThemeFile 'Images/Bronze.png'}" Height="45" RenderOptions.BitmapScalingMode="Fant" Visibility="Visible"/>
                                                                        <Image x:Name="Argent"  Margin="10,10,5,0" VerticalAlignment="Center" HorizontalAlignment="Left"
                                                                               Source="{ThemeFile 'Images/Argent.png'}" Height="45" RenderOptions.BitmapScalingMode="Fant" Visibility="Collapsed" />
                                                                        <Image x:Name="Or"  Margin="10,10,5,0" VerticalAlignment="Center" HorizontalAlignment="Left"
                                                                               Source="{ThemeFile 'Images/Or.png'}" Height="45" RenderOptions.BitmapScalingMode="Fant" Visibility="Collapsed"/>
                                                                        <Image x:Name="Saphir" Margin="10,10,5,0" VerticalAlignment="Center" HorizontalAlignment="Left"
                                                                               Source="{ThemeFile 'Images/Saphir.png'}" Height="45" RenderOptions.BitmapScalingMode="Fant" Visibility="Collapsed"/>
                                                                    </StackPanel>
                                                                    <TextBlock x:Name="PercentLogic" Text="{Binding GamerScore}" Visibility="Collapsed"/>
                                                                </Grid>
                                                            </Grid>

                                                            <Border x:Name="BorderFocus" Opacity="1" BorderThickness="3" Margin="-4,0,-4,0" Visibility="Collapsed" CornerRadius="{DynamicResource Corner}" >
                                                                <Border.Style>
                                                                    <Style TargetType="Border">
                                                                        <Setter Property="BorderBrush" Value="#8C5A2B"/>
                                                                        <Style.Triggers>
                                                                            <DataTrigger Binding="{Binding ElementName=PercentLogic, Path=Text}" Value="180">
                                                                                <Setter Property="BorderBrush" Value="#D4AF37"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{Binding ElementName=PercentLogic, Path=Text}" Value="90">
                                                                                <Setter Property="BorderBrush" Value="#D4AF37"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{Binding ElementName=PercentLogic, Path=Text}" Value="50">
                                                                                <Setter Property="BorderBrush" Value="#D4AF37"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{Binding ElementName=PercentLogic, Path=Text}" Value="30">
                                                                                <Setter Property="BorderBrush" Value="#E5E4E2"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{Binding ElementName=PercentLogic, Path=Text}" Value="25">
                                                                                <Setter Property="BorderBrush" Value="#D4AF37"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{Binding ElementName=PercentLogic, Path=Text}" Value="10">
                                                                                <Setter Property="BorderBrush" Value="#E5E4E2"/>
                                                                            </DataTrigger>
                                                                        </Style.Triggers>
                                                                    </Style>
                                                                </Border.Style>
                                                            </Border>
                                                        </Grid>
                                                    </Border>

                                                    <ControlTemplate.Triggers>
                                                        <Trigger Property="IsFocused" Value="True">
                                                            <Setter Property="Visibility" Value="Visible" TargetName="BorderFocus" />
                                                            <Setter Property="Foreground" Value="White" TargetName="Name" />
                                                            <Setter Property="FontSize" Value="25" TargetName="Name" />
                                                            <Setter Property="Opacity" Value="0.8" TargetName="Desc" />
                                                            <Setter Property="FontSize" Value="22" TargetName="Desc" />
                                                            <Setter Property="Background" Value="{DynamicResource OverlayMenu}" TargetName="mask" />
                                                        </Trigger>
                                                        <MultiDataTrigger>
                                                            <MultiDataTrigger.Conditions>
                                                                <Condition Binding="{Binding ElementName=PercentLogic, Path=Text}" Value="180"/>
                                                            </MultiDataTrigger.Conditions>
                                                            <MultiDataTrigger.Setters>
                                                                <Setter TargetName="Saphir" Property="Visibility" Value="Collapsed"/>
                                                                <Setter TargetName="Or" Property="Visibility" Value="Visible"/>
                                                                <Setter TargetName="Argent" Property="Visibility" Value="Collapsed"/>
                                                                <Setter TargetName="Bronze" Property="Visibility" Value="Collapsed"/>
                                                            </MultiDataTrigger.Setters>
                                                        </MultiDataTrigger>

                                                        <MultiDataTrigger>
                                                            <MultiDataTrigger.Conditions>
                                                                <Condition Binding="{Binding ElementName=PercentLogic, Path=Text}" Value="90"/>
                                                            </MultiDataTrigger.Conditions>
                                                            <MultiDataTrigger.Setters>
                                                                <Setter TargetName="Saphir" Property="Visibility" Value="Collapsed"/>
                                                                <Setter TargetName="Or" Property="Visibility" Value="Visible"/>
                                                                <Setter TargetName="Argent" Property="Visibility" Value="Collapsed"/>
                                                                <Setter TargetName="Bronze" Property="Visibility" Value="Collapsed"/>
                                                            </MultiDataTrigger.Setters>
                                                        </MultiDataTrigger>

                                                        <MultiDataTrigger>
                                                            <MultiDataTrigger.Conditions>
                                                                <Condition Binding="{Binding ElementName=PercentLogic, Path=Text}" Value="30"/>
                                                            </MultiDataTrigger.Conditions>
                                                            <MultiDataTrigger.Setters>
                                                                <Setter TargetName="Saphir" Property="Visibility" Value="Collapsed"/>
                                                                <Setter TargetName="Or" Property="Visibility" Value="Collapsed"/>
                                                                <Setter TargetName="Argent" Property="Visibility" Value="Visible"/>
                                                                <Setter TargetName="Bronze" Property="Visibility" Value="Collapsed"/>
                                                            </MultiDataTrigger.Setters>
                                                        </MultiDataTrigger>

                                                        <!-- Retro-->

                                                        <MultiDataTrigger>
                                                            <MultiDataTrigger.Conditions>
                                                                <Condition Binding="{Binding ElementName=PercentLogic, Path=Text}" Value="50"/>
                                                            </MultiDataTrigger.Conditions>
                                                            <MultiDataTrigger.Setters>
                                                                <Setter TargetName="Saphir" Property="Visibility" Value="Collapsed"/>
                                                                <Setter TargetName="Or" Property="Visibility" Value="Visible"/>
                                                                <Setter TargetName="Argent" Property="Visibility" Value="Collapsed"/>
                                                                <Setter TargetName="Bronze" Property="Visibility" Value="Collapsed"/>
                                                            </MultiDataTrigger.Setters>
                                                        </MultiDataTrigger>

                                                        <MultiDataTrigger>
                                                            <MultiDataTrigger.Conditions>
                                                                <Condition Binding="{Binding ElementName=PercentLogic, Path=Text}" Value="25"/>
                                                            </MultiDataTrigger.Conditions>
                                                            <MultiDataTrigger.Setters>
                                                                <Setter TargetName="Saphir" Property="Visibility" Value="Collapsed"/>
                                                                <Setter TargetName="Or" Property="Visibility" Value="Visible"/>
                                                                <Setter TargetName="Argent" Property="Visibility" Value="Collapsed"/>
                                                                <Setter TargetName="Bronze" Property="Visibility" Value="Collapsed"/>
                                                            </MultiDataTrigger.Setters>
                                                        </MultiDataTrigger>

                                                        <MultiDataTrigger>
                                                            <MultiDataTrigger.Conditions>
                                                                <Condition Binding="{Binding ElementName=PercentLogic, Path=Text}" Value="10"/>
                                                            </MultiDataTrigger.Conditions>
                                                            <MultiDataTrigger.Setters>
                                                                <Setter TargetName="Saphir" Property="Visibility" Value="Collapsed"/>
                                                                <Setter TargetName="Or" Property="Visibility" Value="Collapsed"/>
                                                                <Setter TargetName="Argent" Property="Visibility" Value="Visible"/>
                                                                <Setter TargetName="Bronze" Property="Visibility" Value="Collapsed"/>
                                                            </MultiDataTrigger.Setters>
                                                        </MultiDataTrigger>

                                                        <MultiDataTrigger>
                                                            <MultiDataTrigger.Conditions>
                                                                <Condition Binding="{Binding ElementName=SuccessChangeToggle, Path=IsChecked}" Value="True"/>
                                                                <Condition Binding="{Binding IsUnlock}" Value="False"/>
                                                            </MultiDataTrigger.Conditions>
                                                            <MultiDataTrigger.Setters>
                                                                <Setter Property="Visibility" Value="Visible"/>
                                                            </MultiDataTrigger.Setters>
                                                        </MultiDataTrigger>
                                                        <MultiDataTrigger>
                                                            <MultiDataTrigger.Conditions>
                                                                <Condition Binding="{Binding ElementName=SuccessChangeToggle, Path=IsChecked}" Value="{x:Null}"/>
                                                            </MultiDataTrigger.Conditions>
                                                            <MultiDataTrigger.Setters>
                                                                <Setter Property="Visibility" Value="Visible"/>
                                                            </MultiDataTrigger.Setters>
                                                        </MultiDataTrigger>
                                                        <MultiDataTrigger>
                                                            <MultiDataTrigger.Conditions>
                                                                <Condition Binding="{Binding ElementName=SuccessChangeToggle, Path=IsChecked}" Value="False"/>
                                                                <Condition Binding="{Binding IsUnlock}" Value="True"/>
                                                            </MultiDataTrigger.Conditions>
                                                            <MultiDataTrigger.Setters>
                                                                <Setter Property="Visibility" Value="Visible"/>
                                                            </MultiDataTrigger.Setters>
                                                        </MultiDataTrigger>

                                                        <MultiDataTrigger>
                                                            <MultiDataTrigger.Conditions>
                                                                <Condition Binding="{Binding ElementName=SuccessChangeToggle, Path=IsChecked}" Value="False"/>
                                                                <Condition Binding="{Binding IsUnlock}" Value="True"/>
                                                            </MultiDataTrigger.Conditions>
                                                            <MultiDataTrigger.Setters>
                                                                <Setter Property="Visibility" Value="Visible"/>
                                                            </MultiDataTrigger.Setters>
                                                        </MultiDataTrigger>

                                                        <MultiDataTrigger>
                                                            <MultiDataTrigger.Conditions>
                                                                <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[LocalClock]}" Value="False"/>
                                                            </MultiDataTrigger.Conditions>
                                                            <MultiDataTrigger.Setters>
                                                                <Setter TargetName="Clock2" Property="Visibility" Value="Visible"/>
                                                                <Setter TargetName="Clock1" Property="Visibility" Value="Collapsed"/>
                                                            </MultiDataTrigger.Setters>
                                                        </MultiDataTrigger>

                                                    </ControlTemplate.Triggers>
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </Style>
                                </ListView.ItemContainerStyle>
                            </ListView>

                            <ListView x:Name="AchievementListAsc" ScrollViewer.HorizontalScrollBarVisibility="Disabled" Width="Auto" ScrollViewer.CanContentScroll="True" Margin="10,60,0,10"
                                      VirtualizingPanel.IsVirtualizing="True" VirtualizingPanel.VirtualizationMode="Recycling"  BorderBrush="Transparent" BorderThickness="0" Background="Transparent"
                                      FocusVisualStyle="{x:Null}" Focusable="False" KeyboardNavigation.DirectionalNavigation="Local" ItemsSource="{PluginSettings Plugin=SuccessStory, Path=ListAchUnlockDateAsc}">
                                <ListView.Style>
                                    <Style TargetType="ListView">
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding ElementName=SortButton, Path=IsChecked}" Value="True">
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding ElementName=SortButton, Path=IsChecked}" Value="False">
                                                <Setter Property="Visibility" Value="Visible"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </ListView.Style>

                                <ListView.ItemContainerStyle>
                                    <Style TargetType="ListViewItem">
                                        <Setter Property="Visibility" Value="Collapsed"/>
                                        <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
                                        <Setter Property="Focusable" Value="True"/>
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate TargetType="ListViewItem">
                                                    <Border BorderBrush="Transparent" CornerRadius="5">
                                                        <Grid Height="120" Width="1400" Margin="0,8,0,8" >
                                                            <Border x:Name="mask" CornerRadius="5" Background="{DynamicResource SuccessMenu}"/>
                                                            <Grid>
                                                                <Grid.OpacityMask>
                                                                    <VisualBrush Visual="{Binding ElementName=mask}"/>
                                                                </Grid.OpacityMask>
                                                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" VerticalAlignment="Center">
                                                                    <StackPanel Margin="0,0,0,0" Orientation="Horizontal" >
                                                                        <Image Margin="0,0,0,0" Source="{Binding Icon}" Height="120" Width="120" VerticalAlignment="Center"/>
                                                                    </StackPanel>
                                                                </StackPanel>

                                                                <Grid VerticalAlignment="Bottom" HorizontalAlignment="Left" Width="1350" Height="120" Margin="30,0,0,0">
                                                                    <Grid VerticalAlignment="Top" Margin="100,0,0,0">
                                                                        <Grid.RowDefinitions>
                                                                            <RowDefinition Height="35"/>
                                                                            <RowDefinition Height="60"/>
                                                                            <RowDefinition Height="20"/>
                                                                        </Grid.RowDefinitions>

                                                                        <!-- Ligne 1 : Nom -->
                                                                        <TextBlock x:Name="Name"
                                                                                   Grid.Row="0"
                                                                                   VerticalAlignment="Top"
                                                                                   Text="{Binding Name}"
                                                                                   HorizontalAlignment="Left"
                                                                                   MaxWidth="1150"
                                                                                   TextWrapping="Wrap"
                                                                                   FontSize="23"
                                                                                   Style="{DynamicResource TextBlockBaseStyle}" />

                                                                        <!-- Ligne 2 : Description -->
                                                                        <TextBlock x:Name="Desc"
                                                                                   Grid.Row="1"
                                                                                   VerticalAlignment="Top"
                                                                                   Text="{Binding Description}"
                                                                                   Opacity="0.8"
                                                                                   MaxWidth="1200"
                                                                                   TextTrimming="WordEllipsis"
                                                                                   TextWrapping="Wrap"
                                                                                   HorizontalAlignment="Left"
                                                                                   FontSize="20"
                                                                                   Style="{DynamicResource TextBlockBaseStyle}" />

                                                                        <!-- Ligne 3 : % + joueurs -->
                                                                        <StackPanel Grid.Row="2"
                                                                                    Orientation="Horizontal"
                                                                                    Margin="0,0,0,3"
                                                                                    VerticalAlignment="Bottom">
                                                                            <TextBlock x:Name="Perc"
                                                                                       Text="{Binding Percent, Path=Percent, StringFormat={}{0:F0}%}"
                                                                                       Foreground="#b6bcbf"
                                                                                       FontSize="14"
                                                                                       FontFamily="Segoe UI"
                                                                                       Style="{DynamicResource TextBlockBaseStyle}" />
                                                                            <TextBlock x:Name="Player"
                                                                                       Margin="5,0,0,0"
                                                                                       Text="{DynamicResource LOCPlayershaveachievement}"
                                                                                       Foreground="#b6bcbf"
                                                                                       FontSize="14"
                                                                                       FontFamily="Segoe UI"
                                                                                       Style="{DynamicResource TextBlockBaseStyle}" />
                                                                        </StackPanel>
                                                                    </Grid>

                                                                    <StackPanel Margin="0,10,55,0" Orientation="Vertical" HorizontalAlignment="Right" Opacity="0.7" VerticalAlignment="Center">

                                                                        <TextBlock x:Name="Clock1" Visibility="Visible" Margin="0,0,3,0" VerticalAlignment="Top" HorizontalAlignment="Right" Text="{Binding DateUnlocked, StringFormat='{}{0:HH:mm}'}" FontSize="20" Style="{DynamicResource TextBlockBaseStyle}" />
                                                                        <TextBlock x:Name="Clock2" Visibility="Collapsed" Margin="0,0,3,0" VerticalAlignment="Top" HorizontalAlignment="Right" Text="{Binding DateUnlocked, StringFormat='{}{0:t}'}" FontSize="20" Style="{DynamicResource TextBlockBaseStyle}" />
                                                                        <TextBlock  VerticalAlignment="Top" HorizontalAlignment="Right" Margin="0,0,3,2" Text="{Binding DateUnlocked, StringFormat='{}{0:d MMM yyyy}'}" FontSize="20" Style="{DynamicResource TextBlockBaseStyle}"/>

                                                                    </StackPanel>

                                                                    <StackPanel HorizontalAlignment="Right" Orientation="Horizontal" Width="55" >
                                                                        <Image x:Name="Bronze" Margin="10,10,5,0" VerticalAlignment="Center" HorizontalAlignment="Left"
                                                                               Source="{ThemeFile 'Images/Bronze.png'}" Height="45" RenderOptions.BitmapScalingMode="Fant" Visibility="Visible"/>
                                                                        <Image x:Name="Argent"  Margin="10,10,5,0" VerticalAlignment="Center" HorizontalAlignment="Left"
                                                                               Source="{ThemeFile 'Images/Argent.png'}" Height="45" RenderOptions.BitmapScalingMode="Fant" Visibility="Collapsed" />
                                                                        <Image x:Name="Or"  Margin="10,10,5,0" VerticalAlignment="Center" HorizontalAlignment="Left"
                                                                               Source="{ThemeFile 'Images/Or.png'}" Height="45" RenderOptions.BitmapScalingMode="Fant" Visibility="Collapsed"/>
                                                                        <Image x:Name="Saphir" Margin="10,10,5,0" VerticalAlignment="Center" HorizontalAlignment="Left"
                                                                               Source="{ThemeFile 'Images/Saphir.png'}" Height="45" RenderOptions.BitmapScalingMode="Fant" Visibility="Collapsed"/>
                                                                    </StackPanel>
                                                                    <TextBlock x:Name="PercentLogic" Text="{Binding GamerScore}" Visibility="Collapsed"/>
                                                                </Grid>
                                                            </Grid>



                                                            <Border x:Name="BorderFocus" Opacity="1" BorderThickness="3" Margin="-4,0,-4,0" Visibility="Collapsed" CornerRadius="{DynamicResource Corner}" >
                                                                <Border.Style>
                                                                    <Style TargetType="Border">
                                                                        <Setter Property="BorderBrush" Value="#8C5A2B"/>
                                                                        <Style.Triggers>
                                                                            <DataTrigger Binding="{Binding ElementName=PercentLogic, Path=Text}" Value="180">
                                                                                <Setter Property="BorderBrush" Value="#D4AF37"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{Binding ElementName=PercentLogic, Path=Text}" Value="90">
                                                                                <Setter Property="BorderBrush" Value="#D4AF37"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{Binding ElementName=PercentLogic, Path=Text}" Value="50">
                                                                                <Setter Property="BorderBrush" Value="#D4AF37"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{Binding ElementName=PercentLogic, Path=Text}" Value="30">
                                                                                <Setter Property="BorderBrush" Value="#E5E4E2"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{Binding ElementName=PercentLogic, Path=Text}" Value="25">
                                                                                <Setter Property="BorderBrush" Value="#D4AF37"/>
                                                                            </DataTrigger>
                                                                            <DataTrigger Binding="{Binding ElementName=PercentLogic, Path=Text}" Value="10">
                                                                                <Setter Property="BorderBrush" Value="#E5E4E2"/>
                                                                            </DataTrigger>
                                                                        </Style.Triggers>
                                                                    </Style>
                                                                </Border.Style>
                                                            </Border>
                                                        </Grid>
                                                    </Border>

                                                    <ControlTemplate.Triggers>
                                                        <Trigger Property="IsFocused" Value="True">
                                                            <Setter Property="Visibility" Value="Visible" TargetName="BorderFocus" />
                                                            <Setter Property="Foreground" Value="White" TargetName="Name" />
                                                            <Setter Property="FontSize" Value="25" TargetName="Name" />
                                                            <Setter Property="Opacity" Value="0.8" TargetName="Desc" />
                                                            <Setter Property="FontSize" Value="22" TargetName="Desc" />
                                                            <Setter Property="Background" Value="{DynamicResource OverlayMenu}" TargetName="mask" />
                                                        </Trigger>
                                                        <MultiDataTrigger>
                                                            <MultiDataTrigger.Conditions>
                                                                <Condition Binding="{Binding ElementName=PercentLogic, Path=Text}" Value="180"/>
                                                            </MultiDataTrigger.Conditions>
                                                            <MultiDataTrigger.Setters>
                                                                <Setter TargetName="Saphir" Property="Visibility" Value="Collapsed"/>
                                                                <Setter TargetName="Or" Property="Visibility" Value="Visible"/>
                                                                <Setter TargetName="Argent" Property="Visibility" Value="Collapsed"/>
                                                                <Setter TargetName="Bronze" Property="Visibility" Value="Collapsed"/>
                                                            </MultiDataTrigger.Setters>
                                                        </MultiDataTrigger>

                                                        <MultiDataTrigger>
                                                            <MultiDataTrigger.Conditions>
                                                                <Condition Binding="{Binding ElementName=PercentLogic, Path=Text}" Value="90"/>
                                                            </MultiDataTrigger.Conditions>
                                                            <MultiDataTrigger.Setters>
                                                                <Setter TargetName="Saphir" Property="Visibility" Value="Collapsed"/>
                                                                <Setter TargetName="Or" Property="Visibility" Value="Visible"/>
                                                                <Setter TargetName="Argent" Property="Visibility" Value="Collapsed"/>
                                                                <Setter TargetName="Bronze" Property="Visibility" Value="Collapsed"/>
                                                            </MultiDataTrigger.Setters>
                                                        </MultiDataTrigger>

                                                        <MultiDataTrigger>
                                                            <MultiDataTrigger.Conditions>
                                                                <Condition Binding="{Binding ElementName=PercentLogic, Path=Text}" Value="30"/>
                                                            </MultiDataTrigger.Conditions>
                                                            <MultiDataTrigger.Setters>
                                                                <Setter TargetName="Saphir" Property="Visibility" Value="Collapsed"/>
                                                                <Setter TargetName="Or" Property="Visibility" Value="Collapsed"/>
                                                                <Setter TargetName="Argent" Property="Visibility" Value="Visible"/>
                                                                <Setter TargetName="Bronze" Property="Visibility" Value="Collapsed"/>
                                                            </MultiDataTrigger.Setters>
                                                        </MultiDataTrigger>

                                                        <!-- Retro-->

                                                        <MultiDataTrigger>
                                                            <MultiDataTrigger.Conditions>
                                                                <Condition Binding="{Binding ElementName=PercentLogic, Path=Text}" Value="50"/>
                                                            </MultiDataTrigger.Conditions>
                                                            <MultiDataTrigger.Setters>
                                                                <Setter TargetName="Saphir" Property="Visibility" Value="Collapsed"/>
                                                                <Setter TargetName="Or" Property="Visibility" Value="Visible"/>
                                                                <Setter TargetName="Argent" Property="Visibility" Value="Collapsed"/>
                                                                <Setter TargetName="Bronze" Property="Visibility" Value="Collapsed"/>
                                                            </MultiDataTrigger.Setters>
                                                        </MultiDataTrigger>

                                                        <MultiDataTrigger>
                                                            <MultiDataTrigger.Conditions>
                                                                <Condition Binding="{Binding ElementName=PercentLogic, Path=Text}" Value="25"/>
                                                            </MultiDataTrigger.Conditions>
                                                            <MultiDataTrigger.Setters>
                                                                <Setter TargetName="Saphir" Property="Visibility" Value="Collapsed"/>
                                                                <Setter TargetName="Or" Property="Visibility" Value="Visible"/>
                                                                <Setter TargetName="Argent" Property="Visibility" Value="Collapsed"/>
                                                                <Setter TargetName="Bronze" Property="Visibility" Value="Collapsed"/>
                                                            </MultiDataTrigger.Setters>
                                                        </MultiDataTrigger>

                                                        <MultiDataTrigger>
                                                            <MultiDataTrigger.Conditions>
                                                                <Condition Binding="{Binding ElementName=SuccessChangeToggle, Path=IsChecked}" Value="True"/>
                                                                <Condition Binding="{Binding IsUnlock}" Value="False"/>
                                                            </MultiDataTrigger.Conditions>
                                                            <MultiDataTrigger.Setters>
                                                                <Setter Property="Visibility" Value="Visible"/>
                                                            </MultiDataTrigger.Setters>
                                                        </MultiDataTrigger>
                                                        <MultiDataTrigger>
                                                            <MultiDataTrigger.Conditions>
                                                                <Condition Binding="{Binding ElementName=SuccessChangeToggle, Path=IsChecked}" Value="{x:Null}"/>
                                                            </MultiDataTrigger.Conditions>
                                                            <MultiDataTrigger.Setters>
                                                                <Setter Property="Visibility" Value="Visible"/>
                                                            </MultiDataTrigger.Setters>
                                                        </MultiDataTrigger>
                                                        <MultiDataTrigger>
                                                            <MultiDataTrigger.Conditions>
                                                                <Condition Binding="{Binding ElementName=SuccessChangeToggle, Path=IsChecked}" Value="False"/>
                                                                <Condition Binding="{Binding IsUnlock}" Value="True"/>
                                                            </MultiDataTrigger.Conditions>
                                                            <MultiDataTrigger.Setters>
                                                                <Setter Property="Visibility" Value="Visible"/>
                                                            </MultiDataTrigger.Setters>
                                                        </MultiDataTrigger>

                                                        <MultiDataTrigger>
                                                            <MultiDataTrigger.Conditions>
                                                                <Condition Binding="{Binding ElementName=SuccessChangeToggle, Path=IsChecked}" Value="False"/>
                                                                <Condition Binding="{Binding IsUnlock}" Value="True"/>
                                                            </MultiDataTrigger.Conditions>
                                                            <MultiDataTrigger.Setters>
                                                                <Setter Property="Visibility" Value="Visible"/>
                                                            </MultiDataTrigger.Setters>
                                                        </MultiDataTrigger>

                                                        <MultiDataTrigger>
                                                            <MultiDataTrigger.Conditions>
                                                                <Condition Binding="{PluginSettings Plugin=ThemeOptions, Path=Options[LocalClock]}" Value="False"/>
                                                            </MultiDataTrigger.Conditions>
                                                            <MultiDataTrigger.Setters>
                                                                <Setter TargetName="Clock2" Property="Visibility" Value="Visible"/>
                                                                <Setter TargetName="Clock1" Property="Visibility" Value="Collapsed"/>
                                                            </MultiDataTrigger.Setters>
                                                        </MultiDataTrigger>

                                                    </ControlTemplate.Triggers>
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </Style>
                                </ListView.ItemContainerStyle>
                            </ListView>



                            <Grid.Effect>
                                <DropShadowEffect BlurRadius="10" ShadowDepth="2" Direction="270" Opacity="0.4" />
                            </Grid.Effect>

                        </Grid>
                        <Border Background="{DynamicResource MainBackgourndBrush}" CornerRadius="0,0,5,5" HorizontalAlignment="Stretch" VerticalAlignment="Bottom" Height="50" Margin="0,0,0,0"/>
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Bottom" Margin="0,0,0,0" >
                            <TextBlock Text="{DynamicResource LocTotalTrophiesUnlocked}"  Style="{DynamicResource TextBlockBaseStyle}" FontSize="28" Margin="0,50,5,10" />
                            <TextBlock Text=" : " Style="{DynamicResource TextBlockBaseStyle}"  FontSize="28"  Margin="0,50,5,10" />
                            <TextBlock Text="{PluginSettings Plugin=SuccessStory, Path=Unlocked, FallbackValue='-'}" Style="{DynamicResource TextBlockBaseStyle}"  FontSize="28"  Margin="0,50,0,10" />
                            <TextBlock Text="/" Style="{DynamicResource TextBlockBaseStyle}" FontSize="28" Margin="2,50,2,10" />
                            <TextBlock Text="{PluginSettings Plugin=SuccessStory, Path=Total, FallbackValue='-'}" Style="{DynamicResource TextBlockBaseStyle}" FontSize="28" Margin="0,50,0,10" />
                        </StackPanel>
                        <ButtonEx x:Name="BackButton" Margin="0,0,10,10" VerticalAlignment="Bottom" HorizontalAlignment="Right" Style="{StaticResource IconBButton}" Content="{DynamicResource LOCBackLabel}" />
                    </Grid>
                    <ControlTemplate.Triggers>
                        <DataTrigger Binding="{Binding ElementName=PART_ViewHost, Path=ActualWidth}" Value="1728">
                            <Setter Property="Margin" Value="-140,80,30,80" />
                        </DataTrigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>

        <Style.Triggers>
            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=AspectRatio}" Value="dsp1610">
                <Setter Property="Margin" Value="0,-60,0,-60"/>
            </DataTrigger>
            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=AspectRatio}" Value="dsp219">
                <Setter Property="Margin" Value="-320,0,-320,0"/>
            </DataTrigger>
        </Style.Triggers>
    </Style>

    <Style x:Key="CheckDLCWindowStyle" TargetType="ContentControl">
        <Setter Property="Margin" Value="0,0,0,0"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ContentControl">
                    <Grid KeyboardNavigation.DirectionalNavigation="Cycle"
                          KeyboardNavigation.TabNavigation="Cycle"
                          KeyboardNavigation.ControlTabNavigation="Cycle"
                          FocusManager.FocusedElement="{Binding ElementName=ExpandToggle}"
                          HorizontalAlignment="Stretch"
                          VerticalAlignment="Stretch"
                          Opacity="0"
                          Background="{DynamicResource OverlayMenu}">

                        <Grid.Triggers>
                            <EventTrigger RoutedEvent="FrameworkElement.Loaded">
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Storyboard.TargetProperty="Opacity" From="0" To="1" Duration="0:0:0"/>
                                    </Storyboard>
                                </BeginStoryboard>
                            </EventTrigger>
                        </Grid.Triggers>

                        <FadeImage Source="{Binding SelectedGame.BackgroundImage}" Margin="0,-150,0,0"
                                   HorizontalContentAlignment="Center"
                                   HorizontalAlignment="Center"
                                   VerticalAlignment="Top"
                                   Height="1000"
                                   Stretch="UniformToFill"
                                   Opacity="0.3">

                        </FadeImage>

                        <!-- Bandeau supérieur du panneau de trophées -->
                        <Border Background="Transparent" Margin="0,20,0,0"
                                BorderThickness="0,0,0,0"
                                BorderBrush="{DynamicResource OverlayMenu}"
                                Height="250"
                                VerticalAlignment="Top">

                            <Grid Margin="100,0,100,0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="200"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="200"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>


                                <StackPanel Grid.Column="1" HorizontalAlignment="Center" Orientation="Horizontal">
                                    <Border Grid.Column="0" HorizontalAlignment="Left"
                                            Height="200"
                                            Margin="0,20,0,0"
                                            BorderThickness="2"
                                            BorderBrush="{DynamicResource OverlayMenu}"
                                            Background="{DynamicResource OverlayMenu}">
                                        <Border.Effect>
                                            <DropShadowEffect ShadowDepth="0"
                                                              BlurRadius="10"
                                                              Opacity="0.4"
                                                              Color="Black" />
                                        </Border.Effect>
                                        <Image Source="{Binding SelectedGame.CoverImageObjectCached}"
                                               Stretch="UniformToFill"
                                               RenderOptions.BitmapScalingMode="Fant"
                                               ClipToBounds="True"
                                               SnapsToDevicePixels="True"
                                               Height="200" />
                                    </Border>

                                    <StackPanel Grid.Column="1" Orientation="Vertical"
                                                VerticalAlignment="Center"
                                                Margin="20,0,0,0"
                                                HorizontalAlignment="Center">
                                        <TextBlock Text="{DynamicResource LOCDownloadableContent}"
                                                   HorizontalAlignment="Left"
                                                   FontSize="24"
                                                   Opacity="0.8"
                                                   Typography.Capitals="AllSmallCaps"
                                                   TextWrapping="Wrap"
                                                   TextTrimming="WordEllipsis"
                                                   MaxWidth="1500"
                                                   Style="{DynamicResource TextBlockBaseStyle}" />

                                        <TextBlock Text="{Binding SelectedGame.Name}"
                                                   HorizontalAlignment="Left"
                                                   FontSize="50"
                                                   TextWrapping="Wrap"
                                                   TextTrimming="WordEllipsis"
                                                   MaxWidth="1500"
                                                   Style="{DynamicResource TextBlockBaseStyle}" />
                                    </StackPanel>
                                </StackPanel>
                            </Grid>
                        </Border>

                        <Border Margin="0,290,0,0" Background="{DynamicResource DynamicGlowBackgroundSuccess}">
                            <Border.Effect>
                                <DropShadowEffect ShadowDepth="5"
                                                  BlurRadius="15"
                                                  Direction="90"
                                                  Opacity="0.8"
                                                  Color="Black" />
                            </Border.Effect>
                        </Border>

                        <Grid x:Name="DLCList" Grid.Row="1" Grid.Column="1"  VerticalAlignment="Top" Margin="0,300,0,0" Height="800" HorizontalAlignment="Center">

                            <ListView x:Name="ListDlcAll"
                                      VerticalAlignment="Top"
                                      HorizontalAlignment="Left"
                                      ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                                      ScrollViewer.VerticalScrollBarVisibility="Auto"
                                      Width="Auto"
                                      ScrollViewer.CanContentScroll="True"
                                      Margin="0,0,0,0"
                                      VirtualizingPanel.IsVirtualizing="True"
                                      VirtualizingPanel.VirtualizationMode="Recycling"
                                      BorderBrush="Transparent"
                                      BorderThickness="0"
                                      Background="Transparent"
                                      FocusVisualStyle="{x:Null}"
                                      Focusable="False"
                                      pbeh:FocusBahaviors.FocusBinding="True"
                                      pbeh:FocusBahaviors.OnVisibilityFocus="True"
                                      KeyboardNavigation.DirectionalNavigation="Local"
                                      ItemsSource="{PluginSettings Plugin=CheckDlc, Path=ListDlcs}">
                                <ListView.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <VirtualizingStackPanel Orientation="Vertical" />
                                    </ItemsPanelTemplate>
                                </ListView.ItemsPanel>

                                <ListView.ItemContainerStyle>
                                    <Style TargetType="ListViewItem">
                                        <Setter Property="Visibility" Value="Visible"/>
                                        <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
                                        <Setter Property="Focusable" Value="False"/>
                                        <Setter Property="Width" Value="1600"/>
                                        <Setter Property="Margin" Value="0,0,0,10"/>
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate TargetType="ListViewItem">
                                                    <ControlTemplate.Resources>
                                                        <Storyboard x:Key="BorderAnimDlcOpen">
                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                                             Storyboard.TargetName="MainBorderDlc"
                                                                             From="0" To="0.5" Duration="0:0:0.2"/>
                                                            <DoubleAnimation Storyboard.TargetProperty="Background.(GradientBrush.GradientStops)[1].(GradientStop.Offset)"
                                                                             Storyboard.TargetName="MainBorderDlc"
                                                                             From="0" To="1" Duration="0:0:0.6"/>
                                                        </Storyboard>
                                                        <Storyboard x:Key="BorderAnimDlcClose">
                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                                             Storyboard.TargetName="MainBorderDlc"
                                                                             To="0" Duration="0:0:0.15"/>
                                                        </Storyboard>
                                                    </ControlTemplate.Resources>


                                                    <Grid Margin="10">
                                                        <Border Name="Borderdlc" CornerRadius="{DynamicResource Corner}"
                                                                BorderBrush="Gray" Margin="-1,-1,-1,-1" BorderThickness="2"/>
                                                        <Border Name="maskdlc" CornerRadius="{DynamicResource Corner}"
                                                                Background="{DynamicResource OverlayMenu}" />
                                                        <Grid>
                                                            <Grid.OpacityMask>
                                                                <VisualBrush Visual="{Binding ElementName=maskdlc}"/>
                                                            </Grid.OpacityMask>
                                                            <ToggleButtonEx x:Name="ExpandToggle" Background="Transparent" Style="{StaticResource DLCExpend}" >

                                                                <Grid x:Name="DlcItem"
                                                                      Focusable="False"
                                                                      VerticalAlignment="Top"
                                                                      HorizontalAlignment="Center"
                                                                      Width="1550"
                                                                      KeyboardNavigation.IsTabStop="False"
                                                                      KeyboardNavigation.TabNavigation="None"
                                                                      KeyboardNavigation.DirectionalNavigation="None">
                                                                    <Grid.Style>
                                                                        <Style TargetType="Grid">
                                                                            <!-- état par défaut -->
                                                                            <Setter Property="MinHeight" Value="230"/>
                                                                            <Setter Property="MaxHeight" Value="230"/>

                                                                            <Style.Triggers>
                                                                                <DataTrigger Binding="{Binding IsChecked, ElementName=ExpandToggle}" Value="True">
                                                                                    <DataTrigger.EnterActions>
                                                                                        <BeginStoryboard>
                                                                                            <Storyboard>
                                                                                                <!-- Animation hauteur -->
                                                                                                <DoubleAnimation Storyboard.TargetProperty="MaxHeight"
                                                                                                                 To="700"
                                                                                                                 Duration="0:0:0.35">
                                                                                                    <DoubleAnimation.EasingFunction>
                                                                                                        <CubicEase EasingMode="EaseIn"/>
                                                                                                    </DoubleAnimation.EasingFunction>
                                                                                                </DoubleAnimation>
                                                                                            </Storyboard>
                                                                                        </BeginStoryboard>
                                                                                    </DataTrigger.EnterActions>
                                                                                    <DataTrigger.ExitActions>
                                                                                        <BeginStoryboard>
                                                                                            <Storyboard>
                                                                                                <DoubleAnimation Storyboard.TargetProperty="MaxHeight"
                                                                                                                 To="230"
                                                                                                                 Duration="0:0:0.3">
                                                                                                    <DoubleAnimation.EasingFunction>
                                                                                                        <CubicEase EasingMode="EaseOut"/>
                                                                                                    </DoubleAnimation.EasingFunction>
                                                                                                </DoubleAnimation>
                                                                                            </Storyboard>
                                                                                        </BeginStoryboard>
                                                                                    </DataTrigger.ExitActions>
                                                                                </DataTrigger>

                                                                            </Style.Triggers>
                                                                        </Style>
                                                                    </Grid.Style>
                                                                    <StackPanel Orientation="Horizontal">
                                                                        <Image Margin="0,10,0,10" Source="{Binding Image}" Stretch="UniformToFill" Height="200" MaxWidth="400" VerticalAlignment="Top" HorizontalAlignment="Left" />
                                                                    </StackPanel>
                                                                    <StackPanel Orientation="Vertical">
                                                                        <TextBlock Margin="410,0,10,0" Text="{Binding Name}" VerticalAlignment="Top"  HorizontalAlignment="Left" MaxWidth="1200" TextWrapping="Wrap" FontSize="30" Foreground="{DynamicResource TextDetailAltBrush}" Style="{DynamicResource TextBlockBaseStyle}" />
                                                                        <HtmlTextView Margin="410,0,10,0"
                                                                                      MaxHeight="700"
                                                                                      Height="Auto"
                                                                                      MaxWidth="1030"
                                                                                      HtmlText="{Binding Description}"
                                                                                      Opacity="0.8"
                                                                                      VerticalAlignment="Top"
                                                                                      HorizontalAlignment="Left"
                                                                                      HtmlFontSize="18"
                                                                                      HtmlForeground="{DynamicResource TextAltDetail}"
                                                                                      HtmlFontFamily="Segoe UI Light" />
                                                                    </StackPanel>


                                                                    <Border x:Name="BorderOwned" Visibility="Collapsed" Background="{DynamicResource OverlayMenu}" BorderBrush="{DynamicResource TextBrush}" BorderThickness="0" Padding="2" CornerRadius="0,15,0,0" Opacity="1" VerticalAlignment="Stretch" HorizontalAlignment="Right" Margin="0,0,-40,0" Width="120" MinHeight="150" MaxHeight="600" />
                                                                    <Border x:Name="BorderNoOwned" Visibility="Visible"  BorderBrush="{DynamicResource TextBrush}" BorderThickness="0" Padding="2" CornerRadius="0,15,0,0" Opacity="1" VerticalAlignment="Stretch" HorizontalAlignment="Right" Margin="0,0,-40,0" Width="120" MinHeight="150" MaxHeight="600" />


                                                                    <Grid>
                                                                        <Rectangle Fill="{DynamicResource TextBrush}" Opacity="0.8" Margin="0,0,95,0" Width="2" MinHeight="150" MaxHeight="600" VerticalAlignment="Stretch" HorizontalAlignment="Right" />
                                                                        <StackPanel Margin="0,0,0,0" Orientation="Vertical" VerticalAlignment="Top" HorizontalAlignment="Right">
                                                                            <TextBlock Margin="0,10,0,0" VerticalAlignment="Top"  HorizontalAlignment="Center" MaxWidth="800" TextWrapping="Wrap" FontSize="22">
                                                                                <TextBlock.Style>
                                                                                    <Style TargetType="TextBlock" BasedOn="{StaticResource TextBlockBaseStyle}">
                                                                                        <Setter Property="Text" Value="{Binding Price}" />
                                                                                        <!-- Valeur par défaut -->
                                                                                        <Style.Triggers>
                                                                                            <DataTrigger Binding="{Binding Price}" Value="0">
                                                                                                <Setter Property="Text" Value="" />
                                                                                                <Setter Property="Visibility" Value="Collapsed" />
                                                                                            </DataTrigger>
                                                                                            <DataTrigger Binding="{Binding Price}">
                                                                                                <Setter Property="Text" Value="{Binding Price}" />
                                                                                                <Setter Property="Visibility" Value="Visible" />
                                                                                            </DataTrigger>
                                                                                            <DataTrigger Binding="{Binding IsOwned}" Value="True">
                                                                                                <Setter Property="Visibility" Value="Collapsed" />
                                                                                            </DataTrigger>
                                                                                        </Style.Triggers>
                                                                                    </Style>
                                                                                </TextBlock.Style>
                                                                            </TextBlock>

                                                                            <TextBlock Margin="0,10,0,0" VerticalAlignment="Top" HorizontalAlignment="Center" FontSize="22" TextDecorations="Strikethrough" >
                                                                                <TextBlock.Style>
                                                                                    <Style TargetType="TextBlock" BasedOn="{StaticResource TextBlockBaseStyle}">
                                                                                        <Setter Property="Text" Value="{Binding PriceBase}" />
                                                                                        <Style.Triggers>
                                                                                            <DataTrigger Binding="{Binding IsDiscount}" Value="False">
                                                                                                <Setter Property="Text" Value="" />
                                                                                                <Setter Property="Visibility" Value="Collapsed" />
                                                                                            </DataTrigger>
                                                                                            <DataTrigger Binding="{Binding IsDiscount}" Value="True">
                                                                                                <Setter Property="Visibility" Value="Visible" />
                                                                                                <Setter Property="Text" Value="{Binding PriceBase}" />
                                                                                            </DataTrigger>
                                                                                            <DataTrigger Binding="{Binding IsOwned}" Value="True">
                                                                                                <Setter Property="Visibility" Value="Collapsed" />
                                                                                            </DataTrigger>
                                                                                        </Style.Triggers>
                                                                                    </Style>
                                                                                </TextBlock.Style>
                                                                            </TextBlock>

                                                                            <TextBlock Margin="0,10,0,0" VerticalAlignment="Top" HorizontalAlignment="Center"
                                                                                       FontSize="22" >
                                                                                <TextBlock.Style>
                                                                                    <Style TargetType="TextBlock" BasedOn="{StaticResource TextBlockBaseStyle}">
                                                                                        <Setter Property="Text" Value="" />
                                                                                        <Setter Property="Visibility" Value="Collapsed" />
                                                                                        <!-- Valeur par défaut -->
                                                                                        <Style.Triggers>
                                                                                            <DataTrigger Binding="{Binding IsFree}" Value="True">
                                                                                                <Setter Property="Text" Value="{DynamicResource LOCCheckDlcFree}" />
                                                                                                <Setter Property="Visibility" Value="Visible" />
                                                                                            </DataTrigger>
                                                                                            <DataTrigger Binding="{Binding IsOwned}" Value="True">
                                                                                                <Setter Property="Visibility" Value="Collapsed" />
                                                                                            </DataTrigger>
                                                                                        </Style.Triggers>
                                                                                    </Style>
                                                                                </TextBlock.Style>
                                                                            </TextBlock>


                                                                            <TextBlock Margin="0,10,0,0" VerticalAlignment="Top" HorizontalAlignment="Center" FontSize="20">
                                                                                <TextBlock.Style>
                                                                                    <Style TargetType="TextBlock" BasedOn="{StaticResource TextBlockBaseStyle}">
                                                                                        <Setter Property="Text" Value="" />
                                                                                        <Setter Property="Visibility" Value="Collapsed" />
                                                                                        <!-- Valeur par défaut -->
                                                                                        <Style.Triggers>
                                                                                            <DataTrigger Binding="{Binding IsOwned}" Value="True">
                                                                                                <Setter Property="Text" Value="{DynamicResource LOCCheckDlcOwned}" />
                                                                                                <Setter Property="Visibility" Value="Visible" />

                                                                                            </DataTrigger>
                                                                                        </Style.Triggers>
                                                                                    </Style>
                                                                                </TextBlock.Style>
                                                                            </TextBlock>

                                                                        </StackPanel>
                                                                    </Grid>



                                                                </Grid>
                                                            </ToggleButtonEx>
                                                        </Grid>
                                                    </Grid>


                                                    <ControlTemplate.Triggers>



                                                    </ControlTemplate.Triggers>
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>

                                    </Style>
                                </ListView.ItemContainerStyle>
                            </ListView>
                        </Grid>
                        <Border Background="{DynamicResource MainBackgourndBrush}" CornerRadius="0,0,5,5" HorizontalAlignment="Stretch" VerticalAlignment="Bottom" Height="50" Margin="0,0,0,0"/>
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Bottom" HorizontalAlignment="Right">
                            <ButtonEx x:Name="AButton" Margin="0,0,10,10" VerticalAlignment="Bottom" HorizontalAlignment="Right" Style="{StaticResource IconAButton}" Content="{DynamicResource LOCReadMoreLabel}" />
                            <ButtonEx x:Name="BackButton" Margin="0,0,10,10" VerticalAlignment="Bottom" HorizontalAlignment="Right" Style="{StaticResource IconBButton}" Content="{DynamicResource LOCBackLabel}" />
                        </StackPanel>
                    </Grid>
                    <ControlTemplate.Triggers>
                        <DataTrigger Binding="{Binding ElementName=PART_ViewHost, Path=ActualWidth}" Value="1728">
                            <Setter Property="Margin" Value="-140,80,30,80" />
                        </DataTrigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>

        <Style.Triggers>
            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=AspectRatio}" Value="dsp1610">
                <Setter Property="Margin" Value="0,-60,0,-60"/>
            </DataTrigger>
            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=AspectRatio}" Value="dsp219">
                <Setter Property="Margin" Value="-320,0,-320,0"/>
            </DataTrigger>
        </Style.Triggers>
    </Style>

    <Style x:Key="ScreenShotsWindowStyle" TargetType="ContentControl">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ContentControl">
                    <Grid Background="{DynamicResource OverlayMenu}"
                          KeyboardNavigation.DirectionalNavigation="Once"
                          KeyboardNavigation.TabNavigation="Once"
                          KeyboardNavigation.ControlTabNavigation="Once"
                          FocusManager.FocusedElement="{Binding ElementName=ThumbList}"
                          UseLayoutRounding="True"
                          SnapsToDevicePixels="True">

                        <Grid x:Name="ViewerHost" HorizontalAlignment="Center" VerticalAlignment="Top">


                            <ContentControl x:Name="Viewer"
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Top"
                                            Margin="0"
                                            Content="{Binding ElementName=ThumbList, Path=SelectedItem}"
                                            Focusable="False">

                                <ContentControl.ContentTemplate>
                                    <DataTemplate>
                                        <Grid UseLayoutRounding="True" SnapsToDevicePixels="True">
                                            <StackPanel x:Name="Titre"
                                                        Orientation="Vertical"
                                                        HorizontalAlignment="Center"
                                                        VerticalAlignment="Center">

                                                <StackPanel.Style>
                                                    <Style TargetType="StackPanel">
                                                        <Setter Property="Visibility" Value="Collapsed"/>
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{Binding ElementName=ThumbList, Path=SelectedItem}" Value="{x:Null}">
                                                                <Setter Property="Visibility" Value="Visible"/>
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </StackPanel.Style>

                                                <TextBlock Text="SCREENSHOT VIZUALIZER"
                                                           Style="{DynamicResource TextBlockBaseStyle}"
                                                           HorizontalAlignment="Center"
                                                           VerticalAlignment="Center"
                                                           FontSize="46"
                                                           FontFamily="Segoe UI SemiBold"/>

                                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center">
                                                    <TextBlock Style="{DynamicResource TextBlockBaseStyle}"
                                                               FontSize="28"
                                                               Text="{Binding ElementName=ThumbList, Path=Items.Count}"/>

                                                    <TextBlock Style="{DynamicResource TextBlockBaseStyle}"
                                                               FontSize="28"
                                                               Text=" "/>

                                                    <TextBlock Style="{DynamicResource TextBlockBaseStyle}"
                                                               FontSize="28"
                                                               Text="{DynamicResource LOCIteminlibrary}"/>
                                                </StackPanel>

                                            </StackPanel>



                                            <!-- Image -->
                                            <Image x:Name="Shot"
                                                   Stretch="Uniform"
                                                   SnapsToDevicePixels="True"
                                                   RenderOptions.BitmapScalingMode="HighQuality"
                                                   HorizontalAlignment="Center"
                                                   VerticalAlignment="Center"
                                                   MaxWidth="1920"
                                                   Height="1080"
                                                   Source="{Binding FileName}"/>

                                            <!-- Vidéo -->
                                            <MediaElement x:Name="Player"
                                                          Volume="{Settings Fullscreen.BackgroundVolume}"
                                                          Visibility="Collapsed"
                                                          Stretch="Uniform"
                                                          HorizontalAlignment="Center"
                                                          VerticalAlignment="Top"
                                                          Height="1080"
                                                          LoadedBehavior="Play"
                                                          UnloadedBehavior="Stop"
                                                          ScrubbingEnabled="False"
                                                          MediaElementBehaviors.Repeat="True"
                                                          Source="{x:Null}"/>
                                        </Grid>

                                        <DataTemplate.Triggers>
                                            <DataTrigger Binding="{Binding IsVideo}" Value="True">
                                                <Setter TargetName="Shot" Property="Visibility" Value="Collapsed"/>
                                                <Setter TargetName="Player" Property="Visibility" Value="Visible"/>
                                                <Setter TargetName="Player" Property="Source" Value="{Binding FileName}"/>
                                            </DataTrigger>

                                            <DataTrigger Binding="{Binding IsVideo}" Value="False">
                                                <Setter TargetName="Player" Property="Visibility" Value="Collapsed"/>
                                                <Setter TargetName="Player" Property="Source" Value="{x:Null}"/>
                                            </DataTrigger>

                                            <!-- Sécurité -->
                                            <DataTrigger Binding="{Binding}" Value="{x:Null}">
                                                <Setter TargetName="Player" Property="Source" Value="{x:Null}"/>
                                            </DataTrigger>

                                        </DataTemplate.Triggers>
                                    </DataTemplate>
                                </ContentControl.ContentTemplate>
                            </ContentControl>

                            <Border x:Name="ViewerFrame"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Top"
                                    Padding="14"
                                    CornerRadius="2,2,0,0"
                                    BorderThickness="12,12,12,228"
                                    BorderBrush="#FFFFFF"
                                    Background="#20000000"
                                    IsHitTestVisible="False"
                                    SnapsToDevicePixels="True"
                                    Width="{Binding ElementName=Viewer, Path=ActualWidth}"
                                    Height="{Binding ElementName=Viewer, Path=ActualHeight}">
                                <Border.Style>
                                    <Style TargetType="Border">
                                        <Setter Property="Opacity" Value="0"/>
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding ElementName=ThumbBarHost, Path=Opacity}" Value="1">
                                                <DataTrigger.EnterActions>
                                                    <StopStoryboard BeginStoryboardName="ViewerFrameFadeOut"/>
                                                    <BeginStoryboard x:Name="ViewerFrameFadeIn" HandoffBehavior="SnapshotAndReplace">
                                                        <Storyboard>
                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                                             To="1" Duration="0:0:0.1"/>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </DataTrigger.EnterActions>
                                                <DataTrigger.ExitActions>
                                                    <StopStoryboard BeginStoryboardName="ViewerFrameFadeIn"/>
                                                    <BeginStoryboard x:Name="ViewerFrameFadeOut" HandoffBehavior="SnapshotAndReplace">
                                                        <Storyboard>
                                                            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                                             To="0" Duration="0:0:0.4"/>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </DataTrigger.ExitActions>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding ElementName=ThumbList, Path=SelectedItem}" Value="{x:Null}">
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding ElementName=ThumbList, Path=SelectedItem.IsVideo}" Value="True">
                                                <Setter Property="Visibility" Value="Collapsed"/>
                                            </DataTrigger>

                                        </Style.Triggers>
                                    </Style>
                                </Border.Style>
                            </Border>

                        </Grid>

                        <!-- Vignettage -->
                        <Rectangle IsHitTestVisible="False" Opacity="0.6">
                            <Rectangle.Fill>
                                <SolidColorBrush Color="#000000"/>
                            </Rectangle.Fill>
                            <Rectangle.OpacityMask>
                                <RadialGradientBrush Center="0.5,0.55" GradientOrigin="0.5,0.55" RadiusX="0.95" RadiusY="0.82">
                                    <GradientStop Color="#00FFFFFF" Offset="0.52"/>
                                    <GradientStop Color="#80FFFFFF" Offset="0.78"/>
                                    <GradientStop Color="#FFFFFFFF" Offset="1.00"/>
                                </RadialGradientBrush>
                            </Rectangle.OpacityMask>
                        </Rectangle>


                        <ContentControl x:Name="Sounds_MusicControl" Visibility="Collapsed"/>

                        <!-- Barre de miniatures -->
                        <Grid x:Name="ThumbBarHost"
                              FocusVisualStyle="{x:Null}"
                              Panel.ZIndex="2"
                              Height="220"
                              VerticalAlignment="Bottom"
                              KeyboardNavigation.DirectionalNavigation="Cycle">
                            <Border Margin="0,0,0,30"
                                    FocusVisualStyle="{x:Null}"
                                    Background="{DynamicResource OverlayMenu}"
                                    BorderBrush="#40FFFFFF"
                                    BorderThickness="0,1,0,0"
                                    Opacity="1"
                                    IsHitTestVisible="False"/>
                            <ListBox x:Name="ThumbList"
                                     ItemsSource="{PluginSettings Plugin=ScreenshotsVisualizer, Path=ListScreenshots}"
                                     SelectionMode="Single"
                                     Background="Transparent"
                                     BorderThickness="0"
                                     Margin="5,0,5,50"
                                     FocusVisualStyle="{x:Null}"
                                     AlternationCount="10000"
                                     pbeh:FocusBahaviors.FocusBinding="True"
                                     pbeh:FocusBahaviors.OnVisibilityFocus="True"
                                     KeyboardNavigation.DirectionalNavigation="Contained"
                                     KeyboardNavigation.TabNavigation="Cycle"
                                     KeyboardNavigation.ControlTabNavigation="Cycle"
                                     ScrollViewer.IsDeferredScrollingEnabled="True"
                                     ScrollViewer.HorizontalScrollBarVisibility="Auto"
                                     ScrollViewer.VerticalScrollBarVisibility="Disabled"
                                     ScrollViewer.CanContentScroll="True"
                                     VirtualizingPanel.IsVirtualizing="True"
                                     VirtualizingPanel.VirtualizationMode="Recycling"
                                     VirtualizingPanel.ScrollUnit="Item"
                                     VirtualizingPanel.CacheLengthUnit="Item"
                                     VirtualizingPanel.CacheLength="4">
                                <ListBox.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <VirtualizingStackPanel Orientation="Horizontal" IsVirtualizing="True" VirtualizationMode="Recycling"/>
                                    </ItemsPanelTemplate>
                                </ListBox.ItemsPanel>

                                <ListBox.ItemTemplate>
                                    <DataTemplate>
                                        <Grid Margin="0,2" FocusVisualStyle="{x:Null}">
                                            <Border x:Name="IndexBadge" FocusVisualStyle="{x:Null}"
                                                    HorizontalAlignment="Left" VerticalAlignment="Top"
                                                    Margin="6" Padding="6,2"
                                                    Background="#AA000000" CornerRadius="10"
                                                    Visibility="Collapsed" Panel.ZIndex="3">
                                                <TextBlock Foreground="White" FontSize="16" FontFamily="Segoe UI SemiBold">
                                                    <TextBlock.Text>
                                                        <MultiBinding StringFormat="{}{0}/{1}">
                                                            <Binding RelativeSource="{RelativeSource AncestorType=ListBoxItem}" Path="(ItemsControl.AlternationIndex)"/>
                                                            <Binding ElementName="ThumbList" Path="Items.Count"/>
                                                        </MultiBinding>
                                                    </TextBlock.Text>
                                                </TextBlock>
                                            </Border>

                                            <Border Background="#AA000000" CornerRadius="8" Padding="6,2" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="6" Panel.ZIndex="5" FocusVisualStyle="{x:Null}">
                                                <Border.Style>
                                                    <Style TargetType="Border">
                                                        <Setter Property="Visibility" Value="Collapsed"/>
                                                        <Style.Triggers>
                                                            <MultiDataTrigger>
                                                                <MultiDataTrigger.Conditions>
                                                                    <Condition Binding="{Binding RelativeSource={RelativeSource AncestorType=ListBoxItem}, Path=IsSelected}" Value="True"/>
                                                                    <Condition Binding="{Binding IsVideo}" Value="True"/>
                                                                </MultiDataTrigger.Conditions>
                                                                <Setter Property="Visibility" Value="Visible"/>
                                                            </MultiDataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </Border.Style>
                                                <TextBlock Foreground="White" FontSize="16" FontFamily="Segoe UI SemiBold"
                                                           Text="{Binding DurationString}"/>
                                            </Border>

                                            <Image x:Name="ThumbImage" FocusVisualStyle="{x:Null}"
                                                   Stretch="UniformToFill"
                                                   SnapsToDevicePixels="True"
                                                   RenderOptions.BitmapScalingMode="Linear"
                                                   Height="130"
                                                   Panel.ZIndex="0">
                                                <Image.Style>
                                                    <Style TargetType="Image">
                                                        <Setter Property="Source" Value="{Binding ImageThumbnail}"/>
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{Binding IsVideo}" Value="True">
                                                                <Setter Property="Source" Value="{Binding Thumbnail}"/>
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </Image.Style>
                                            </Image>



                                            <Rectangle x:Name="VideoDim" FocusVisualStyle="{x:Null}"
                                                       Fill="#50000000"
                                                       Visibility="Collapsed"
                                                       IsHitTestVisible="False"
                                                       Panel.ZIndex="1"/>

                                            <Image Source="{ThemeFile 'Images/VideoLogo.png'}"
                                                   RenderOptions.BitmapScalingMode="Fant"
                                                   FocusVisualStyle="{x:Null}"
                                                   Width="76" Height="76"
                                                   Visibility="Collapsed"
                                                   IsHitTestVisible="False"
                                                   Panel.ZIndex="2"
                                                   x:Name="PlayBadge"/>

                                            <Border Background="#AA000000" FocusVisualStyle="{x:Null}"
                                                    VerticalAlignment="Bottom"
                                                    Height="24"
                                                    Panel.ZIndex="1"
                                                    Visibility="{Binding RelativeSource={RelativeSource AncestorType=ListBoxItem},
                                                    Path=IsSelected, Converter={StaticResource BooleanToVisibilityConverter}}">
                                                <StackPanel Orientation="Horizontal" Margin="6,0">
                                                    <TextBlock Text="{Binding FileNameOnly}" Foreground="White" FontSize="14"
                                                               TextTrimming="CharacterEllipsis" MaxWidth="140"/>
                                                    <TextBlock Text=" • " Foreground="White" FontSize="14" Margin="6,0,0,0"/>
                                                    <TextBlock Text="{Binding FileSizeString}" Foreground="White" FontSize="14"/>
                                                </StackPanel>
                                            </Border>
                                        </Grid>

                                        <!-- Triggers -->
                                        <DataTemplate.Triggers>
                                            <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=ListBoxItem}, Path=IsSelected}" Value="True">
                                                <Setter TargetName="IndexBadge" Property="Visibility" Value="Visible"/>
                                            </DataTrigger>

                                            <DataTrigger Binding="{Binding IsVideo}" Value="True">
                                                <Setter TargetName="VideoDim" Property="Visibility" Value="Visible"/>
                                                <Setter TargetName="PlayBadge" Property="Visibility" Value="Visible"/>
                                            </DataTrigger>

                                        </DataTemplate.Triggers>
                                    </DataTemplate>
                                </ListBox.ItemTemplate>


                                <ListBox.ItemContainerStyle>
                                    <Style TargetType="ListBoxItem">
                                        <Setter Property="Width" Value="232"/>
                                        <Setter Property="Height" Value="120"/>
                                        <Setter Property="Margin" Value="5,0,5,0"/>
                                        <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
                                        <Setter Property="VerticalContentAlignment" Value="Stretch"/>
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate TargetType="ListBoxItem">
                                                    <Border x:Name="Card" CornerRadius="2" BorderThickness="2" BorderBrush="Transparent" RenderTransformOrigin="0.5,0.5">
                                                        <!-- >>> Le ScaleTransform est dans le template et nommé -->
                                                        <Border.RenderTransform>
                                                            <ScaleTransform ScaleX="1" ScaleY="1"/>
                                                        </Border.RenderTransform>

                                                        <ContentPresenter/>
                                                    </Border>
                                                    <ControlTemplate.Triggers>
                                                        <Trigger Property="IsSelected" Value="True">
                                                            <Setter TargetName="Card" Property="BorderBrush" Value="{DynamicResource TextBrush}"/>
                                                            <Setter TargetName="Card" Property="RenderTransform">
                                                                <Setter.Value>
                                                                    <ScaleTransform ScaleX="1.05" ScaleY="1.05"/>
                                                                </Setter.Value>
                                                            </Setter>
                                                        </Trigger>
                                                        <Trigger Property="IsMouseOver" Value="True">
                                                            <Setter TargetName="Card" Property="BorderBrush" Value="{DynamicResource TextBrush}"/>
                                                            <Setter TargetName="Card" Property="RenderTransform">
                                                                <Setter.Value>
                                                                    <ScaleTransform ScaleX="1.05" ScaleY="1.05"/>
                                                                </Setter.Value>
                                                            </Setter>
                                                        </Trigger>
                                                    </ControlTemplate.Triggers>
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </Style>
                                </ListBox.ItemContainerStyle>
                            </ListBox>

                            <!-- Barre de Button -->

                            <Border Background="{DynamicResource MainBackgourndBrush}" CornerRadius="0" HorizontalAlignment="Stretch" VerticalAlignment="Bottom" Height="50" Margin="0,0,0,0"/>
                            <StackPanel Orientation="Horizontal" VerticalAlignment="Bottom" HorizontalAlignment="Right">

                                <!-- D-Pad Gauche : Précédent -->
                                <StackPanel Orientation="Horizontal" Margin="0,0,10,10" VerticalAlignment="Center">
                                    <Image Source="{ThemeFile 'Images/Buttons/DpadLeft.png'}" Height="35" VerticalAlignment="Center" Margin="0,0,10,0" Focusable="False"/>
                                    <TextBlock Text="{DynamicResource LOCPreviousLabel}" Style="{DynamicResource TextBlockBaseStyle}" FontSize="25" VerticalAlignment="Center"/>
                                </StackPanel>

                                <!-- D-Pad Droite : Suivant -->
                                <StackPanel Orientation="Horizontal" Margin="10,0,10,10" VerticalAlignment="Center">
                                    <Image Source="{ThemeFile 'Images/Buttons/DpadRight.png'}" Height="35" VerticalAlignment="Center" Margin="0,0,10,0" Focusable="False" />
                                    <TextBlock Text="{DynamicResource LOCNextLabel}" Style="{DynamicResource TextBlockBaseStyle}" FontSize="25" VerticalAlignment="Center"/>
                                </StackPanel>

                                <ButtonEx x:Name="BackButton" Margin="0,0,10,10" VerticalAlignment="Center" HorizontalAlignment="Right" Style="{StaticResource IconBButton}" Content="{DynamicResource LOCBackLabel}" />
                            </StackPanel>

                            <Grid.Style>
                                <Style TargetType="Grid">
                                    <Style.Triggers>

                                        <EventTrigger RoutedEvent="Selector.SelectionChanged">
                                            <BeginStoryboard x:Name="FadeOnSelection" HandoffBehavior="SnapshotAndReplace">
                                                <Storyboard>
                                                    <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                                     To="1"
                                                                     Duration="0:0:0"/>
                                                    <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                                     To="0.15"
                                                                     BeginTime="0:0:3"
                                                                     Duration="0:0:0.6"/>
                                                    <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                                     To="0"
                                                                     BeginTime="0:0:10"
                                                                     Duration="0:0:0.6"/>
                                                </Storyboard>
                                            </BeginStoryboard>
                                        </EventTrigger>
                                        <DataTrigger Binding="{Binding ElementName=ThumbList, Path=SelectedItem.IsVideo}" Value="False">
                                            <DataTrigger.EnterActions>
                                                <StopStoryboard BeginStoryboardName="FadeOnSelection"/>
                                                <BeginStoryboard>
                                                    <Storyboard>
                                                        <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                                         To="1"
                                                                         Duration="0:0:0"/>
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </DataTrigger.EnterActions>
                                        </DataTrigger>

                                        <!-- Sécurité -->
                                        <DataTrigger Binding="{Binding ElementName=ThumbList, Path=SelectedItem}" Value="{x:Null}">
                                            <DataTrigger.EnterActions>
                                                <StopStoryboard BeginStoryboardName="FadeOnSelection"/>
                                                <BeginStoryboard>
                                                    <Storyboard>
                                                        <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                                         To="1"
                                                                         Duration="0:0:0"/>
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </DataTrigger.EnterActions>
                                        </DataTrigger>

                                    </Style.Triggers>
                                </Style>
                            </Grid.Style>

                        </Grid>

                    </Grid>
                    <ControlTemplate.Triggers>
                        <DataTrigger Binding="{Binding ElementName=ThumbList, Path=SelectedItem}" Value="{x:Null}">
                            <Setter TargetName="ViewerFrame" Property="Visibility" Value="Collapsed"/>
                        </DataTrigger>
                        <DataTrigger Binding="{Binding ElementName=ThumbList, Path=SelectedItem.IsVideo}" Value="True">
                            <Setter TargetName="Sounds_MusicControl" Property="Tag" Value="True"/>
                        </DataTrigger>

                        <DataTrigger Binding="{Binding ElementName=ThumbList, Path=SelectedItem.IsVideo}" Value="False">
                            <Setter TargetName="Sounds_MusicControl" Property="Tag" Value="False"/>
                        </DataTrigger>

                        <Trigger Property="IsVisible" Value="False">
                            <Setter TargetName="Sounds_MusicControl" Property="Tag" Value="False"/>
                        </Trigger>
                        <DataTrigger Binding="{Binding ElementName=ThumbList, Path=SelectedItem}" Value="{x:Null}">
                            <Setter TargetName="Sounds_MusicControl" Property="Tag" Value="False"/>
                        </DataTrigger>

                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>

        <Style.Triggers>
            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=AspectRatio}" Value="dsp1610">
                <Setter Property="Margin" Value="0,-60,0,-60"/>
            </DataTrigger>
            <DataTrigger Binding="{PluginSettings Plugin=ThemeOptions, Path=AspectRatio}" Value="dsp219">
                <Setter Property="Margin" Value="-320,0,-320,0"/>
            </DataTrigger>
        </Style.Triggers>
    </Style>


</ResourceDictionary>